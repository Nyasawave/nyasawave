[{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\admin\\artists\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\admin\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\admin\\users\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useCallback' is defined but never used.","line":5,"column":31,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":42},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'loading' is assigned a value but never used.","line":33,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":33,"endColumn":19},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchUsersCallback'. Either include it or remove the dependency array.","line":67,"column":8,"nodeType":"ArrayExpression","endLine":67,"endColumn":33,"suggestions":[{"desc":"Update the dependencies array to be: [filterRole, currentPage, fetchUsersCallback]","fix":{"range":[2249,2274],"text":"[filterRole, currentPage, fetchUsersCallback]"}}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":117,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":117,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":149,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":149,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useState, useEffect, useCallback } from 'react';\r\n\r\ninterface ConfirmDialog {\r\n    open: boolean;\r\n    action: 'ban' | 'unban' | 'role' | null;\r\n    userId: string;\r\n    userName: string;\r\n    newRole?: string;\r\n    reason?: string;\r\n}\r\n\r\ninterface User {\r\n    id: string;\r\n    name: string;\r\n    email: string;\r\n    role: 'ADMIN' | 'ARTIST' | 'USER';\r\n    createdAt?: string | Date;\r\n    banned?: boolean;\r\n    [key: string]: unknown;\r\n}\r\n\r\nexport default function UserManagement() {\r\n    const { user } = useAuth();\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [filterRole, setFilterRole] = useState<'all' | 'ADMIN' | 'ARTIST' | 'USER'>('all');\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [pagination, setPagination] = useState<{ total: number; pages: number; limit: number } | null>(null);\r\n    const [users, setUsers] = useState<User[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [actionLoading, setActionLoading] = useState<string | null>(null);\r\n    const [confirmDialog, setConfirmDialog] = useState<ConfirmDialog>({\r\n        open: false,\r\n        action: null,\r\n        userId: '',\r\n        userName: '',\r\n    });\r\n    const [banReason, setBanReason] = useState('');\r\n    const [notification, setNotification] = useState<{ type: 'success' | 'error'; message: string } | null>(null);\r\n\r\n    // Fetch users on mount or when filter changes\r\n    useEffect(() => {\r\n        setCurrentPage(1); // Reset to first page on filter change\r\n    }, [filterRole]);\r\n\r\n    const fetchUsersCallback = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const res = await fetch(`/api/admin/users?role=${filterRole}&page=${currentPage}&limit=10`);\r\n            const result = await res.json();\r\n            if (result.success) {\r\n                setUsers(result.data);\r\n                setPagination(result.pagination);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch users:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchUsersCallback();\r\n    }, [filterRole, currentPage]);\r\n\r\n    // Auto-dismiss notification\r\n    useEffect(() => {\r\n        if (notification) {\r\n            const timer = setTimeout(() => setNotification(null), 3000);\r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, [notification]);\r\n\r\n\r\n\r\n    const showConfirmDialog = (action: 'ban' | 'unban' | 'role', userId: string, userName: string, newRole?: string) => {\r\n        setConfirmDialog({\r\n            open: true,\r\n            action,\r\n            userId,\r\n            userName,\r\n            newRole,\r\n            reason: '',\r\n        });\r\n        setBanReason('');\r\n    };\r\n\r\n    const handleBanUser = async (userId: string, ban: boolean, reason?: string) => {\r\n        try {\r\n            setActionLoading(userId);\r\n            const res = await fetch('/api/admin/users/ban', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${localStorage.getItem('authToken')}`,\r\n                },\r\n                body: JSON.stringify({\r\n                    userId,\r\n                    banned: ban,\r\n                    reason: reason || (ban ? 'Banned by admin' : null),\r\n                }),\r\n            });\r\n            const result = await res.json();\r\n            if (result.success) {\r\n                setNotification({\r\n                    type: 'success',\r\n                    message: `User ${ban ? 'banned' : 'unbanned'} successfully`,\r\n                });\r\n                fetchUsersCallback();\r\n                setConfirmDialog({ ...confirmDialog, open: false });\r\n            } else {\r\n                setNotification({ type: 'error', message: result.error || 'Action failed' });\r\n            }\r\n        } catch (error) {\r\n            setNotification({ type: 'error', message: 'Failed to update user' });\r\n        } finally {\r\n            setActionLoading(null);\r\n        }\r\n    };\r\n\r\n    const handleChangeRole = async (userId: string, newRole: string) => {\r\n        try {\r\n            setActionLoading(userId);\r\n            const res = await fetch('/api/admin/users/role', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${localStorage.getItem('authToken')}`,\r\n                },\r\n                body: JSON.stringify({\r\n                    userId,\r\n                    newRole,\r\n                }),\r\n            });\r\n            const result = await res.json();\r\n            if (result.success) {\r\n                setNotification({\r\n                    type: 'success',\r\n                    message: `User role updated to ${newRole}`,\r\n                });\r\n                fetchUsersCallback();\r\n                setConfirmDialog({ ...confirmDialog, open: false });\r\n            } else {\r\n                setNotification({ type: 'error', message: result.error || 'Action failed' });\r\n            }\r\n        } catch (error) {\r\n            setNotification({ type: 'error', message: 'Failed to update user role' });\r\n        } finally {\r\n            setActionLoading(null);\r\n        }\r\n    };\r\n\r\n    const confirmAction = async () => {\r\n        if (!confirmDialog.open) return;\r\n\r\n        switch (confirmDialog.action) {\r\n            case 'ban':\r\n                await handleBanUser(confirmDialog.userId, true, banReason);\r\n                break;\r\n            case 'unban':\r\n                await handleBanUser(confirmDialog.userId, false);\r\n                break;\r\n            case 'role':\r\n                if (confirmDialog.newRole) {\r\n                    await handleChangeRole(confirmDialog.userId, confirmDialog.newRole);\r\n                }\r\n                break;\r\n        }\r\n    };\r\n\r\n    const filteredUsers = users.filter((u) =>\r\n        u.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        u.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n    if (!user || user.role !== 'ADMIN') {\r\n        return (\r\n            <main className=\"min-h-screen p-6 max-w-4xl mx-auto pt-32 text-center\">\r\n                <h1 className=\"text-3xl font-bold\">Admin Only</h1>\r\n                <p className=\"text-zinc-400 mt-4\">This page is restricted to administrators.</p>\r\n                <Link href=\"/\" className=\"text-emerald-400 mt-6 inline-block hover:underline\">\r\n                    Back to Home\r\n                </Link>\r\n            </main>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-gradient-to-b from-black via-zinc-900 to-black text-white pt-32 pb-20\">\r\n            <div className=\"max-w-7xl mx-auto px-6\">\r\n                {/* Header */}\r\n                <div className=\"flex justify-between items-start mb-8\">\r\n                    <div>\r\n                        <Link href=\"/admin\" className=\"text-zinc-400 hover:text-white mb-4 inline-block\">\r\n                            ÔåÉ Admin Dashboard\r\n                        </Link>\r\n                        <h1 className=\"text-3xl font-bold\">User Management</h1>\r\n                        <p className=\"text-zinc-400 mt-2\">Manage users, ban accounts, control roles</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Filters */}\r\n                <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800 mb-6\">\r\n                    <div className=\"grid md:grid-cols-2 gap-4\">\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"user-search\"\r\n                            placeholder=\"Search by name or email...\"\r\n                            value={searchTerm}\r\n                            onChange={(e) => setSearchTerm(e.target.value)}\r\n                            aria-label=\"Search users by name or email\"\r\n                            className=\"px-4 py-2 rounded-lg bg-zinc-800 border border-zinc-700 text-white placeholder-zinc-500 focus:border-emerald-500 focus:outline-none\"\r\n                        />\r\n                        <div className=\"flex gap-2\">\r\n                            {(['all', 'ADMIN', 'ARTIST', 'USER'] as const).map((role) => (\r\n                                <button\r\n                                    key={role}\r\n                                    onClick={() => setFilterRole(role)}\r\n                                    className={`px-3 py-2 rounded-lg text-sm font-semibold transition ${filterRole === role\r\n                                        ? 'bg-emerald-500 text-black'\r\n                                        : 'bg-zinc-800 text-zinc-400 hover:bg-zinc-700'\r\n                                        }`}\r\n                                >\r\n                                    {role === 'all' ? 'All' : role}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Users Table */}\r\n                <div className=\"bg-zinc-900 rounded-lg border border-zinc-800 overflow-hidden\">\r\n                    <div className=\"overflow-x-auto\">\r\n                        <table className=\"w-full text-sm\">\r\n                            <thead>\r\n                                <tr className=\"border-b border-zinc-800 bg-zinc-800/50\">\r\n                                    <th className=\"px-6 py-4 text-left font-semibold\">User</th>\r\n                                    <th className=\"px-6 py-4 text-left font-semibold\">Role</th>\r\n                                    <th className=\"px-6 py-4 text-left font-semibold\">Status</th>\r\n                                    <th className=\"px-6 py-4 text-left font-semibold\">Joined</th>\r\n                                    <th className=\"px-6 py-4 text-center font-semibold\">Actions</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {filteredUsers.map((u) => (\r\n                                    <tr key={u.id} className=\"border-b border-zinc-800 hover:bg-zinc-800/30 transition\">\r\n                                        <td className=\"px-6 py-4\">\r\n                                            <div>\r\n                                                <p className=\"font-semibold\">{u.name}</p>\r\n                                                <p className=\"text-xs text-zinc-500\">{u.email}</p>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4\">\r\n                                            <select\r\n                                                id={`user-role-${u.id}`}\r\n                                                value={u.role}\r\n                                                onChange={(e) => showConfirmDialog('role', u.id, u.name, e.target.value)}\r\n                                                disabled={actionLoading === u.id}\r\n                                                aria-label={`Role for user ${u.name}`}\r\n                                                className=\"bg-zinc-800 border border-zinc-700 rounded px-2 py-1 text-sm text-white focus:border-emerald-500 focus:outline-none disabled:opacity-50\"\r\n                                            >\r\n                                                <option value={u.role}>{u.role}</option>\r\n                                                <option value=\"USER\">User</option>\r\n                                                <option value=\"ARTIST\">Artist</option>\r\n                                                <option value=\"ADMIN\">Admin</option>\r\n                                            </select>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4\">\r\n                                            <span\r\n                                                className={`text-xs font-bold px-2 py-1 rounded ${u.banned\r\n                                                    ? 'bg-red-500/20 text-red-400'\r\n                                                    : 'bg-emerald-500/20 text-emerald-400'\r\n                                                    }`}\r\n                                            >\r\n                                                {u.banned ? 'Banned' : 'Active'}\r\n                                            </span>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 text-xs text-zinc-500\">\r\n                                            {u.createdAt && typeof u.createdAt === 'string' ? new Date(u.createdAt).toLocaleDateString() : 'N/A'}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 text-center\">\r\n                                            <button\r\n                                                onClick={() => showConfirmDialog(u.banned ? 'unban' : 'ban', u.id, u.name)}\r\n                                                disabled={actionLoading === u.id}\r\n                                                className={`text-xs px-3 py-1 rounded transition disabled:opacity-50 ${u.banned\r\n                                                    ? 'bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/40'\r\n                                                    : 'bg-red-500/20 text-red-400 hover:bg-red-500/40'\r\n                                                    }`}\r\n                                            >\r\n                                                {actionLoading === u.id ? 'Loading...' : u.banned ? 'Unban' : 'Ban'}\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Pagination */}\r\n                {pagination && pagination.pages > 1 && (\r\n                    <div className=\"mt-6 flex items-center justify-between\">\r\n                        <span className=\"text-sm text-zinc-400\">\r\n                            Page {currentPage} of {pagination.pages} ({pagination.total} total)\r\n                        </span>\r\n                        <div className=\"flex gap-2\">\r\n                            <button\r\n                                onClick={() => setCurrentPage(Math.max(1, currentPage - 1))}\r\n                                disabled={currentPage === 1}\r\n                                className=\"px-3 py-2 rounded bg-zinc-800 hover:bg-zinc-700 disabled:opacity-50 text-sm font-semibold\"\r\n                            >\r\n                                ÔåÉ Previous\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setCurrentPage(Math.min(pagination.pages, currentPage + 1))}\r\n                                disabled={currentPage === pagination.pages}\r\n                                className=\"px-3 py-2 rounded bg-zinc-800 hover:bg-zinc-700 disabled:opacity-50 text-sm font-semibold\"\r\n                            >\r\n                                Next ÔåÆ\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Stats */}\r\n                <div className=\"grid md:grid-cols-4 gap-6 mt-8\">\r\n                    <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                        <p className=\"text-zinc-400 text-sm\">Total Users</p>\r\n                        <p className=\"text-4xl font-bold mt-2\">{users.length}</p>\r\n                    </div>\r\n                    <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                        <p className=\"text-zinc-400 text-sm\">Admins</p>\r\n                        <p className=\"text-4xl font-bold mt-2 text-blue-400\">{users.filter((u) => u.role === 'ADMIN').length}</p>\r\n                    </div>\r\n                    <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                        <p className=\"text-zinc-400 text-sm\">Artists</p>\r\n                        <p className=\"text-4xl font-bold mt-2 text-emerald-400\">{users.filter((u) => u.role === 'ARTIST').length}</p>\r\n                    </div>\r\n                    <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                        <p className=\"text-zinc-400 text-sm\">Banned</p>\r\n                        <p className=\"text-4xl font-bold mt-2 text-red-400\">{users.filter((u) => u.banned).length}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {/* Confirmation Dialog & Notification */}\r\n            {confirmDialog.open && (\r\n                <div className=\"fixed inset-0 flex items-center justify-center bg-black/50\">\r\n                    <div className=\"bg-zinc-900 rounded-lg p-6 w-[420px] border border-zinc-800\">\r\n                        <h3 className=\"text-lg font-bold mb-2\">Confirm Action</h3>\r\n                        <p className=\"text-zinc-400 mb-4\">Are you sure you want to {confirmDialog.action} <strong>{confirmDialog.userName}</strong>?</p>\r\n                        {confirmDialog.action === 'ban' && (\r\n                            <div className=\"mb-4\">\r\n                                <label className=\"text-sm text-zinc-400\">Reason (optional)</label>\r\n                                <input\r\n                                    id=\"ban-reason\"\r\n                                    type=\"text\"\r\n                                    value={banReason}\r\n                                    onChange={(e) => setBanReason(e.target.value)}\r\n                                    placeholder=\"Optional: reason for ban\"\r\n                                    aria-label=\"Reason for banning user\"\r\n                                    className=\"w-full mt-2 px-3 py-2 bg-zinc-800 border border-zinc-700 rounded text-white\"\r\n                                />\r\n                            </div>\r\n                        )}\r\n                        <div className=\"flex justify-end gap-2\">\r\n                            <button onClick={() => setConfirmDialog({ ...confirmDialog, open: false })} className=\"px-3 py-2 rounded bg-zinc-800 hover:bg-zinc-700\">Cancel</button>\r\n                            <button onClick={confirmAction} className=\"px-3 py-2 rounded bg-red-600 hover:bg-red-500 text-white\">Confirm</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {notification && (\r\n                <div className={`fixed bottom-6 right-6 p-4 rounded shadow-lg ${notification.type === 'success' ? 'bg-emerald-600' : 'bg-red-600'} text-white`}>{notification.message}</div>\r\n            )}\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\analytics\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\admin\\artists\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\admin\\artists\\verify\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\admin\\audit\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\admin\\financial\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'streamRate' is assigned a value but never used.","line":202,"column":47,"nodeType":null,"messageId":"unusedVar","endLine":202,"endColumn":57}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\nimport { readFileSync, writeFileSync, existsSync } from 'fs';\r\nimport { join } from 'path';\r\nimport jwt from 'jsonwebtoken';\r\nimport type { User } from '@/types';\r\n\r\ntype RevenueData = { artistId: string; amount: number; date: string };\r\ntype WithdrawalData = { artistId: string; amount: number; status: string; date: string };\r\ntype StreamData = { trackId: string; streams: number; date: string };\r\n\r\nconst DATA_DIR = join(process.cwd(), 'data');\r\n\r\nfunction isAdmin(email: string): boolean {\r\n    return email === process.env.ADMIN_EMAIL;\r\n}\r\n\r\nfunction loadUsers(): User[] {\r\n    const file = join(DATA_DIR, 'users.json');\r\n    if (!existsSync(file)) return [];\r\n    return JSON.parse(readFileSync(file, 'utf-8'));\r\n}\r\n\r\nfunction loadRevenue(): RevenueData[] {\r\n    const file = join(DATA_DIR, 'revenue.json');\r\n    if (!existsSync(file)) return [];\r\n    return JSON.parse(readFileSync(file, 'utf-8'));\r\n}\r\n\r\nfunction loadWithdrawals(): WithdrawalData[] {\r\n    const file = join(DATA_DIR, 'withdrawals.json');\r\n    if (!existsSync(file)) return [];\r\n    return JSON.parse(readFileSync(file, 'utf-8'));\r\n}\r\n\r\nfunction loadStreams(): StreamData[] {\r\n    const file = join(DATA_DIR, 'streams.json');\r\n    if (!existsSync(file)) return [];\r\n    return JSON.parse(readFileSync(file, 'utf-8'));\r\n}\r\n\r\nfunction loadTracks(): any[] {\r\n    const file = join(DATA_DIR, 'songs.json');\r\n    if (!existsSync(file)) return [];\r\n    return JSON.parse(readFileSync(file, 'utf-8'));\r\n}\r\n\r\nfunction saveWithdrawals(withdrawals: any[]) {\r\n    const file = join(DATA_DIR, 'withdrawals.json');\r\n    writeFileSync(file, JSON.stringify(withdrawals, null, 2));\r\n}\r\n\r\nexport async function GET(req: NextRequest) {\r\n    try {\r\n        const token = req.headers.get('Authorization')?.replace('Bearer ', '');\r\n        if (!token) {\r\n            return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\r\n        }\r\n\r\n        const decoded = jwt.verify(token, process.env.JWT_SECRET || 'default-secret') as any;\r\n        const user = loadUsers().find((u: any) => u.id === decoded.userId);\r\n\r\n        if (!user || !isAdmin(user.email)) {\r\n            return NextResponse.json({ error: 'Forbidden: Admin only' }, { status: 403 });\r\n        }\r\n\r\n        const reportType = req.nextUrl.searchParams.get('type'); // 'summary', 'revenue', 'payouts', 'users'\r\n\r\n        const revenue = loadRevenue();\r\n        const withdrawals = loadWithdrawals();\r\n        const users = loadUsers();\r\n        const streams = loadStreams();\r\n        const tracks = loadTracks();\r\n\r\n        if (reportType === 'summary') {\r\n            const totalRevenue = revenue.reduce((sum: number, r: any) => sum + r.amount, 0);\r\n            const totalWithdrawn = withdrawals\r\n                .filter((w: any) => w.status === 'COMPLETED')\r\n                .reduce((sum: number, w: any) => sum + w.amount, 0);\r\n            const availableBalance = totalRevenue - totalWithdrawn;\r\n\r\n            return NextResponse.json({\r\n                ok: true,\r\n                summary: {\r\n                    totalRevenue: totalRevenue.toFixed(2),\r\n                    totalWithdrawn: totalWithdrawn.toFixed(2),\r\n                    availableBalance: availableBalance.toFixed(2),\r\n                    activeArtists: users.filter((u: any) => u.role === 'ARTIST').length,\r\n                    activeListeners: users.filter((u: any) => u.role === 'LISTENER').length,\r\n                    totalStreams: streams.length,\r\n                    validStreams: streams.filter((s: any) => s.isValid).length,\r\n                    totalTracks: tracks.length,\r\n                },\r\n            });\r\n        }\r\n\r\n        if (reportType === 'revenue') {\r\n            const bySource: any = {};\r\n            revenue.forEach((r: any) => {\r\n                bySource[r.source] = (bySource[r.source] || 0) + r.amount;\r\n            });\r\n\r\n            const recentRevenue = revenue.slice(-50).reverse();\r\n\r\n            return NextResponse.json({\r\n                ok: true,\r\n                revenue: {\r\n                    bySource,\r\n                    total: revenue.reduce((sum: number, r: any) => sum + r.amount, 0).toFixed(2),\r\n                    recent: recentRevenue,\r\n                },\r\n            });\r\n        }\r\n\r\n        if (reportType === 'payouts') {\r\n            const byStatus: any = {};\r\n            withdrawals.forEach((w: any) => {\r\n                byStatus[w.status] = (byStatus[w.status] || 0) + 1;\r\n            });\r\n\r\n            const pendingPayouts = withdrawals.filter((w: any) => w.status === 'PENDING');\r\n            const totalPending = pendingPayouts.reduce((sum: number, w: any) => sum + w.amount, 0);\r\n\r\n            return NextResponse.json({\r\n                ok: true,\r\n                payouts: {\r\n                    byStatus,\r\n                    totalPending: totalPending.toFixed(2),\r\n                    pendingCount: pendingPayouts.length,\r\n                    recent: withdrawals.slice(-50).reverse(),\r\n                },\r\n            });\r\n        }\r\n\r\n        if (reportType === 'users') {\r\n            const artistCount = users.filter((u: any) => u.role === 'ARTIST').length;\r\n            const listenerCount = users.filter((u: any) => u.role === 'LISTENER').length;\r\n            const businessCount = users.filter((u: any) => u.role === 'BUSINESS').length;\r\n\r\n            return NextResponse.json({\r\n                ok: true,\r\n                users: {\r\n                    totalUsers: users.length,\r\n                    artists: artistCount,\r\n                    listeners: listenerCount,\r\n                    businesses: businessCount,\r\n                    banned: users.filter((u: any) => u.isBanned).length,\r\n                    recent: users.slice(-50).reverse(),\r\n                },\r\n            });\r\n        }\r\n\r\n        // Default: full dashboard\r\n        const totalRevenue = revenue.reduce((sum: number, r: any) => sum + r.amount, 0);\r\n        const totalWithdrawn = withdrawals\r\n            .filter((w: any) => w.status === 'COMPLETED')\r\n            .reduce((sum: number, w: any) => sum + w.amount, 0);\r\n\r\n        return NextResponse.json({\r\n            ok: true,\r\n            dashboard: {\r\n                summary: {\r\n                    totalRevenue: totalRevenue.toFixed(2),\r\n                    totalWithdrawn: totalWithdrawn.toFixed(2),\r\n                    availableBalance: (totalRevenue - totalWithdrawn).toFixed(2),\r\n                    activeArtists: users.filter((u: any) => u.role === 'ARTIST').length,\r\n                    totalStreams: streams.filter((s: any) => s.isValid).length,\r\n                },\r\n                topArtists: users\r\n                    .filter((u: any) => u.role === 'ARTIST')\r\n                    .map((a: any) => ({\r\n                        name: a.name,\r\n                        id: a.id,\r\n                        totalEarnings: revenue.filter((r: any) => r.artistId === a.id).reduce((sum: number, r: any) => sum + r.amount, 0),\r\n                    }))\r\n                    .sort((a: any, b: any) => b.totalEarnings - a.totalEarnings)\r\n                    .slice(0, 10),\r\n                recentTransactions: revenue.slice(-20).reverse(),\r\n                pendingWithdrawals: withdrawals.filter((w: any) => w.status === 'PENDING'),\r\n            },\r\n        });\r\n    } catch (error) {\r\n        console.error('[ADMIN DASHBOARD ERROR]', error);\r\n        return NextResponse.json({ error: 'Failed to fetch dashboard' }, { status: 500 });\r\n    }\r\n}\r\n\r\nexport async function PATCH(req: NextRequest) {\r\n    try {\r\n        const token = req.headers.get('Authorization')?.replace('Bearer ', '');\r\n        if (!token) {\r\n            return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\r\n        }\r\n\r\n        const decoded = jwt.verify(token, process.env.JWT_SECRET || 'default-secret') as any;\r\n        const user = loadUsers().find((u: any) => u.id === decoded.userId);\r\n\r\n        if (!user || !isAdmin(user.email)) {\r\n            return NextResponse.json({ error: 'Forbidden: Admin only' }, { status: 403 });\r\n        }\r\n\r\n        const body = await req.json();\r\n        const { action, withdrawalId, status, streamRate } = body;\r\n\r\n        // Approve/reject withdrawal\r\n        if (action === 'process_withdrawal') {\r\n            const withdrawals = loadWithdrawals();\r\n            const withdrawal = withdrawals.find((w: any) => w.id === withdrawalId);\r\n\r\n            if (!withdrawal) {\r\n                return NextResponse.json({ error: 'Withdrawal not found' }, { status: 404 });\r\n            }\r\n\r\n            if (!['APPROVED', 'REJECTED'].includes(status)) {\r\n                return NextResponse.json({ error: 'Invalid status' }, { status: 400 });\r\n            }\r\n\r\n            withdrawal.status = status;\r\n            withdrawal.processedAt = new Date().toISOString();\r\n            saveWithdrawals(withdrawals);\r\n\r\n            return NextResponse.json({\r\n                ok: true,\r\n                withdrawal,\r\n                message: `Withdrawal ${status.toLowerCase()}`,\r\n            });\r\n        }\r\n\r\n        return NextResponse.json({ error: 'Invalid action' }, { status: 400 });\r\n    } catch (error) {\r\n        console.error('[ADMIN ACTION ERROR]', error);\r\n        return NextResponse.json({ error: 'Failed to process action' }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\admin\\kyc\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\admin\\stats\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\admin\\users\\ban\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\admin\\users\\role\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'user' is assigned a value but never used.","line":34,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":34,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\nimport { verifyToken } from '@/lib/auth';\r\nimport { prisma } from '@/lib/db';\r\n\r\n/**\r\n * POST /api/admin/users/role\r\n * Update a user's role\r\n * Admin only\r\n */\r\nexport async function POST(req: NextRequest) {\r\n    try {\r\n        // Verify admin token\r\n        const authHeader = req.headers.get('authorization');\r\n        const token = authHeader?.replace('Bearer ', '');\r\n\r\n        if (!token) {\r\n            return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\r\n        }\r\n\r\n        const payload = verifyToken(token);\r\n        if (!payload || payload.role !== 'ADMIN') {\r\n            return NextResponse.json({ error: 'Forbidden' }, { status: 403 });\r\n        }\r\n\r\n        const { userId, newRole } = await req.json();\r\n\r\n        if (!userId || !['admin', 'artist', 'fan'].includes(newRole)) {\r\n            return NextResponse.json({ error: 'Invalid request' }, { status: 400 });\r\n        }\r\n\r\n        // Normalize role to Prisma enum (uppercase)\r\n        const normalized = String(newRole).toUpperCase();\r\n\r\n        const user = await prisma.user.update({\r\n            where: { id: userId },\r\n            data: { role: normalized as any },\r\n        });\r\n\r\n        // Create audit log\r\n        await prisma.auditLog.create({\r\n            data: {\r\n                adminId: payload.userId,\r\n                action: 'update_role',\r\n                target: userId,\r\n                targetType: 'user',\r\n                details: { newRole: normalized },\r\n            },\r\n        });\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            message: 'User role updated successfully',\r\n            userId,\r\n            newRole: normalized,\r\n        });\r\n    } catch (error) {\r\n        console.error('Error updating user role:', error);\r\n        return NextResponse.json({ error: 'Internal server error' }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\admin\\users\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\albums\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":13,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport { albums } from '@/data/albums';\r\n\r\nexport async function GET() {\r\n  return NextResponse.json(albums);\r\n}\r\n\r\nexport async function POST(req: Request) {\r\n  try {\r\n    const newAlbum = await req.json();\r\n    const id = `album-${Date.now()}`;\r\n    return NextResponse.json({ ...newAlbum, id });\r\n  } catch (error) {\r\n    return NextResponse.json({ error: 'Invalid request' }, { status: 400 });\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\artist\\ads\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\artist\\analytics\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\artist\\boost\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":15,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport { songs } from '../../../../data/songs';\r\n\r\nexport async function POST(req: Request) {\r\n    try {\r\n        const body = await req.json();\r\n        const { songId, hours } = body;\r\n        const song = songs.find((s) => s.id === songId);\r\n        if (!song) return NextResponse.json({ error: 'Song not found' }, { status: 404 });\r\n        const now = new Date();\r\n        const expire = new Date(now.getTime() + (Number(hours) || 24) * 60 * 60 * 1000);\r\n        song.isBoosted = true;\r\n        song.boostExpiresAt = expire.toISOString();\r\n        return NextResponse.json({ ok: true, song });\r\n    } catch (err) {\r\n        return NextResponse.json({ error: 'Invalid request' }, { status: 400 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\artist\\copyright-check.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\artist\\download-track.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AUDIO_DIR' is assigned a value but never used.","line":6,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":11,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\nconst DB = path.join(process.cwd(), 'data', 'tracks.json');\r\nconst AUDIO_DIR = path.join(process.cwd(), 'public', 'audio');\r\n\r\nfunction readTracks() {\r\n  try {\r\n    return JSON.parse(fs.readFileSync(DB, 'utf-8')) || [];\r\n  } catch (e) {\r\n    return [];\r\n  }\r\n}\r\n\r\nexport async function GET(req: Request) {\r\n  try {\r\n    const url = new URL(req.url);\r\n    const trackId = url.searchParams.get('trackId');\r\n\r\n    if (!trackId) {\r\n      return NextResponse.json(\r\n        { error: 'Missing track ID' },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const tracks = readTracks();\r\n    const track = tracks.find((t: any) => t.id === trackId);\r\n\r\n    if (!track) {\r\n      return NextResponse.json(\r\n        { error: 'Track not found' },\r\n        { status: 404 }\r\n      );\r\n    }\r\n\r\n    if (!track.playable) {\r\n      return NextResponse.json(\r\n        { error: 'Track is not available for download' },\r\n        { status: 403 }\r\n      );\r\n    }\r\n\r\n    // Create a synthetic audio file response for demo\r\n    // In production, you would serve the actual uploaded file\r\n    const audioBuffer = Buffer.from(\r\n      `Audio data for: ${track.title} by ${track.artist}`\r\n    );\r\n\r\n    return new NextResponse(audioBuffer, {\r\n      headers: {\r\n        'Content-Type': 'audio/mpeg',\r\n        'Content-Disposition': `attachment; filename=\"${track.title.replace(/[^a-z0-9]/gi, '_')}.mp3\"`,\r\n        'Content-Length': audioBuffer.length.toString(),\r\n      },\r\n    });\r\n  } catch (err) {\r\n    console.error('Download error:', err);\r\n    return NextResponse.json(\r\n      { error: 'Download failed' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\artist\\earnings.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":13,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\nconst DB = path.join(process.cwd(), 'data', 'earnings.json');\r\n\r\nfunction readEarnings() {\r\n  try {\r\n    if (!fs.existsSync(DB)) {\r\n      return {};\r\n    }\r\n    return JSON.parse(fs.readFileSync(DB, 'utf-8')) || {};\r\n  } catch (e) {\r\n    return {};\r\n  }\r\n}\r\n\r\nfunction writeEarnings(earnings: any) {\r\n  const dir = path.dirname(DB);\r\n  if (!fs.existsSync(dir)) {\r\n    fs.mkdirSync(dir, { recursive: true });\r\n  }\r\n  fs.writeFileSync(DB, JSON.stringify(earnings, null, 2));\r\n}\r\n\r\nexport async function GET(req: Request) {\r\n  try {\r\n    const url = new URL(req.url);\r\n    const artistId = url.searchParams.get('artistId');\r\n\r\n    if (!artistId) {\r\n      return NextResponse.json({ error: 'Artist ID required' }, { status: 400 });\r\n    }\r\n\r\n    const earnings = readEarnings();\r\n    const artistEarnings = earnings[artistId] || {\r\n      totalEarnings: 0,\r\n      totalStreams: 0,\r\n      estimatedMonthlyEarnings: 0,\r\n      recentTransactions: [],\r\n    };\r\n\r\n    return NextResponse.json(artistEarnings);\r\n  } catch (err) {\r\n    console.error('Fetch earnings error:', err);\r\n    return NextResponse.json({ error: 'Failed to fetch earnings' }, { status: 500 });\r\n  }\r\n}\r\n\r\nexport async function POST(req: Request) {\r\n  try {\r\n    const body = await req.json();\r\n    const { artistId, amount, type } = body;\r\n\r\n    if (!artistId) {\r\n      return NextResponse.json({ error: 'Artist ID required' }, { status: 400 });\r\n    }\r\n\r\n    const earnings = readEarnings();\r\n\r\n    if (!earnings[artistId]) {\r\n      earnings[artistId] = {\r\n        totalEarnings: 0,\r\n        totalStreams: 0,\r\n        estimatedMonthlyEarnings: 0,\r\n        recentTransactions: [],\r\n      };\r\n    }\r\n\r\n    earnings[artistId].totalEarnings += amount || 0;\r\n    earnings[artistId].recentTransactions.push({\r\n      description: type || 'Stream royalty',\r\n      amount: amount || 0,\r\n      date: new Date().toISOString(),\r\n    });\r\n\r\n    writeEarnings(earnings);\r\n\r\n    return NextResponse.json({ success: true, earnings: earnings[artistId] });\r\n  } catch (err) {\r\n    console.error('Update earnings error:', err);\r\n    return NextResponse.json({ error: 'Failed to update earnings' }, { status: 500 });\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\artist\\earnings\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\artist\\kyc\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\artist\\releases.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":13,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\nconst DB = path.join(process.cwd(), 'data', 'tracks.json');\r\n\r\nfunction readTracks() {\r\n  try {\r\n    if (!fs.existsSync(DB)) {\r\n      return [];\r\n    }\r\n    return JSON.parse(fs.readFileSync(DB, 'utf-8')) || [];\r\n  } catch (e) {\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction writeTracks(tracks: any[]) {\r\n  fs.writeFileSync(DB, JSON.stringify(tracks, null, 2));\r\n}\r\n\r\nexport async function GET(req: Request) {\r\n  try {\r\n    const url = new URL(req.url);\r\n    const artistId = url.searchParams.get('artistId');\r\n\r\n    const tracks = readTracks();\r\n\r\n    if (!artistId) {\r\n      return NextResponse.json(tracks);\r\n    }\r\n\r\n    // Filter by artistId - only return tracks owned by this artist\r\n    const filteredTracks = tracks.filter((track: any) => track.artistId === artistId);\r\n    return NextResponse.json(filteredTracks);\r\n  } catch (err) {\r\n    console.error('Fetch tracks error:', err);\r\n    return NextResponse.json({ error: 'Failed to fetch tracks' }, { status: 500 });\r\n  }\r\n}\r\n\r\nexport async function POST(req: Request) {\r\n  try {\r\n    const body = await req.json();\r\n    const { action, songId, scheduledAt, hours, artistId, ...trackData } = body;\r\n\r\n    const tracks = readTracks();\r\n\r\n    // Handle upload\r\n    if (action === 'upload') {\r\n      const newTrack = {\r\n        id: `track_${Date.now()}`,\r\n        ...trackData,\r\n        plays: 0,\r\n        likes: 0,\r\n        uploadedAt: new Date().toISOString(),\r\n      };\r\n      tracks.push(newTrack);\r\n      writeTracks(tracks);\r\n      return NextResponse.json({ ok: true, track: newTrack });\r\n    }\r\n\r\n    // Handle schedule\r\n    if (action === 'schedule') {\r\n      const track = tracks.find((t: any) => t.id === songId && t.artistId === artistId);\r\n      if (!track) return NextResponse.json({ error: 'Track not found' }, { status: 404 });\r\n      track.scheduledAt = scheduledAt;\r\n      writeTracks(tracks);\r\n      return NextResponse.json({ ok: true, track });\r\n    }\r\n\r\n    // Handle boost\r\n    if (action === 'boost') {\r\n      const track = tracks.find((t: any) => t.id === songId && t.artistId === artistId);\r\n      if (!track) return NextResponse.json({ error: 'Track not found' }, { status: 404 });\r\n      const now = new Date();\r\n      const expire = new Date(now.getTime() + (Number(hours) || 24) * 60 * 60 * 1000);\r\n      track.isBoosted = true;\r\n      track.boostExpiresAt = expire.toISOString();\r\n      writeTracks(tracks);\r\n      return NextResponse.json({ ok: true, track });\r\n    }\r\n\r\n    return NextResponse.json({ error: 'Invalid action' }, { status: 400 });\r\n  } catch (err) {\r\n    console.error('POST error:', err);\r\n    return NextResponse.json({ error: 'Failed to process request' }, { status: 500 });\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\artist\\releases\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'saveFile' is defined but never used.","line":48,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":48,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport { songs } from '../../../../data/songs';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\nimport crypto from 'crypto';\r\nimport { verifyToken } from '@/lib/auth';\r\n\r\nconst songsFile = path.join(process.cwd(), 'data', 'uploaded-songs.json');\r\nconst uploadsDir = path.join(process.cwd(), 'public', 'uploads');\r\n\r\nfunction ensureFile() {\r\n  const dir = path.dirname(songsFile);\r\n  if (!fs.existsSync(dir)) {\r\n    fs.mkdirSync(dir, { recursive: true });\r\n  }\r\n  if (!fs.existsSync(songsFile)) {\r\n    fs.writeFileSync(songsFile, JSON.stringify([]));\r\n  }\r\n}\r\n\r\nfunction ensureUploadsDir() {\r\n  if (!fs.existsSync(uploadsDir)) {\r\n    fs.mkdirSync(uploadsDir, { recursive: true });\r\n  }\r\n}\r\n\r\nfunction getUploadedSongs() {\r\n  try {\r\n    ensureFile();\r\n    const data = fs.readFileSync(songsFile, 'utf-8');\r\n    return JSON.parse(data) || [];\r\n  } catch (e) {\r\n    console.error('Read songs error:', e);\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction saveSongs(uploadedSongs: any[]) {\r\n  try {\r\n    ensureFile();\r\n    fs.writeFileSync(songsFile, JSON.stringify(uploadedSongs, null, 2));\r\n    console.log('Ô£ô Songs saved. Total:', uploadedSongs.length);\r\n  } catch (e) {\r\n    console.error('Save songs error:', e);\r\n  }\r\n}\r\n\r\nasync function saveFile(buffer: Buffer, filename: string): Promise<string> {\r\n  ensureUploadsDir();\r\n  const filepath = path.join(uploadsDir, filename);\r\n  fs.writeFileSync(filepath, buffer);\r\n  return `/uploads/${filename}`;\r\n}\r\n\r\nexport async function GET(req: Request) {\r\n  try {\r\n    const url = new URL(req.url);\r\n    const artistId = url.searchParams.get('artistId');\r\n\r\n    // Get both default songs and uploaded songs\r\n    const uploadedSongs = getUploadedSongs();\r\n    const allSongs = [...songs, ...uploadedSongs];\r\n\r\n    const filtered = artistId ? allSongs.filter((s: any) => s.artistId === artistId) : allSongs;\r\n    console.log('GET releases:', artistId, 'found:', filtered.length);\r\n    return NextResponse.json(filtered);\r\n  } catch (err) {\r\n    console.error('GET error:', err);\r\n    return NextResponse.json({ error: 'Failed to load songs' }, { status: 500 });\r\n  }\r\n}\r\n\r\nexport async function POST(req: Request) {\r\n  try {\r\n    // Verify artist auth\r\n    const authHeader = req.headers.get('authorization');\r\n    const token = authHeader?.replace('Bearer ', '');\r\n    let artistId: string | null = null;\r\n\r\n    if (token) {\r\n      const payload = verifyToken(token);\r\n      if (payload?.role === 'ARTIST') {\r\n        artistId = payload.userId;\r\n      }\r\n    }\r\n\r\n    const body = await req.json();\r\n    const { action, songId, scheduledAt, title, artist, artistId: bodyArtistId, albumName, genre, description, composer, producer, releaseDate, duration, copyrightHolder, isOriginal, copyrightStatus } = body;\r\n    if (action === 'upload') {\r\n      // Require auth for uploads\r\n      if (!artistId && !bodyArtistId) {\r\n        return NextResponse.json(\r\n          { error: 'Authentication required to upload' },\r\n          { status: 401 }\r\n        );\r\n      }\r\n\r\n      console.log('Upload action:', title, artist, bodyArtistId || artistId);\r\n\r\n      if (!title || !artist || (!bodyArtistId && !artistId)) {\r\n        return NextResponse.json(\r\n          { error: 'Missing required: title, artist, artistId' },\r\n          { status: 400 }\r\n        );\r\n      }\r\n\r\n      // Parse duration MM:SS to seconds\r\n      let durationSeconds = 180;\r\n      if (duration) {\r\n        const parts = duration.split(':');\r\n        if (parts.length === 2) {\r\n          durationSeconds = parseInt(parts[0]) * 60 + parseInt(parts[1]);\r\n        }\r\n      }\r\n\r\n      // Create song\r\n      const song = {\r\n        id: crypto.randomBytes(8).toString('hex'),\r\n        title,\r\n        artist,\r\n        artistId: bodyArtistId || artistId,\r\n        album: albumName || 'Unknown Album',\r\n        genre: genre || 'Unknown',\r\n        src: '/audio/uploaded.mp3',\r\n        streamUrl: '/audio/uploaded.mp3',\r\n        cover: '/covers/default.jpg',\r\n        duration: durationSeconds,\r\n        plays: 0,\r\n        likes: 0,\r\n        description: description || '',\r\n        composer: composer || '',\r\n        producer: producer || '',\r\n        releaseDate: releaseDate || '',\r\n        copyrightHolder: copyrightHolder || artist || 'Unknown',\r\n        isOriginal: isOriginal !== false,\r\n        copyrightStatus: copyrightStatus || 'unchecked',\r\n        createdAt: new Date().toISOString(),\r\n        uploadedAt: new Date().toLocaleDateString(),\r\n        visible: true,\r\n        playable: true,\r\n      };\r\n\r\n      const uploadedSongs = getUploadedSongs();\r\n      uploadedSongs.push(song);\r\n      saveSongs(uploadedSongs);\r\n\r\n      console.log('Ô£ô Song uploaded:', song.id, song.title);\r\n\r\n      return NextResponse.json({ ok: true, song, message: 'Track uploaded successfully!' });\r\n    }\r\n\r\n    // Handle schedule action\r\n    if (action === 'schedule' || scheduledAt) {\r\n      let song = songs.find((s) => s.id === songId);\r\n\r\n      if (!song) {\r\n        const uploadedSongs = getUploadedSongs();\r\n        song = uploadedSongs.find((s: any) => s.id === songId);\r\n\r\n        if (song) {\r\n          song.scheduledAt = scheduledAt;\r\n          saveSongs(uploadedSongs);\r\n        }\r\n      } else {\r\n        song.scheduledAt = scheduledAt;\r\n      }\r\n\r\n      if (!song) {\r\n        return NextResponse.json({ error: 'Song not found' }, { status: 404 });\r\n      }\r\n\r\n      return NextResponse.json({ ok: true, song });\r\n    }\r\n\r\n    return NextResponse.json({ error: 'Invalid action' }, { status: 400 });\r\n  } catch (err) {\r\n    console.error('POST error:', err);\r\n    return NextResponse.json({ error: 'Invalid request' }, { status: 400 });\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\artist\\upload.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\artist\\withdraw\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\artists\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":13,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport { artists } from '@/data/artists';\r\n\r\nexport async function GET() {\r\n  return NextResponse.json(artists);\r\n}\r\n\r\nexport async function POST(req: Request) {\r\n  try {\r\n    const newArtist = await req.json();\r\n    const id = `artist-${Date.now()}`;\r\n    return NextResponse.json({ ...newArtist, id });\r\n  } catch (error) {\r\n    return NextResponse.json({ error: 'Invalid request' }, { status: 400 });\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\auth\\forgot\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":8,"column":94,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":95}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\nimport crypto from 'crypto';\r\n\r\nconst DB = path.join(process.cwd(), 'data', 'users.json');\r\n\r\nfunction readUsers() { try { return JSON.parse(fs.readFileSync(DB, 'utf-8')) || []; } catch (e) { return []; } }\r\nfunction writeUsers(users: any[]) { fs.writeFileSync(DB, JSON.stringify(users, null, 2)); }\r\n\r\nexport async function POST(req: Request) {\r\n  const { email } = await req.json();\r\n  if (!email) return NextResponse.json({ error: 'Missing email' }, { status: 400 });\r\n\r\n  const users = readUsers();\r\n  const user = users.find((u: any) => u.email === email);\r\n  if (!user) return NextResponse.json({ ok: true });\r\n\r\n  // create a reset token (in a real app you'd email this)\r\n  const resetToken = crypto.randomBytes(12).toString('hex');\r\n  user.resetToken = resetToken;\r\n  writeUsers(users);\r\n\r\n  // Return the token in the response only for demo purposes\r\n  return NextResponse.json({ ok: true, resetToken });\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\auth\\login\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":11,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\nimport { comparePassword, generateToken } from '@/lib/auth';\r\n\r\nconst DB = path.join(process.cwd(), 'data', 'users.json');\r\n\r\nfunction readUsers() {\r\n  try {\r\n    return JSON.parse(fs.readFileSync(DB, 'utf-8')) || [];\r\n  } catch (e) {\r\n    return [];\r\n  }\r\n}\r\n\r\nexport async function POST(req: Request) {\r\n  try {\r\n    const body = await req.json();\r\n    const { email, password } = body;\r\n\r\n    if (!email || !password) {\r\n      return NextResponse.json({ error: 'Missing email or password' }, { status: 400 });\r\n    }\r\n\r\n    const users = readUsers();\r\n    const user = users.find((u: any) => u.email === email);\r\n\r\n    if (!user) {\r\n      return NextResponse.json({ error: 'Invalid credentials' }, { status: 401 });\r\n    }\r\n\r\n    // Compare password with bcryptjs\r\n    const passwordMatch = await comparePassword(password, user.password);\r\n    if (!passwordMatch) {\r\n      return NextResponse.json({ error: 'Invalid credentials' }, { status: 401 });\r\n    }\r\n\r\n    // Generate JWT token\r\n    const token = generateToken({\r\n      userId: user.id,\r\n      email: user.email,\r\n      role: user.role || 'USER',\r\n    });\r\n\r\n    return NextResponse.json({\r\n      user: {\r\n        id: user.id,\r\n        name: user.name,\r\n        email: user.email,\r\n        role: user.role,\r\n        isArtist: user.isArtist || false,\r\n      },\r\n      token,\r\n      message: 'Login successful',\r\n    });\r\n  } catch (error) {\r\n    console.error('Login error:', error);\r\n    return NextResponse.json({ error: 'Login failed' }, { status: 500 });\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\auth\\me\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":11,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\nimport { verifyToken } from '@/lib/auth';\r\n\r\nconst DB = path.join(process.cwd(), 'data', 'users.json');\r\n\r\nfunction readUsers() {\r\n  try {\r\n    return JSON.parse(fs.readFileSync(DB, 'utf-8')) || [];\r\n  } catch (e) {\r\n    return [];\r\n  }\r\n}\r\n\r\nexport async function GET(req: Request) {\r\n  try {\r\n    const auth = req.headers.get('authorization') || '';\r\n    const token = auth.replace('Bearer ', '');\r\n\r\n    if (!token) {\r\n      return NextResponse.json({ user: null }, { status: 401 });\r\n    }\r\n\r\n    // Verify JWT token\r\n    const payload = verifyToken(token);\r\n    if (!payload) {\r\n      return NextResponse.json({ user: null }, { status: 401 });\r\n    }\r\n\r\n    // Get user from database\r\n    const users = readUsers();\r\n    const user = users.find((u: any) => u.email === payload.email);\r\n\r\n    if (!user) {\r\n      return NextResponse.json({ user: null }, { status: 401 });\r\n    }\r\n\r\n    return NextResponse.json({\r\n      user: {\r\n        id: user.id,\r\n        name: user.name,\r\n        email: user.email,\r\n        role: user.role,\r\n        isArtist: user.isArtist || false,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    console.error('Auth check error:', error);\r\n    return NextResponse.json({ user: null }, { status: 401 });\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\auth\\password-reset\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":122,"column":24,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":122,"endColumn":43}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\nimport { randomBytes } from 'crypto';\r\nimport { readFileSync, writeFileSync } from 'fs';\r\nimport { join } from 'path';\r\n\r\nconst DATA_DIR = join(process.cwd(), 'data');\r\n\r\ninterface PasswordResetRecord {\r\n    id: string;\r\n    email: string;\r\n    token: string;\r\n    expiresAt: string;\r\n    createdAt: string;\r\n}\r\n\r\nfunction loadResets(): PasswordResetRecord[] {\r\n    try {\r\n        const path = join(DATA_DIR, 'password-resets.json');\r\n        return JSON.parse(readFileSync(path, 'utf-8'));\r\n    } catch {\r\n        return [];\r\n    }\r\n}\r\n\r\nfunction saveResets(data: PasswordResetRecord[]) {\r\n    const path = join(DATA_DIR, 'password-resets.json');\r\n    writeFileSync(path, JSON.stringify(data, null, 2));\r\n}\r\n\r\nexport async function POST(req: NextRequest) {\r\n    try {\r\n        const { email } = await req.json();\r\n\r\n        if (!email || !email.includes('@')) {\r\n            return NextResponse.json({ error: 'Valid email required' }, { status: 400 });\r\n        }\r\n\r\n        // Check if user exists\r\n        const usersPath = join(DATA_DIR, 'users.json');\r\n        const users = JSON.parse(readFileSync(usersPath, 'utf-8'));\r\n        const user = users.find((u: any) => u.email === email);\r\n\r\n        if (!user) {\r\n            // Don't reveal if email exists (security)\r\n            return NextResponse.json({\r\n                ok: true,\r\n                message: 'If an account exists, password reset email will be sent',\r\n            });\r\n        }\r\n\r\n        // Generate reset token\r\n        const token = randomBytes(32).toString('hex');\r\n        const expiresAt = new Date(Date.now() + 1 * 60 * 60 * 1000).toISOString(); // 1 hour\r\n\r\n        const resets = loadResets();\r\n\r\n        // Remove old tokens for this email\r\n        const filtered = resets.filter(r => r.email !== email);\r\n\r\n        // Add new reset token\r\n        filtered.push({\r\n            id: `reset_${Date.now()}`,\r\n            email,\r\n            token,\r\n            expiresAt,\r\n            createdAt: new Date().toISOString(),\r\n        });\r\n\r\n        saveResets(filtered);\r\n\r\n        // TODO: Send email with reset link\r\n        const resetLink = `${process.env.NEXT_PUBLIC_APP_URL}/reset-password?token=${token}`;\r\n\r\n        console.log(`[PASSWORD RESET] Link: ${resetLink}`);\r\n\r\n        return NextResponse.json({\r\n            ok: true,\r\n            message: 'Password reset link sent to email',\r\n            // Remove in production\r\n            testLink: process.env.NODE_ENV === 'development' ? resetLink : undefined,\r\n        });\r\n    } catch (error) {\r\n        console.error('[PASSWORD RESET ERROR]', error);\r\n        return NextResponse.json(\r\n            { error: 'Failed to process password reset' },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n\r\nexport async function PUT(req: NextRequest) {\r\n    try {\r\n        const { token, password, confirmPassword } = await req.json();\r\n\r\n        if (!token) {\r\n            return NextResponse.json({ error: 'Token required' }, { status: 400 });\r\n        }\r\n\r\n        if (!password || password !== confirmPassword) {\r\n            return NextResponse.json({ error: 'Passwords do not match' }, { status: 400 });\r\n        }\r\n\r\n        if (password.length < 6) {\r\n            return NextResponse.json(\r\n                { error: 'Password must be at least 6 characters' },\r\n                { status: 400 }\r\n            );\r\n        }\r\n\r\n        const resets = loadResets();\r\n        const reset = resets.find(r => r.token === token);\r\n\r\n        if (!reset) {\r\n            return NextResponse.json({ error: 'Invalid or expired token' }, { status: 400 });\r\n        }\r\n\r\n        if (new Date(reset.expiresAt) < new Date()) {\r\n            return NextResponse.json({ error: 'Token expired' }, { status: 400 });\r\n        }\r\n\r\n        // Hash new password\r\n        const bcrypt = require('bcryptjs');\r\n        const salt = await bcrypt.genSalt(10);\r\n        const hashedPassword = await bcrypt.hash(password, salt);\r\n\r\n        // Update user password\r\n        const usersPath = join(DATA_DIR, 'users.json');\r\n        const users = JSON.parse(readFileSync(usersPath, 'utf-8'));\r\n        const user = users.find((u: any) => u.email === reset.email);\r\n\r\n        if (user) {\r\n            user.password = hashedPassword;\r\n            user.passwordUpdatedAt = new Date().toISOString();\r\n            writeFileSync(usersPath, JSON.stringify(users, null, 2));\r\n        }\r\n\r\n        // Remove used token\r\n        saveResets(resets.filter(r => r.token !== token));\r\n\r\n        return NextResponse.json({\r\n            ok: true,\r\n            message: 'Password reset successfully',\r\n            redirectUrl: '/signin',\r\n        });\r\n    } catch (error) {\r\n        console.error('[PASSWORD RESET PUT ERROR]', error);\r\n        return NextResponse.json({ error: 'Password reset failed' }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\auth\\register-artist\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":10,"column":73,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":74}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\nimport crypto from 'crypto';\r\nimport { hashPassword, generateToken } from '@/lib/auth';\r\n\r\nconst DB = path.join(process.cwd(), 'data', 'users.json');\r\n\r\nfunction readUsers() {\r\n  try { return JSON.parse(fs.readFileSync(DB, 'utf-8')) || []; } catch (e) { return []; }\r\n}\r\n\r\nfunction writeUsers(users: any[]) { fs.writeFileSync(DB, JSON.stringify(users, null, 2)); }\r\n\r\nexport async function POST(req: Request) {\r\n  const body = await req.json();\r\n  const { fullName, stageName, username, email, phone, password, passwordConfirm } = body;\r\n  if (!fullName || !stageName || !username || !email || !phone || !password || !passwordConfirm) {\r\n    return NextResponse.json({ error: 'Missing fields' }, { status: 400 });\r\n  }\r\n  if (password !== passwordConfirm) return NextResponse.json({ error: 'Passwords do not match' }, { status: 400 });\r\n\r\n  const users = readUsers();\r\n  if (users.find((u: any) => u.email === email)) {\r\n    return NextResponse.json({ error: 'Email already in use' }, { status: 400 });\r\n  }\r\n  if (users.find((u: any) => u.username === username)) {\r\n    return NextResponse.json({ error: 'Username already taken' }, { status: 400 });\r\n  }\r\n\r\n  const id = crypto.randomBytes(8).toString('hex');\r\n  const hashed = await hashPassword(password);\r\n\r\n  const user = {\r\n    id,\r\n    name: fullName,\r\n    stageName,\r\n    username,\r\n    email,\r\n    phone,\r\n    password: hashed,\r\n    subscribed: false,\r\n    role: 'ARTIST',\r\n    createdAt: new Date().toISOString(),\r\n  };\r\n\r\n  users.push(user);\r\n  writeUsers(users);\r\n\r\n  // Generate JWT token for immediate session\r\n  const token = generateToken({ userId: user.id, email: user.email, role: 'ARTIST' });\r\n\r\n  return NextResponse.json({ ok: true, user: { id: user.id, name: user.name, email: user.email, role: user.role, isArtist: true }, token }, { status: 201 });\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\auth\\register\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":11,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\nimport { hashPassword, generateToken, getUserRole } from '@/lib/auth';\r\n\r\nconst DB = path.join(process.cwd(), 'data', 'users.json');\r\n\r\nfunction readUsers() {\r\n  try {\r\n    return JSON.parse(fs.readFileSync(DB, 'utf-8')) || [];\r\n  } catch (e) {\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction writeUsers(users: any[]) {\r\n  fs.writeFileSync(DB, JSON.stringify(users, null, 2));\r\n}\r\n\r\nexport async function POST(req: Request) {\r\n  try {\r\n    const body = await req.json();\r\n    const { name, email, password, isArtist } = body;\r\n\r\n    if (!name || !email || !password) {\r\n      return NextResponse.json({ error: 'Missing fields: name, email, password' }, { status: 400 });\r\n    }\r\n\r\n    if (password.length < 6) {\r\n      return NextResponse.json({ error: 'Password must be at least 6 characters' }, { status: 400 });\r\n    }\r\n\r\n    const users = readUsers();\r\n    if (users.find((u: any) => u.email === email)) {\r\n      return NextResponse.json({ error: 'User already exists' }, { status: 400 });\r\n    }\r\n\r\n    // Hash password with bcryptjs\r\n    const hashedPassword = await hashPassword(password);\r\n\r\n    // Determine role (admin rule: trapkost2020@gmail.com)\r\n    const role = getUserRole(email, isArtist);\r\n\r\n    // Generate JWT token\r\n    const token = generateToken({\r\n      userId: email,\r\n      email,\r\n      role: role as 'ADMIN' | 'ARTIST' | 'USER',\r\n    });\r\n\r\n    const user = {\r\n      id: `${Date.now()}`,\r\n      name,\r\n      email,\r\n      password: hashedPassword,\r\n      role,\r\n      isArtist: isArtist || false,\r\n      verified: false,\r\n      createdAt: new Date().toISOString(),\r\n    };\r\n\r\n    users.push(user);\r\n    writeUsers(users);\r\n\r\n    return NextResponse.json({\r\n      ok: true,\r\n      user: { id: user.id, name, email, role, isArtist },\r\n      token,\r\n      message: 'Registration successful',\r\n    }, { status: 201 });\r\n  } catch (error) {\r\n    console.error('Registration error:', error);\r\n    return NextResponse.json({ error: 'Registration failed' }, { status: 500 });\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\auth\\subscribe\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\auth\\verify-email\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\business\\ads\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\business\\register\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'saveAds' is defined but never used.","line":70,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":70,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'adData' is assigned a value but never used.","line":86,"column":92,"nodeType":null,"messageId":"unusedVar","endLine":86,"endColumn":98}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\nimport { readFileSync, writeFileSync, existsSync } from 'fs';\r\nimport { join } from 'path';\r\nimport jwt from 'jsonwebtoken';\r\n\r\nconst BUSINESS_VERIFICATION_FEE = 49.99;\r\nconst DATA_DIR = join(process.cwd(), 'data');\r\n\r\ninterface Business {\r\n    id: string;\r\n    userId: string;\r\n    name: string;\r\n    description?: string;\r\n    website?: string;\r\n    logo?: string;\r\n    category?: string;\r\n    isVerified: boolean;\r\n    verificationDate?: string;\r\n    phone?: string;\r\n    email?: string;\r\n    createdAt: string;\r\n}\r\n\r\ninterface Advertisement {\r\n    id: string;\r\n    businessId: string;\r\n    title: string;\r\n    description?: string;\r\n    imageUrl?: string;\r\n    clickUrl?: string;\r\n    targetGenre?: string;\r\n    targetCountry?: string;\r\n    targetAgeMin?: number;\r\n    targetAgeMax?: number;\r\n    budget: number;\r\n    spent: number;\r\n    dailyBudget?: number;\r\n    startDate: string;\r\n    endDate: string;\r\n    status: 'draft' | 'pending_approval' | 'active' | 'paused' | 'completed' | 'rejected';\r\n    impressions: number;\r\n    clicks: number;\r\n    createdAt: string;\r\n    updatedAt: string;\r\n}\r\n\r\nfunction loadBusinesses(): Business[] {\r\n    const file = join(DATA_DIR, 'businesses.json');\r\n    if (!existsSync(file)) {\r\n        writeFileSync(file, JSON.stringify([], null, 2));\r\n        return [];\r\n    }\r\n    return JSON.parse(readFileSync(file, 'utf-8'));\r\n}\r\n\r\nfunction loadAds(): Advertisement[] {\r\n    const file = join(DATA_DIR, 'advertisements.json');\r\n    if (!existsSync(file)) {\r\n        writeFileSync(file, JSON.stringify([], null, 2));\r\n        return [];\r\n    }\r\n    return JSON.parse(readFileSync(file, 'utf-8'));\r\n}\r\n\r\nfunction saveBusinesses(businesses: Business[]) {\r\n    const file = join(DATA_DIR, 'businesses.json');\r\n    writeFileSync(file, JSON.stringify(businesses, null, 2));\r\n}\r\n\r\nfunction saveAds(ads: Advertisement[]) {\r\n    const file = join(DATA_DIR, 'advertisements.json');\r\n    writeFileSync(file, JSON.stringify(ads, null, 2));\r\n}\r\n\r\nexport async function POST(req: NextRequest) {\r\n    try {\r\n        const token = req.headers.get('Authorization')?.replace('Bearer ', '');\r\n        if (!token) {\r\n            return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\r\n        }\r\n\r\n        const decoded = jwt.verify(token, process.env.JWT_SECRET || 'default-secret') as any;\r\n        const userId = decoded.userId;\r\n\r\n        const body = await req.json();\r\n        const { name, description, website, email, phone, category, action, businessId, ...adData } = body;\r\n\r\n        // Register or verify business\r\n        if (action === 'register') {\r\n            const businesses = loadBusinesses();\r\n\r\n            // Check if user already has a business\r\n            if (businesses.find((b) => b.userId === userId)) {\r\n                return NextResponse.json(\r\n                    { error: 'You already have a business account' },\r\n                    { status: 400 }\r\n                );\r\n            }\r\n\r\n            const newBusiness: Business = {\r\n                id: `biz_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n                userId,\r\n                name,\r\n                description,\r\n                website,\r\n                email,\r\n                phone,\r\n                category,\r\n                isVerified: false,\r\n                createdAt: new Date().toISOString(),\r\n            };\r\n\r\n            businesses.push(newBusiness);\r\n            saveBusinesses(businesses);\r\n\r\n            return NextResponse.json({\r\n                ok: true,\r\n                business: newBusiness,\r\n                message: 'Business registered. Pay verification fee to unlock ads.',\r\n            });\r\n        }\r\n\r\n        // Verify business (process payment)\r\n        if (action === 'verify') {\r\n            const businesses = loadBusinesses();\r\n            const business = businesses.find((b) => b.id === businessId && b.userId === userId);\r\n\r\n            if (!business) {\r\n                return NextResponse.json(\r\n                    { error: 'Business not found' },\r\n                    { status: 404 }\r\n                );\r\n            }\r\n\r\n            if (business.isVerified) {\r\n                return NextResponse.json(\r\n                    { error: 'Business already verified' },\r\n                    { status: 400 }\r\n                );\r\n            }\r\n\r\n            // In production, charge via Stripe/Flutterwave\r\n            // For now, mark as verified\r\n            business.isVerified = true;\r\n            business.verificationDate = new Date().toISOString();\r\n\r\n            saveBusinesses(businesses);\r\n\r\n            return NextResponse.json({\r\n                ok: true,\r\n                business,\r\n                message: `Business verified! Payment of $${BUSINESS_VERIFICATION_FEE} processed.`,\r\n                checkoutUrl: '#', // In production, return Stripe/Flutterwave URL\r\n            });\r\n        }\r\n\r\n        return NextResponse.json({ error: 'Invalid action' }, { status: 400 });\r\n    } catch (error) {\r\n        console.error('[BUSINESS ERROR]', error);\r\n        return NextResponse.json({ error: 'Failed to process request' }, { status: 500 });\r\n    }\r\n}\r\n\r\nexport async function GET(req: NextRequest) {\r\n    try {\r\n        const token = req.headers.get('Authorization')?.replace('Bearer ', '');\r\n        if (!token) {\r\n            return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\r\n        }\r\n\r\n        const decoded = jwt.verify(token, process.env.JWT_SECRET || 'default-secret') as any;\r\n        const userId = decoded.userId;\r\n\r\n        const businesses = loadBusinesses();\r\n        const ads = loadAds();\r\n\r\n        const userBusiness = businesses.find((b) => b.userId === userId);\r\n\r\n        if (!userBusiness) {\r\n            return NextResponse.json({\r\n                ok: true,\r\n                business: null,\r\n                message: 'No business account. Register to create ads.',\r\n            });\r\n        }\r\n\r\n        const businessAds = ads.filter((a) => a.businessId === userBusiness.id);\r\n\r\n        const stats = {\r\n            totalAds: businessAds.length,\r\n            activeAds: businessAds.filter((a) => a.status === 'active').length,\r\n            totalImpressions: businessAds.reduce((sum, a) => sum + a.impressions, 0),\r\n            totalClicks: businessAds.reduce((sum, a) => sum + a.clicks, 0),\r\n            totalSpent: businessAds.reduce((sum, a) => sum + a.spent, 0),\r\n            avgCTR: businessAds.length > 0\r\n                ? (businessAds.reduce((sum, a) => sum + (a.clicks / Math.max(a.impressions, 1)), 0) / businessAds.length * 100).toFixed(2)\r\n                : '0',\r\n        };\r\n\r\n        return NextResponse.json({\r\n            ok: true,\r\n            business: userBusiness,\r\n            ads: businessAds,\r\n            stats,\r\n        });\r\n    } catch (error) {\r\n        console.error('[BUSINESS GET ERROR]', error);\r\n        return NextResponse.json({ error: 'Failed to fetch business' }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\orders\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\payments\\initiate-boost\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\payments\\initiate\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\payments\\payout\\route.ts","messages":[{"ruleId":"prefer-const","severity":2,"message":"'payoutId' is never reassigned. Use 'const' instead.","line":33,"column":13,"nodeType":"Identifier","messageId":"useConst","endLine":33,"endColumn":21,"fix":{"range":[978,1059],"text":"const payoutId = 'PAYOUT-' + Math.random().toString(36).substring(7).toUpperCase();"}},{"ruleId":"prefer-const","severity":2,"message":"'status' is never reassigned. Use 'const' instead.","line":34,"column":13,"nodeType":"Identifier","messageId":"useConst","endLine":34,"endColumn":19,"fix":{"range":[1069,1095],"text":"const status = 'PROCESSING';"}}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":2,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\n\r\ninterface PayoutRequest {\r\n    artistId: string;\r\n    amount: number;\r\n    currency: 'MWK' | 'USD';\r\n    destination: string;\r\n    method: 'AIRTEL_MONEY' | 'TNM_MPAMBA' | 'STRIPE' | 'PAYPAL';\r\n}\r\n\r\nexport async function POST(req: NextRequest) {\r\n    try {\r\n        const { artistId, amount, currency, destination, method }: PayoutRequest = await req.json();\r\n\r\n        // Validate request\r\n        if (!artistId || !amount || !destination || !method) {\r\n            return NextResponse.json(\r\n                { error: 'Missing required payout fields' },\r\n                { status: 400 }\r\n            );\r\n        }\r\n\r\n        if (amount < 5000) {\r\n            return NextResponse.json(\r\n                { error: 'Minimum payout is MWK 5,000' },\r\n                { status: 400 }\r\n            );\r\n        }\r\n\r\n        // Verify artist balance\r\n        // TODO: Check if artist has sufficient balance in system\r\n\r\n        let payoutId = 'PAYOUT-' + Math.random().toString(36).substring(7).toUpperCase();\r\n        let status = 'PROCESSING';\r\n\r\n        // TODO: Route to appropriate payment provider\r\n        switch (method) {\r\n            case 'AIRTEL_MONEY':\r\n                // TODO: Call Airtel Money payout API\r\n                // const airtelPayout = await airtelMoneyAPI.sendMoney({\r\n                //   recipient: destination,\r\n                //   amount: amount,\r\n                //   currency: currency,\r\n                // });\r\n                // payoutId = airtelPayout.transactionId;\r\n                break;\r\n            case 'TNM_MPAMBA':\r\n                // TODO: Call TNM Mpamba API\r\n                // const tnmPayout = await tnmMpambaAPI.sendMoney({...});\r\n                break;\r\n            case 'STRIPE':\r\n                // TODO: Transfer to Stripe connected account\r\n                // const stripePayout = await stripe.transfers.create({\r\n                //   destination: destination,\r\n                //   amount: amount * 100,\r\n                //   currency: currency.toLowerCase(),\r\n                // });\r\n                break;\r\n            case 'PAYPAL':\r\n                // TODO: Call PayPal batch payout API\r\n                break;\r\n        }\r\n\r\n        // TODO: Store payout record in database\r\n        // TODO: Deduct from artist balance\r\n        // TODO: Send confirmation email\r\n        // TODO: Send SMS notification\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            payoutId,\r\n            status,\r\n            amount,\r\n            currency,\r\n            method,\r\n            destination,\r\n            estimatedDelivery: '1-2 business days',\r\n            processingStarted: new Date().toISOString(),\r\n        });\r\n    } catch (error) {\r\n        console.error('Payout error:', error);\r\n        return NextResponse.json(\r\n            { error: 'Payout processing failed' },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\payments\\verify\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'status' is assigned a value but never used.","line":5,"column":42,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":48}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\n\r\nexport async function POST(req: NextRequest) {\r\n    try {\r\n        const { transactionId, provider, status } = await req.json();\r\n\r\n        // Validate incoming verification request\r\n        if (!transactionId || !provider) {\r\n            return NextResponse.json(\r\n                { error: 'Missing transaction ID or provider' },\r\n                { status: 400 }\r\n            );\r\n        }\r\n\r\n        // TODO: Call payment provider's verification API\r\n        // - Airtel Money: Verify transaction status\r\n        // - TNM Mpamba: Check USSD response\r\n        // - Stripe: Query payment intent\r\n        // - PayPal: Verify IPN signature\r\n\r\n        let verified = false;\r\n        let providerStatus = 'PENDING';\r\n\r\n        switch (provider) {\r\n            case 'AIRTEL_MONEY':\r\n                // TODO: Call Airtel Money API to verify\r\n                // const airtelVerification = await airtelMoneyAPI.verify(transactionId);\r\n                verified = Math.random() > 0.1; // Mock 90% success rate\r\n                break;\r\n            case 'TNM_MPAMBA':\r\n                // TODO: Call TNM Mpamba API to verify\r\n                verified = Math.random() > 0.05; // Mock 95% success rate\r\n                break;\r\n            case 'STRIPE':\r\n                // TODO: Call Stripe API to verify\r\n                // const stripeVerification = await stripe.charges.retrieve(transactionId);\r\n                verified = Math.random() > 0.02; // Mock 98% success rate\r\n                break;\r\n        }\r\n\r\n        providerStatus = verified ? 'COMPLETED' : 'FAILED';\r\n\r\n        // TODO: Update payment record in database\r\n        // TODO: If verified, trigger artist payout\r\n        // TODO: If failed, send error notification\r\n\r\n        return NextResponse.json({\r\n            verified,\r\n            status: providerStatus,\r\n            transactionId,\r\n            provider,\r\n            message: verified\r\n                ? 'Payment verified successfully'\r\n                : 'Payment verification failed',\r\n        });\r\n    } catch (error) {\r\n        console.error('Verification error:', error);\r\n        return NextResponse.json(\r\n            { error: 'Verification processing failed' },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\playlists\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":13,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport { playlists } from '@/data/playlists';\r\n\r\nexport async function GET() {\r\n  return NextResponse.json(playlists);\r\n}\r\n\r\nexport async function POST(req: Request) {\r\n  try {\r\n    const newPlaylist = await req.json();\r\n    const id = `playlist-${Date.now()}`;\r\n    return NextResponse.json({ ...newPlaylist, id });\r\n  } catch (error) {\r\n    return NextResponse.json({ error: 'Invalid request' }, { status: 400 });\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\products\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\songs\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":13,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport { songs } from '@/data/songs';\r\n\r\nexport async function GET() {\r\n  return NextResponse.json(songs);\r\n}\r\n\r\nexport async function POST(req: Request) {\r\n  try {\r\n    const newSong = await req.json();\r\n    const id = `song-${Date.now()}`;\r\n    return NextResponse.json({ ...newSong, id });\r\n  } catch (error) {\r\n    return NextResponse.json({ error: 'Invalid request' }, { status: 400 });\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\stream\\log\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'userId' is assigned a value but never used.","line":210,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":210,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'users' is assigned a value but never used.","line":217,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":217,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'tracks' is assigned a value but never used.","line":218,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":218,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\nimport { readFileSync, writeFileSync, existsSync } from 'fs';\r\nimport { join } from 'path';\r\nimport jwt from 'jsonwebtoken';\r\n\r\nconst STREAM_RATE = 0.002; // USD per stream (admin-controlled in future)\r\nconst DATA_DIR = join(process.cwd(), 'data');\r\n\r\ninterface StreamLog {\r\n    id: string;\r\n    trackId: string;\r\n    userId?: string;\r\n    ipAddress?: string;\r\n    streamedAt: string;\r\n    duration: number;\r\n    isValid: boolean;\r\n}\r\n\r\ninterface RevenueEntry {\r\n    id: string;\r\n    artistId: string;\r\n    source: 'streams' | 'ad_clicks' | 'subscriptions' | 'boosts';\r\n    amount: number;\r\n    trackId?: string;\r\n    timestamp: string;\r\n}\r\n\r\n// Load or initialize streams data\r\nfunction loadStreams(): StreamLog[] {\r\n    const file = join(DATA_DIR, 'streams.json');\r\n    if (!existsSync(file)) {\r\n        writeFileSync(file, JSON.stringify([], null, 2));\r\n        return [];\r\n    }\r\n    return JSON.parse(readFileSync(file, 'utf-8'));\r\n}\r\n\r\n// Load or initialize revenue data\r\nfunction loadRevenue(): RevenueEntry[] {\r\n    const file = join(DATA_DIR, 'revenue.json');\r\n    if (!existsSync(file)) {\r\n        writeFileSync(file, JSON.stringify([], null, 2));\r\n        return [];\r\n    }\r\n    return JSON.parse(readFileSync(file, 'utf-8'));\r\n}\r\n\r\n// Load users data\r\nfunction loadUsers(): any[] {\r\n    const file = join(DATA_DIR, 'users.json');\r\n    if (!existsSync(file)) return [];\r\n    return JSON.parse(readFileSync(file, 'utf-8'));\r\n}\r\n\r\n// Load tracks data\r\nfunction loadTracks(): any[] {\r\n    const file = join(DATA_DIR, 'songs.json');\r\n    if (!existsSync(file)) return [];\r\n    return JSON.parse(readFileSync(file, 'utf-8'));\r\n}\r\n\r\n// Save streams\r\nfunction saveStreams(streams: StreamLog[]) {\r\n    const file = join(DATA_DIR, 'streams.json');\r\n    writeFileSync(file, JSON.stringify(streams, null, 2));\r\n}\r\n\r\n// Save revenue\r\nfunction saveRevenue(revenue: RevenueEntry[]) {\r\n    const file = join(DATA_DIR, 'revenue.json');\r\n    writeFileSync(file, JSON.stringify(revenue, null, 2));\r\n}\r\n\r\n// Check for spam/duplicate streams\r\nfunction isValidStream(\r\n    trackId: string,\r\n    userId: string | undefined,\r\n    ipAddress: string | undefined,\r\n    existingStreams: StreamLog[]\r\n): boolean {\r\n    const now = new Date();\r\n    const fiveMinutesAgo = new Date(now.getTime() - 5 * 60 * 1000);\r\n\r\n    // If no user or IP, can't validate\r\n    if (!userId && !ipAddress) return false;\r\n\r\n    // Check for duplicate plays in last 5 minutes (spam prevention)\r\n    const recentStreams = existingStreams.filter((s) => {\r\n        const streamTime = new Date(s.streamedAt);\r\n        return streamTime > fiveMinutesAgo && s.trackId === trackId;\r\n    });\r\n\r\n    if (userId) {\r\n        const userRecentStreams = recentStreams.filter((s) => s.userId === userId);\r\n        if (userRecentStreams.length >= 5) return false; // Max 5 plays per track per user in 5 min\r\n    }\r\n\r\n    if (ipAddress) {\r\n        const ipRecentStreams = recentStreams.filter((s) => s.ipAddress === ipAddress);\r\n        if (ipRecentStreams.length >= 10) return false; // Max 10 plays per track per IP in 5 min\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nexport async function POST(req: NextRequest) {\r\n    try {\r\n        // Parse request\r\n        const body = await req.json();\r\n        const { trackId, duration, ipAddress } = body;\r\n\r\n        if (!trackId || !duration || duration < 30) {\r\n            return NextResponse.json(\r\n                { error: 'Track must play ÔëÑ30 seconds' },\r\n                { status: 400 }\r\n            );\r\n        }\r\n\r\n        // Extract user from auth header\r\n        let userId: string | undefined;\r\n        const token = req.headers.get('Authorization')?.replace('Bearer ', '');\r\n        if (token) {\r\n            try {\r\n                const decoded = jwt.verify(token, process.env.JWT_SECRET || 'default-secret') as any;\r\n                userId = decoded.userId;\r\n            } catch {\r\n                // Guest user, use IP\r\n            }\r\n        }\r\n\r\n        // Get current streams and tracks\r\n        const streams = loadStreams();\r\n        const tracks = loadTracks();\r\n        const users = loadUsers();\r\n\r\n        // Find track and artist\r\n        const track = tracks.find((t: any) => t.id === trackId);\r\n        if (!track) {\r\n            return NextResponse.json({ error: 'Track not found' }, { status: 404 });\r\n        }\r\n\r\n        // Find artist\r\n        const artist = users.find((u: any) => u.id === track.artistId && u.role === 'ARTIST');\r\n        if (!artist) {\r\n            return NextResponse.json({ error: 'Artist not found' }, { status: 404 });\r\n        }\r\n\r\n        // Validate stream (spam check)\r\n        const isValid = isValidStream(trackId, userId, ipAddress, streams);\r\n\r\n        // Create stream log\r\n        const streamLog: StreamLog = {\r\n            id: `stream_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n            trackId,\r\n            userId,\r\n            ipAddress,\r\n            streamedAt: new Date().toISOString(),\r\n            duration,\r\n            isValid,\r\n        };\r\n\r\n        streams.push(streamLog);\r\n\r\n        // If valid, create earning entry\r\n        if (isValid) {\r\n            const earning: RevenueEntry = {\r\n                id: `earn_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n                artistId: artist.id,\r\n                source: 'streams',\r\n                amount: STREAM_RATE,\r\n                trackId,\r\n                timestamp: new Date().toISOString(),\r\n            };\r\n\r\n            const revenue = loadRevenue();\r\n            revenue.push(earning);\r\n            saveRevenue(revenue);\r\n\r\n            // Update track play count in memory (would be DB in production)\r\n            track.playCount = (track.playCount || 0) + 1;\r\n        }\r\n\r\n        // Save updated streams\r\n        saveStreams(streams);\r\n\r\n        return NextResponse.json({\r\n            ok: true,\r\n            stream: streamLog,\r\n            earned: isValid ? STREAM_RATE : 0,\r\n            message: isValid ? 'Stream logged and earnings recorded' : 'Stream logged but marked invalid (spam detected)',\r\n        });\r\n    } catch (error) {\r\n        console.error('[STREAM LOG ERROR]', error);\r\n        return NextResponse.json(\r\n            { error: 'Failed to log stream' },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n\r\n// GET analytics for a track or artist\r\nexport async function GET(req: NextRequest) {\r\n    try {\r\n        const token = req.headers.get('Authorization')?.replace('Bearer ', '');\r\n        if (!token) {\r\n            return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\r\n        }\r\n\r\n        const decoded = jwt.verify(token, process.env.JWT_SECRET || 'default-secret') as any;\r\n        const userId = decoded.userId;\r\n\r\n        const trackId = req.nextUrl.searchParams.get('trackId');\r\n        const period = req.nextUrl.searchParams.get('period'); // 'day', 'week', 'month'\r\n\r\n        const streams = loadStreams();\r\n        const revenue = loadRevenue();\r\n        const users = loadUsers();\r\n        const tracks = loadTracks();\r\n\r\n        // Filter by track\r\n        let relevantStreams = streams;\r\n        if (trackId) {\r\n            relevantStreams = streams.filter((s) => s.trackId === trackId);\r\n        }\r\n\r\n        // Filter by period\r\n        let periodDate = new Date();\r\n        if (period === 'day') {\r\n            periodDate = new Date(new Date().setDate(new Date().getDate() - 1));\r\n        } else if (period === 'week') {\r\n            periodDate = new Date(new Date().setDate(new Date().getDate() - 7));\r\n        } else if (period === 'month') {\r\n            periodDate = new Date(new Date().setMonth(new Date().getMonth() - 1));\r\n        }\r\n\r\n        const filteredStreams = relevantStreams.filter((s) => new Date(s.streamedAt) >= periodDate);\r\n        const validStreams = filteredStreams.filter((s) => s.isValid);\r\n\r\n        // Calculate earnings\r\n        const totalEarnings = validStreams.length * STREAM_RATE;\r\n\r\n        return NextResponse.json({\r\n            ok: true,\r\n            stats: {\r\n                totalStreams: filteredStreams.length,\r\n                validStreams: validStreams.length,\r\n                totalEarnings,\r\n                period,\r\n                data: {\r\n                    streams: filteredStreams,\r\n                    earnings: revenue.filter((r) => r.trackId === trackId),\r\n                },\r\n            },\r\n        });\r\n    } catch (error) {\r\n        console.error('[STREAM ANALYTICS ERROR]', error);\r\n        return NextResponse.json(\r\n            { error: 'Failed to fetch analytics' },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\api\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\artist\\ads\\history\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'calculateEarnings' is assigned a value but never used.","line":26,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":26,"endColumn":28},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":107,"column":41,"nodeType":"JSXOpeningElement","endLine":111,"endColumn":43}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useAuth } from '../../../context/AuthContext';\r\nimport { useState } from 'react';\r\nimport { MOCK_ACTIVE_ADS, MOCK_EXPIRED_ADS } from '../../../../lib/mockAds';\r\n\r\nexport default function AdHistory() {\r\n    const { user } = useAuth();\r\n    const [activeTab, setActiveTab] = useState<'active' | 'expired'>('active');\r\n\r\n    if (!user || user.role !== 'ARTIST') {\r\n        return (\r\n            <main className=\"min-h-screen p-6 max-w-4xl mx-auto pt-32 text-center\">\r\n                <h1 className=\"text-3xl font-bold\">Artist Only</h1>\r\n                <p className=\"text-zinc-400 mt-4\">This page is for artists only.</p>\r\n                <Link href=\"/artist/signin\" className=\"text-emerald-400 mt-6 inline-block hover:underline\">\r\n                    Sign in as an artist\r\n                </Link>\r\n            </main>\r\n        );\r\n    }\r\n\r\n    const displayAds = activeTab === 'active' ? MOCK_ACTIVE_ADS : MOCK_EXPIRED_ADS;\r\n\r\n    const calculateEarnings = (ad: typeof MOCK_ACTIVE_ADS[0]) => {\r\n        // Simple calculation: conversions * average value\r\n        const avgValue = ad.budgetMWK / 30; // Spread budget over estimated 30-day period\r\n        return Math.round(ad.conversions * (avgValue / 100));\r\n    };\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-gradient-to-b from-black via-zinc-900 to-black text-white pt-32 pb-20\">\r\n            <div className=\"max-w-6xl mx-auto px-6\">\r\n                {/* Header */}\r\n                <div className=\"mb-12\">\r\n                    <Link href=\"/artist/dashboard\" className=\"text-emerald-400 text-sm hover:underline mb-4 inline-block\">\r\n                        ÔåÉ Back to Dashboard\r\n                    </Link>\r\n                    <h1 className=\"text-4xl font-bold\">Ad Campaign History</h1>\r\n                    <p className=\"text-zinc-400 mt-2\">Track your ad performance and analytics</p>\r\n                </div>\r\n\r\n                {/* Stats */}\r\n                <div className=\"grid md:grid-cols-4 gap-6 mb-12\">\r\n                    <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                        <p className=\"text-zinc-400 text-sm\">Total Impressions</p>\r\n                        <p className=\"text-3xl font-bold mt-2\">\r\n                            {(MOCK_ACTIVE_ADS.reduce((sum, ad) => sum + ad.impressions, 0) + MOCK_EXPIRED_ADS.reduce((sum, ad) => sum + ad.impressions, 0)).toLocaleString()}\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                        <p className=\"text-zinc-400 text-sm\">Total Clicks</p>\r\n                        <p className=\"text-3xl font-bold mt-2\">\r\n                            {(MOCK_ACTIVE_ADS.reduce((sum, ad) => sum + ad.clicks, 0) + MOCK_EXPIRED_ADS.reduce((sum, ad) => sum + ad.clicks, 0)).toLocaleString()}\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                        <p className=\"text-zinc-400 text-sm\">Total Conversions</p>\r\n                        <p className=\"text-3xl font-bold mt-2\">\r\n                            {(MOCK_ACTIVE_ADS.reduce((sum, ad) => sum + ad.conversions, 0) + MOCK_EXPIRED_ADS.reduce((sum, ad) => sum + ad.conversions, 0)).toLocaleString()}\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                        <p className=\"text-zinc-400 text-sm\">Avg ROI</p>\r\n                        <p className=\"text-3xl font-bold mt-2 text-emerald-400\">3.2x</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Tabs */}\r\n                <div className=\"flex gap-6 mb-8 border-b border-zinc-800\">\r\n                    <button\r\n                        onClick={() => setActiveTab('active')}\r\n                        className={`pb-4 font-semibold transition ${activeTab === 'active'\r\n                            ? 'text-emerald-400 border-b-2 border-emerald-400'\r\n                            : 'text-zinc-400 hover:text-white'\r\n                            }`}\r\n                    >\r\n                        Active Campaigns ({MOCK_ACTIVE_ADS.length})\r\n                    </button>\r\n                    <button\r\n                        onClick={() => setActiveTab('expired')}\r\n                        className={`pb-4 font-semibold transition ${activeTab === 'expired'\r\n                            ? 'text-emerald-400 border-b-2 border-emerald-400'\r\n                            : 'text-zinc-400 hover:text-white'\r\n                            }`}\r\n                    >\r\n                        Expired Campaigns ({MOCK_EXPIRED_ADS.length})\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Campaign Cards */}\r\n                <div className=\"space-y-6\">\r\n                    {displayAds.length === 0 ? (\r\n                        <div className=\"text-center py-12\">\r\n                            <p className=\"text-zinc-400 mb-4\">No {activeTab} campaigns yet</p>\r\n                            <Link href=\"/artist/ads\" className=\"text-emerald-400 hover:underline\">\r\n                                Create your first ad campaign ÔåÆ\r\n                            </Link>\r\n                        </div>\r\n                    ) : (\r\n                        displayAds.map((ad) => (\r\n                            <div key={ad.id} className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800 hover:border-zinc-700 transition\">\r\n                                <div className=\"grid md:grid-cols-4 gap-8\">\r\n                                    {/* Image */}\r\n                                    <div className=\"md:col-span-1\">\r\n                                        <img\r\n                                            src={ad.imageUrl}\r\n                                            alt={ad.title}\r\n                                            className=\"w-full h-48 rounded-lg object-cover\"\r\n                                        />\r\n                                    </div>\r\n\r\n                                    {/* Details */}\r\n                                    <div className=\"md:col-span-2 space-y-4\">\r\n                                        <div>\r\n                                            <div className=\"flex items-center gap-3 mb-2\">\r\n                                                <h3 className=\"text-lg font-bold\">{ad.title}</h3>\r\n                                                <span className={`text-xs px-3 py-1 rounded-full font-semibold ${ad.status === 'ACTIVE'\r\n                                                    ? 'bg-emerald-900 text-emerald-300'\r\n                                                    : ad.status === 'EXPIRED'\r\n                                                        ? 'bg-zinc-800 text-zinc-400'\r\n                                                        : 'bg-amber-900 text-amber-300'\r\n                                                    }`}>\r\n                                                    {ad.status}\r\n                                                </span>\r\n                                            </div>\r\n                                            <p className=\"text-sm text-zinc-400\">{ad.description}</p>\r\n                                        </div>\r\n\r\n                                        <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                                            <div>\r\n                                                <p className=\"text-zinc-400\">Campaign Dates</p>\r\n                                                <p className=\"font-semibold\">\r\n                                                    {new Date(ad.startDate).toLocaleDateString()} - {new Date(ad.endDate).toLocaleDateString()}\r\n                                                </p>\r\n                                            </div>\r\n                                            <div>\r\n                                                <p className=\"text-zinc-400\">Placement</p>\r\n                                                <p className=\"font-semibold\">{ad.placement}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Metrics */}\r\n                                    <div className=\"bg-zinc-800 rounded-lg p-6 border border-zinc-700\">\r\n                                        <h4 className=\"font-semibold mb-4\">Performance</h4>\r\n                                        <div className=\"space-y-4 text-sm\">\r\n                                            <div>\r\n                                                <p className=\"text-zinc-400\">Impressions</p>\r\n                                                <p className=\"text-xl font-bold text-emerald-400\">\r\n                                                    {ad.impressions.toLocaleString()}\r\n                                                </p>\r\n                                            </div>\r\n                                            <div>\r\n                                                <p className=\"text-zinc-400\">Clicks</p>\r\n                                                <p className=\"text-xl font-bold\">\r\n                                                    {ad.clicks.toLocaleString()}\r\n                                                </p>\r\n                                                <p className=\"text-xs text-zinc-500\">\r\n                                                    CTR: {((ad.clicks / ad.impressions) * 100).toFixed(2)}%\r\n                                                </p>\r\n                                            </div>\r\n                                            <div>\r\n                                                <p className=\"text-zinc-400\">Conversions</p>\r\n                                                <p className=\"text-xl font-bold\">\r\n                                                    {ad.conversions.toLocaleString()}\r\n                                                </p>\r\n                                            </div>\r\n                                            <div className=\"border-t border-zinc-700 pt-4\">\r\n                                                <p className=\"text-zinc-400\">ROI</p>\r\n                                                <p className=\"text-lg font-bold text-emerald-400\">\r\n                                                    {ad.roi.toFixed(1)}x\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\artist\\ads\\page.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchAds'. Either include it or remove the dependency array.","line":58,"column":8,"nodeType":"ArrayExpression","endLine":58,"endColumn":26,"suggestions":[{"desc":"Update the dependencies array to be: [user, token, tab, fetchAds]","fix":{"range":[1721,1739],"text":"[user, token, tab, fetchAds]"}}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'selectedSlot' is assigned a value but never used.","line":91,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":91,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useAuth } from '@/app/context/AuthContext';\r\nimport { useState, useEffect } from 'react';\r\nimport { MOCK_AD_SLOTS } from '@/lib/mockAds';\r\n\r\ninterface FormData {\r\n    title: string;\r\n    description: string;\r\n    budget: number;\r\n    startDate: string;\r\n    endDate: string;\r\n    targetGenre: string;\r\n    targetAudience: string;\r\n}\r\n\r\ninterface Ad {\r\n    id: string;\r\n    artistId: string;\r\n    title: string;\r\n    description: string;\r\n    budget: number;\r\n    spent: number;\r\n    startDate: string;\r\n    endDate: string;\r\n    targetGenre: string;\r\n    targetAudience: string;\r\n    status: 'draft' | 'active' | 'paused' | 'completed';\r\n    clickCount: number;\r\n    impressionCount: number;\r\n    createdAt: string;\r\n}\r\n\r\nexport default function CreateAd() {\r\n    const { user, token } = useAuth();\r\n    const [tab, setTab] = useState<'create' | 'manage'>('create');\r\n    const [formData, setFormData] = useState<FormData>({\r\n        title: '',\r\n        description: '',\r\n        budget: 100,\r\n        startDate: new Date().toISOString().split('T')[0],\r\n        endDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\r\n        targetGenre: 'all',\r\n        targetAudience: 'all',\r\n    });\r\n    const [ads, setAds] = useState<Ad[]>([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [success, setSuccess] = useState(false);\r\n    const [adsLoading, setAdsLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n\r\n    // Fetch ads on mount and when tab changes\r\n    useEffect(() => {\r\n        if (user && user.role === 'ARTIST' && token && tab === 'manage') {\r\n            fetchAds();\r\n        }\r\n    }, [user, token, tab]);\r\n\r\n    const fetchAds = async () => {\r\n        setAdsLoading(true);\r\n        try {\r\n            const response = await fetch('/api/artist/ads', {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                },\r\n            });\r\n            if (!response.ok) throw new Error('Failed to fetch ads');\r\n            const data = await response.json();\r\n            setAds(data.ads || []);\r\n        } catch (err) {\r\n            setError('Failed to load ads');\r\n            console.error(err);\r\n        } finally {\r\n            setAdsLoading(false);\r\n        }\r\n    };\r\n\r\n    if (!user || user.role !== 'ARTIST') {\r\n        return (\r\n            <main className=\"min-h-screen p-6 max-w-4xl mx-auto pt-32 text-center\">\r\n                <h1 className=\"text-3xl font-bold\">Artist Only</h1>\r\n                <p className=\"text-zinc-400 mt-4\">This page is for artists only.</p>\r\n                <Link href=\"/artist/signin\" className=\"text-emerald-400 mt-6 inline-block hover:underline\">\r\n                    Sign in as an artist\r\n                </Link>\r\n            </main>\r\n        );\r\n    }\r\n\r\n    const selectedSlot = MOCK_AD_SLOTS[0];\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!formData.title || !formData.budget) {\r\n            alert('Please fill in all required fields');\r\n            return;\r\n        }\r\n        setLoading(true);\r\n        setError('');\r\n\r\n        try {\r\n            const response = await fetch('/api/artist/ads', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`,\r\n                },\r\n                body: JSON.stringify(formData),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const data = await response.json();\r\n                throw new Error(data.error || 'Failed to create ad');\r\n            }\r\n\r\n            setSuccess(true);\r\n            setFormData({\r\n                title: '',\r\n                description: '',\r\n                budget: 100,\r\n                startDate: new Date().toISOString().split('T')[0],\r\n                endDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\r\n                targetGenre: 'all',\r\n                targetAudience: 'all',\r\n            });\r\n            setTimeout(() => setSuccess(false), 3000);\r\n            // Refresh ads list\r\n            if (token) fetchAds();\r\n        } catch (err) {\r\n            setError(err instanceof Error ? err.message : 'Failed to create ad');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleAdAction = async (adId: string, action: string) => {\r\n        try {\r\n            const response = await fetch('/api/artist/ads', {\r\n                method: 'PATCH',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`,\r\n                },\r\n                body: JSON.stringify({ adId, action }),\r\n            });\r\n\r\n            if (!response.ok) throw new Error('Failed to update ad');\r\n            fetchAds();\r\n        } catch (err) {\r\n            setError('Failed to update ad');\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-gradient-to-b from-black via-zinc-900 to-black text-white pt-32 pb-20\">\r\n            <div className=\"max-w-6xl mx-auto px-6\">\r\n                {/* Header */}\r\n                <div className=\"mb-12\">\r\n                    <Link href=\"/artist/dashboard\" className=\"text-emerald-400 text-sm hover:underline mb-4 inline-block\">\r\n                        ÔåÉ Back to Dashboard\r\n                    </Link>\r\n                    <h1 className=\"text-4xl font-bold\">Manage Campaigns</h1>\r\n                    <p className=\"text-zinc-400 mt-2\">Create and monitor advertising campaigns to grow your audience</p>\r\n                </div>\r\n\r\n                {/* Tabs */}\r\n                <div className=\"flex gap-4 mb-8 border-b border-zinc-800\">\r\n                    <button\r\n                        onClick={() => setTab('create')}\r\n                        className={`px-6 py-3 font-semibold transition border-b-2 ${tab === 'create'\r\n                                ? 'border-emerald-400 text-emerald-400'\r\n                                : 'border-transparent text-zinc-400 hover:text-white'\r\n                            }`}\r\n                    >\r\n                        Create Campaign\r\n                    </button>\r\n                    <button\r\n                        onClick={() => setTab('manage')}\r\n                        className={`px-6 py-3 font-semibold transition border-b-2 ${tab === 'manage'\r\n                                ? 'border-emerald-400 text-emerald-400'\r\n                                : 'border-transparent text-zinc-400 hover:text-white'\r\n                            }`}\r\n                    >\r\n                        My Campaigns\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Error message */}\r\n                {error && (\r\n                    <div className=\"bg-red-900 border border-red-700 text-red-100 px-6 py-4 rounded-lg mb-6\">\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Create Tab */}\r\n                {tab === 'create' && (\r\n                    <form onSubmit={handleSubmit} className=\"space-y-8\">\r\n                        {success && (\r\n                            <div className=\"bg-emerald-900 border border-emerald-700 text-emerald-100 px-6 py-4 rounded-lg mb-6\">\r\n                                Campaign created successfully!\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className=\"grid md:grid-cols-3 gap-8\">\r\n                            {/* Left: Form */}\r\n                            <div className=\"md:col-span-2 space-y-8\">\r\n                                {/* Campaign Details */}\r\n                                <div className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800\">\r\n                                    <h2 className=\"text-xl font-bold mb-6\">Campaign Details</h2>\r\n                                    <div className=\"space-y-4\">\r\n                                        <div>\r\n                                            <label htmlFor=\"title\" className=\"block text-sm font-semibold mb-2\">Campaign Title *</label>\r\n                                            <input\r\n                                                id=\"title\"\r\n                                                type=\"text\"\r\n                                                placeholder=\"e.g., Summer Album Release\"\r\n                                                value={formData.title}\r\n                                                onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n                                                className=\"w-full px-4 py-2 rounded-lg bg-zinc-800 border border-zinc-700 text-white placeholder-zinc-400 focus:outline-none focus:border-emerald-400\"\r\n                                                required\r\n                                            />\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <label htmlFor=\"description\" className=\"block text-sm font-semibold mb-2\">Description</label>\r\n                                            <textarea\r\n                                                id=\"description\"\r\n                                                placeholder=\"Describe your campaign...\"\r\n                                                value={formData.description}\r\n                                                onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                                                rows={4}\r\n                                                className=\"w-full px-4 py-2 rounded-lg bg-zinc-800 border border-zinc-700 text-white placeholder-zinc-400 focus:outline-none focus:border-emerald-400\"\r\n                                            />\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <label htmlFor=\"budget\" className=\"block text-sm font-semibold mb-2\">Budget (USD) *</label>\r\n                                            <input\r\n                                                id=\"budget\"\r\n                                                type=\"number\"\r\n                                                min={10}\r\n                                                step={10}\r\n                                                value={formData.budget}\r\n                                                onChange={(e) => setFormData({ ...formData, budget: Number(e.target.value) })}\r\n                                                className=\"w-full px-4 py-2 rounded-lg bg-zinc-800 border border-zinc-700 text-white focus:outline-none focus:border-emerald-400\"\r\n                                                required\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Dates & Targeting */}\r\n                                <div className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800\">\r\n                                    <h2 className=\"text-xl font-bold mb-6\">Dates & Targeting</h2>\r\n                                    <div className=\"space-y-4\">\r\n                                        <div className=\"grid md:grid-cols-2 gap-4\">\r\n                                            <div>\r\n                                                <label htmlFor=\"start\" className=\"block text-sm font-semibold mb-2\">Start Date *</label>\r\n                                                <input\r\n                                                    id=\"start\"\r\n                                                    type=\"date\"\r\n                                                    value={formData.startDate}\r\n                                                    onChange={(e) => setFormData({ ...formData, startDate: e.target.value })}\r\n                                                    className=\"w-full px-4 py-2 rounded-lg bg-zinc-800 border border-zinc-700 text-white focus:outline-none focus:border-emerald-400\"\r\n                                                    required\r\n                                                />\r\n                                            </div>\r\n\r\n                                            <div>\r\n                                                <label htmlFor=\"end\" className=\"block text-sm font-semibold mb-2\">End Date *</label>\r\n                                                <input\r\n                                                    id=\"end\"\r\n                                                    type=\"date\"\r\n                                                    value={formData.endDate}\r\n                                                    onChange={(e) => setFormData({ ...formData, endDate: e.target.value })}\r\n                                                    className=\"w-full px-4 py-2 rounded-lg bg-zinc-800 border border-zinc-700 text-white focus:outline-none focus:border-emerald-400\"\r\n                                                    required\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"grid md:grid-cols-2 gap-4\">\r\n                                            <div>\r\n                                                <label htmlFor=\"genre\" className=\"block text-sm font-semibold mb-2\">Target Genre</label>\r\n                                                <select\r\n                                                    id=\"genre\"\r\n                                                    value={formData.targetGenre}\r\n                                                    onChange={(e) => setFormData({ ...formData, targetGenre: e.target.value })}\r\n                                                    className=\"w-full px-4 py-2 rounded-lg bg-zinc-800 border border-zinc-700 text-white focus:outline-none focus:border-emerald-400\"\r\n                                                >\r\n                                                    <option value=\"all\">All Genres</option>\r\n                                                    <option value=\"pop\">Pop</option>\r\n                                                    <option value=\"hip-hop\">Hip-Hop</option>\r\n                                                    <option value=\"rnb\">R&B</option>\r\n                                                    <option value=\"rock\">Rock</option>\r\n                                                    <option value=\"electronic\">Electronic</option>\r\n                                                </select>\r\n                                            </div>\r\n\r\n                                            <div>\r\n                                                <label htmlFor=\"audience\" className=\"block text-sm font-semibold mb-2\">Target Audience</label>\r\n                                                <select\r\n                                                    id=\"audience\"\r\n                                                    value={formData.targetAudience}\r\n                                                    onChange={(e) => setFormData({ ...formData, targetAudience: e.target.value })}\r\n                                                    className=\"w-full px-4 py-2 rounded-lg bg-zinc-800 border border-zinc-700 text-white focus:outline-none focus:border-emerald-400\"\r\n                                                >\r\n                                                    <option value=\"all\">All Audiences</option>\r\n                                                    <option value=\"18-25\">18-25</option>\r\n                                                    <option value=\"26-35\">26-35</option>\r\n                                                    <option value=\"36-50\">36-50</option>\r\n                                                    <option value=\"50+\">50+</option>\r\n                                                </select>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Right: Summary */}\r\n                            <div>\r\n                                <div className=\"bg-gradient-to-br from-emerald-900 to-emerald-900/50 rounded-lg p-8 border border-emerald-700 sticky top-32\">\r\n                                    <h3 className=\"text-lg font-bold mb-6\">Campaign Summary</h3>\r\n\r\n                                    <div className=\"space-y-4 mb-6 text-sm\">\r\n                                        <div>\r\n                                            <p className=\"text-zinc-300\">Title</p>\r\n                                            <p className=\"font-semibold text-emerald-300\">{formData.title || 'Not set'}</p>\r\n                                        </div>\r\n                                        <div>\r\n                                            <p className=\"text-zinc-300\">Budget</p>\r\n                                            <p className=\"font-semibold text-emerald-300\">${formData.budget} USD</p>\r\n                                        </div>\r\n                                        <div>\r\n                                            <p className=\"text-zinc-300\">Duration</p>\r\n                                            <p className=\"font-semibold text-emerald-300\">\r\n                                                {formData.endDate && formData.startDate\r\n                                                    ? Math.ceil((new Date(formData.endDate).getTime() - new Date(formData.startDate).getTime()) / (1000 * 60 * 60 * 24))\r\n                                                    : 0} days\r\n                                            </p>\r\n                                        </div>\r\n                                        <div>\r\n                                            <p className=\"text-zinc-300\">Target</p>\r\n                                            <p className=\"font-semibold text-emerald-300\">{formData.targetGenre} / {formData.targetAudience}</p>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <button\r\n                                        type=\"submit\"\r\n                                        disabled={loading || !formData.title}\r\n                                        className=\"w-full bg-emerald-500 text-black py-3 rounded-lg font-bold hover:bg-emerald-400 transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                    >\r\n                                        {loading ? 'Creating...' : 'Create Campaign'}\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                )}\r\n\r\n                {/* Manage Tab */}\r\n                {tab === 'manage' && (\r\n                    <div>\r\n                        {adsLoading ? (\r\n                            <div className=\"text-center py-12\">\r\n                                <p className=\"text-zinc-400\">Loading campaigns...</p>\r\n                            </div>\r\n                        ) : ads.length === 0 ? (\r\n                            <div className=\"bg-zinc-900 rounded-lg p-12 border border-zinc-800 text-center\">\r\n                                <p className=\"text-zinc-400 mb-4\">No campaigns yet</p>\r\n                                <button\r\n                                    onClick={() => setTab('create')}\r\n                                    className=\"text-emerald-400 hover:underline\"\r\n                                >\r\n                                    Create your first campaign\r\n                                </button>\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"grid gap-6\">\r\n                                {ads.map((ad) => (\r\n                                    <div key={ad.id} className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                                        <div className=\"flex justify-between items-start mb-4\">\r\n                                            <div>\r\n                                                <h3 className=\"text-xl font-bold\">{ad.title}</h3>\r\n                                                <p className=\"text-zinc-400 text-sm mt-1\">{ad.description}</p>\r\n                                            </div>\r\n                                            <span className={`px-3 py-1 rounded-full text-sm font-semibold ${ad.status === 'active' ? 'bg-emerald-900 text-emerald-300' :\r\n                                                    ad.status === 'paused' ? 'bg-yellow-900 text-yellow-300' :\r\n                                                        ad.status === 'draft' ? 'bg-blue-900 text-blue-300' :\r\n                                                            'bg-gray-900 text-gray-300'\r\n                                                }`}>\r\n                                                {ad.status.toUpperCase()}\r\n                                            </span>\r\n                                        </div>\r\n\r\n                                        <div className=\"grid md:grid-cols-5 gap-4 mb-6 py-4 border-t border-b border-zinc-800\">\r\n                                            <div>\r\n                                                <p className=\"text-zinc-400 text-xs\">Budget</p>\r\n                                                <p className=\"font-semibold\">${ad.budget}</p>\r\n                                            </div>\r\n                                            <div>\r\n                                                <p className=\"text-zinc-400 text-xs\">Spent</p>\r\n                                                <p className=\"font-semibold\">${ad.spent.toFixed(2)}</p>\r\n                                            </div>\r\n                                            <div>\r\n                                                <p className=\"text-zinc-400 text-xs\">Impressions</p>\r\n                                                <p className=\"font-semibold\">{ad.impressionCount.toLocaleString()}</p>\r\n                                            </div>\r\n                                            <div>\r\n                                                <p className=\"text-zinc-400 text-xs\">Clicks</p>\r\n                                                <p className=\"font-semibold\">{ad.clickCount}</p>\r\n                                            </div>\r\n                                            <div>\r\n                                                <p className=\"text-zinc-400 text-xs\">CTR</p>\r\n                                                <p className=\"font-semibold\">\r\n                                                    {ad.impressionCount > 0 ? ((ad.clickCount / ad.impressionCount) * 100).toFixed(2) : '0'}%\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"flex gap-3\">\r\n                                            {ad.status === 'draft' && (\r\n                                                <button\r\n                                                    onClick={() => handleAdAction(ad.id, 'launch')}\r\n                                                    className=\"px-4 py-2 bg-emerald-500 text-black rounded-lg font-semibold hover:bg-emerald-400 transition\"\r\n                                                >\r\n                                                    Launch\r\n                                                </button>\r\n                                            )}\r\n                                            {ad.status === 'active' && (\r\n                                                <button\r\n                                                    onClick={() => handleAdAction(ad.id, 'pause')}\r\n                                                    className=\"px-4 py-2 bg-yellow-500 text-black rounded-lg font-semibold hover:bg-yellow-400 transition\"\r\n                                                >\r\n                                                    Pause\r\n                                                </button>\r\n                                            )}\r\n                                            {ad.status === 'paused' && (\r\n                                                <button\r\n                                                    onClick={() => handleAdAction(ad.id, 'resume')}\r\n                                                    className=\"px-4 py-2 bg-emerald-500 text-black rounded-lg font-semibold hover:bg-emerald-400 transition\"\r\n                                                >\r\n                                                    Resume\r\n                                                </button>\r\n                                            )}\r\n                                            <button\r\n                                                onClick={() => handleAdAction(ad.id, 'complete')}\r\n                                                className=\"px-4 py-2 bg-zinc-700 text-white rounded-lg font-semibold hover:bg-zinc-600 transition\"\r\n                                            >\r\n                                                End\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\artist\\analytics\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":6,"column":20,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":17,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setData' is assigned a value but never used.","line":18,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":25},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":117,"column":77,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[6006,6040],"text":"­ƒù║´©Å Where You&apos;re Heard (Districts)"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[6006,6040],"text":"­ƒù║´©Å Where You&lsquo;re Heard (Districts)"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[6006,6040],"text":"­ƒù║´©Å Where You&#39;re Heard (Districts)"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[6006,6040],"text":"­ƒù║´©Å Where You&rsquo;re Heard (Districts)"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useState, useEffect } from 'react';\r\nimport {\r\n    EarningsChart,\r\n    StreamsChart,\r\n    DistrictChart,\r\n    AgeGroupChart,\r\n} from '../../components/AnalyticsCharts';\r\nimport { mockEarningsData } from '../../../data/mock-earnings';\r\n\r\nexport default function ArtistAnalytics() {\r\n    const { user } = useAuth();\r\n    const router = useRouter();\r\n    const [data, setData] = useState(mockEarningsData);\r\n    const [timeRange, setTimeRange] = useState<'month' | 'quarter' | 'year'>('month');\r\n\r\n    if (!user || user.role !== 'ARTIST') {\r\n        return (\r\n            <main className=\"min-h-screen p-6 max-w-4xl mx-auto pt-32 text-center\">\r\n                <h1 className=\"text-3xl font-bold\">Artist Only</h1>\r\n                <p className=\"text-zinc-400 mt-4\">This page is for artists only.</p>\r\n                <Link\r\n                    href=\"/artist/signin\"\r\n                    className=\"text-emerald-400 mt-6 inline-block hover:underline\"\r\n                >\r\n                    Sign in as an artist\r\n                </Link>\r\n            </main>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-gradient-to-b from-black via-zinc-900 to-black text-white pt-32 pb-20\">\r\n            <div className=\"max-w-7xl mx-auto px-6\">\r\n                {/* Header */}\r\n                <div className=\"mb-12\">\r\n                    <div className=\"flex justify-between items-start mb-8\">\r\n                        <div>\r\n                            <h1 className=\"text-4xl font-bold\">Analytics & Earnings</h1>\r\n                            <p className=\"text-zinc-400 mt-2\">Track your success on NyasaWave</p>\r\n                        </div>\r\n                        <Link\r\n                            href=\"/artist/dashboard\"\r\n                            className=\"text-zinc-400 hover:text-white transition underline text-sm\"\r\n                        >\r\n                            Back to Dashboard\r\n                        </Link>\r\n                    </div>\r\n\r\n                    {/* Time Range Selector */}\r\n                    <div className=\"flex gap-2\">\r\n                        {(['month', 'quarter', 'year'] as const).map((range) => (\r\n                            <button\r\n                                key={range}\r\n                                onClick={() => setTimeRange(range)}\r\n                                className={`px-4 py-2 rounded-lg font-semibold transition ${timeRange === range\r\n                                    ? 'bg-emerald-500 text-black'\r\n                                    : 'bg-zinc-800 text-zinc-300 hover:bg-zinc-700'\r\n                                    }`}\r\n                            >\r\n                                {range === 'month' ? 'This Month' : range === 'quarter' ? 'This Quarter' : 'This Year'}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Key Metrics */}\r\n                <div className=\"grid md:grid-cols-4 gap-4 mb-12\">\r\n                    <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                        <p className=\"text-zinc-400 text-sm\">Total Earnings</p>\r\n                        <p className=\"text-3xl font-bold mt-2 text-emerald-400\">\r\n                            MWK {data.totalEarnings.MWK.toLocaleString()}\r\n                        </p>\r\n                        <p className=\"text-xs text-zinc-500 mt-2\">Ôëê USD {data.totalEarnings.USD.toFixed(2)}</p>\r\n                    </div>\r\n                    <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                        <p className=\"text-zinc-400 text-sm\">Total Streams</p>\r\n                        <p className=\"text-3xl font-bold mt-2\">{data.totalStreams.toLocaleString()}</p>\r\n                        <p className=\"text-xs text-zinc-500 mt-2\">\r\n                            ~{(data.totalEarnings.MWK / data.totalStreams).toFixed(2)} MWK/stream\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                        <p className=\"text-zinc-400 text-sm\">Engagement</p>\r\n                        <p className=\"text-3xl font-bold mt-2\">{data.totalLikes.toLocaleString()}</p>\r\n                        <p className=\"text-xs text-zinc-500 mt-2\">\r\n                            {((data.totalLikes / data.totalStreams) * 100).toFixed(1)}% like rate\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                        <p className=\"text-zinc-400 text-sm\">Boost ROI</p>\r\n                        <p className=\"text-3xl font-bold mt-2 text-pink-400\">{data.boostROI.toFixed(1)}x</p>\r\n                        <p className=\"text-xs text-zinc-500 mt-2\">Return on boost spend</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Charts Grid */}\r\n                <div className=\"grid md:grid-cols-2 gap-6 mb-12\">\r\n                    {/* Earnings Trend */}\r\n                    <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                        <h2 className=\"text-xl font-bold mb-6\">Earnings Trend</h2>\r\n                        <EarningsChart data={data.monthlyEarnings} />\r\n                    </div>\r\n\r\n                    {/* Streams Trend */}\r\n                    <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                        <h2 className=\"text-xl font-bold mb-6\">Stream Volume</h2>\r\n                        <StreamsChart data={data.monthlyEarnings} />\r\n                    </div>\r\n\r\n                    {/* District Breakdown */}\r\n                    <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                        <h2 className=\"text-xl font-bold mb-6\">­ƒù║´©Å Where You're Heard (Districts)</h2>\r\n                        <DistrictChart data={data.districtBreakdown} />\r\n                    </div>\r\n\r\n                    {/* Age Demographics */}\r\n                    <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                        <h2 className=\"text-xl font-bold mb-6\">Listener Age Groups</h2>\r\n                        <AgeGroupChart data={data.audienceDemographics.ageGroups} />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Earnings Breakdown */}\r\n                <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800 mb-12\">\r\n                    <h2 className=\"text-xl font-bold mb-6\">Earnings Breakdown</h2>\r\n                    <div className=\"grid md:grid-cols-3 gap-6\">\r\n                        <div className=\"p-4 bg-zinc-800 rounded-lg border border-zinc-700\">\r\n                            <p className=\"text-zinc-400 text-sm\">From Streams</p>\r\n                            <p className=\"text-2xl font-bold mt-2 text-blue-400\">\r\n                                MWK {data.earnings_breakdown.streams.MWK.toLocaleString()}\r\n                            </p>\r\n                            <p className=\"text-xs text-zinc-500 mt-1\">\r\n                                {((data.earnings_breakdown.streams.MWK / data.totalEarnings.MWK) * 100).toFixed(0)}% of total\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"p-4 bg-zinc-800 rounded-lg border border-zinc-700\">\r\n                            <p className=\"text-zinc-400 text-sm\">From Boosts</p>\r\n                            <p className=\"text-2xl font-bold mt-2 text-pink-400\">\r\n                                MWK {data.earnings_breakdown.boosts.MWK.toLocaleString()}\r\n                            </p>\r\n                            <p className=\"text-xs text-zinc-500 mt-1\">\r\n                                {((data.earnings_breakdown.boosts.MWK / data.totalEarnings.MWK) * 100).toFixed(0)}% of total\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"p-4 bg-zinc-800 rounded-lg border border-zinc-700\">\r\n                            <p className=\"text-zinc-400 text-sm\">From Marketplace</p>\r\n                            <p className=\"text-2xl font-bold mt-2 text-purple-400\">\r\n                                MWK {data.earnings_breakdown.marketplace.MWK.toLocaleString()}\r\n                            </p>\r\n                            <p className=\"text-xs text-zinc-500 mt-1\">\r\n                                {((data.earnings_breakdown.marketplace.MWK / data.totalEarnings.MWK) * 100).toFixed(0)}% of total\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Top Performing Songs */}\r\n                <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800 mb-12\">\r\n                    <h2 className=\"text-xl font-bold mb-6\">Top Performing Tracks</h2>\r\n                    <div className=\"space-y-4\">\r\n                        {data.songEarnings.map((song) => (\r\n                            <div key={song.id} className=\"p-4 bg-zinc-800 rounded-lg border border-zinc-700 hover:border-zinc-600 transition\">\r\n                                <div className=\"flex justify-between items-start mb-3\">\r\n                                    <div>\r\n                                        <h3 className=\"font-semibold text-lg\">{song.title}</h3>\r\n                                        <p className=\"text-xs text-zinc-500\">{song.genre} ÔÇó Released {new Date(song.releasedAt).toLocaleDateString()}</p>\r\n                                    </div>\r\n                                    <div className=\"text-right\">\r\n                                        <p className=\"font-bold text-emerald-400\">MWK {song.earnings.MWK.toLocaleString()}</p>\r\n                                        <p className=\"text-xs text-zinc-500\">{song.streams.toLocaleString()} streams</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"grid md:grid-cols-4 gap-4 text-xs\">\r\n                                    <div>\r\n                                        <p className=\"text-zinc-500\">Likes</p>\r\n                                        <p className=\"text-white font-semibold\">{song.likes.toLocaleString()}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"text-zinc-500\">Boost ROI</p>\r\n                                        <p className=\"text-pink-400 font-semibold\">\r\n                                            {song.boostEarnings.MWK > 0\r\n                                                ? `${((song.boostEarnings.MWK / (song.earnings.MWK - song.boostEarnings.MWK)) * 100).toFixed(0)}%`\r\n                                                : 'N/A'}\r\n                                        </p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"text-zinc-500\">Boosts Used</p>\r\n                                        <p className=\"text-white font-semibold\">{song.boosts}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"text-zinc-500\">Engagement Rate</p>\r\n                                        <p className=\"text-white font-semibold\">{((song.likes / song.streams) * 100).toFixed(1)}%</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Device Breakdown */}\r\n                <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800 mb-12\">\r\n                    <h2 className=\"text-xl font-bold mb-6\">Streams by Device</h2>\r\n                    <div className=\"grid md:grid-cols-3 gap-4\">\r\n                        {data.audienceDemographics.topDevices.map((device) => (\r\n                            <div key={device.device} className=\"p-4 bg-zinc-800 rounded-lg border border-zinc-700\">\r\n                                <p className=\"text-zinc-400 text-sm\">{device.device}</p>\r\n                                <p className=\"text-2xl font-bold mt-2\">{device.percentage}%</p>\r\n                                <p className=\"text-xs text-zinc-500 mt-1\">{device.streams.toLocaleString()} streams</p>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Boost History */}\r\n                <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                    <h2 className=\"text-xl font-bold mb-6\">Recent Boosts & ROI</h2>\r\n                    <div className=\"space-y-3\">\r\n                        {data.boostHistory.map((boost) => {\r\n                            const song = data.songEarnings.find((s) => s.id === boost.songId);\r\n                            return (\r\n                                <div key={boost.id} className=\"p-4 bg-zinc-800 rounded-lg border border-zinc-700\">\r\n                                    <div className=\"flex justify-between items-start\">\r\n                                        <div>\r\n                                            <p className=\"font-semibold\">{song?.title || 'Unknown'}</p>\r\n                                            <p className=\"text-xs text-zinc-400\">\r\n                                                {boost.type} ÔÇó {boost.duration}h boost\r\n                                            </p>\r\n                                        </div>\r\n                                        <div className=\"text-right\">\r\n                                            <p className=\"font-bold text-pink-400\">MWK {boost.cost.MWK.toLocaleString()}</p>\r\n                                            <p className=\"text-xs text-zinc-500\">{boost.playsGenerated.toLocaleString()} plays generated</p>\r\n                                            <p className=\"text-xs text-emerald-400 mt-1\">ROI: +{boost.roi}%</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\artist\\checkout\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":207,"column":40,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[10625,10703],"text":"\r\n                                    You&apos;ll receive a payment prompt on your "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[10625,10703],"text":"\r\n                                    You&lsquo;ll receive a payment prompt on your "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[10625,10703],"text":"\r\n                                    You&#39;ll receive a payment prompt on your "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[10625,10703],"text":"\r\n                                    You&rsquo;ll receive a payment prompt on your "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":222,"column":107,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[11637,11717],"text":". I agree to NyasaWave&apos;s terms of service.\r\n                                    "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[11637,11717],"text":". I agree to NyasaWave&lsquo;s terms of service.\r\n                                    "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[11637,11717],"text":". I agree to NyasaWave&#39;s terms of service.\r\n                                    "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[11637,11717],"text":". I agree to NyasaWave&rsquo;s terms of service.\r\n                                    "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport { useState, Suspense } from 'react';\r\nimport { BOOST_TYPES } from '../../../data/boost-pricing';\r\n\r\nfunction CheckoutContent() {\r\n    const { user } = useAuth();\r\n    const router = useRouter();\r\n    const searchParams = useSearchParams();\r\n    const songId = searchParams.get('songId');\r\n    const boostType = searchParams.get('type') as keyof typeof BOOST_TYPES;\r\n\r\n    const [selectedMethod, setSelectedMethod] = useState<'airtel' | 'tnm' | 'paypal'>('airtel');\r\n    const [loading, setLoading] = useState(false);\r\n    const [phoneNumber, setPhoneNumber] = useState('');\r\n    const [agreed, setAgreed] = useState(false);\r\n\r\n    if (!user || user.role !== 'ARTIST') {\r\n        return (\r\n            <main className=\"min-h-screen p-6 max-w-4xl mx-auto pt-32 text-center\">\r\n                <h1 className=\"text-3xl font-bold\">Artist Only</h1>\r\n                <p className=\"text-zinc-400 mt-4\">Please sign in as an artist to continue.</p>\r\n            </main>\r\n        );\r\n    }\r\n\r\n    if (!songId || !boostType || !BOOST_TYPES[boostType]) {\r\n        return (\r\n            <main className=\"min-h-screen p-6 max-w-4xl mx-auto pt-32 text-center\">\r\n                <h1 className=\"text-3xl font-bold\">Invalid Boost Request</h1>\r\n                <p className=\"text-zinc-400 mt-4\">Please select a valid song and boost type.</p>\r\n                <Link href=\"/artist/dashboard\" className=\"text-emerald-400 mt-6 inline-block hover:underline\">\r\n                    Back to Dashboard\r\n                </Link>\r\n            </main>\r\n        );\r\n    }\r\n\r\n    const boost = BOOST_TYPES[boostType];\r\n\r\n    const handlePayment = async () => {\r\n        if (!phoneNumber) {\r\n            alert('Please enter your phone number');\r\n            return;\r\n        }\r\n\r\n        if (!agreed) {\r\n            alert('Please agree to the terms');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetch('/api/payments/initiate-boost', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    songId,\r\n                    boostType,\r\n                    method: selectedMethod,\r\n                    phoneNumber,\r\n                    amount: boost.price.MWK,\r\n                    currency: 'MWK',\r\n                }),\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            if (res.ok) {\r\n                // In production, redirect to payment provider\r\n                // For now, simulate success\r\n                alert(\r\n                    `Payment initiated for ${boost.name}!\\n\\nYou will receive a prompt on your ${selectedMethod.toUpperCase()} account.`\r\n                );\r\n                router.push(`/payment/success?boostId=${data.boostId}`);\r\n            } else {\r\n                alert(data?.error || 'Payment failed');\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n            alert('Payment initiation failed');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-gradient-to-b from-black via-zinc-900 to-black text-white pt-32 pb-20\">\r\n            <div className=\"max-w-4xl mx-auto px-6\">\r\n                <Link href=\"/artist/dashboard\" className=\"text-zinc-400 hover:text-white mb-12 inline-block\">\r\n                    ÔåÉ Back to Dashboard\r\n                </Link>\r\n\r\n                <div className=\"grid md:grid-cols-2 gap-12\">\r\n                    {/* Order Summary */}\r\n                    <div className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800 h-fit\">\r\n                        <h2 className=\"text-2xl font-bold mb-6\">Order Summary</h2>\r\n\r\n                        <div className=\"mb-8 pb-8 border-b border-zinc-700\">\r\n                            <div className=\"flex gap-4 mb-4\">\r\n                                <div className=\"w-16 h-16 rounded-lg bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center text-2xl\">\r\n                                    ­ƒÄÁ\r\n                                </div>\r\n                                <div>\r\n                                    <p className=\"text-sm text-zinc-400\">Boost Type</p>\r\n                                    <p className=\"font-bold text-lg\">{boost.name}</p>\r\n                                    <p className=\"text-xs text-zinc-500 mt-1\">{boost.durationHours}h duration</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"grid grid-cols-2 gap-2 text-xs mb-4\">\r\n                                {boost.features.slice(0, 4).map((feature, idx) => (\r\n                                    <div key={idx} className=\"flex items-center gap-2 text-zinc-300\">\r\n                                        <span className=\"text-emerald-400\">Ô£ô</span>\r\n                                        <span>{feature}</span>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Pricing Breakdown */}\r\n                        <div className=\"space-y-3 mb-8\">\r\n                            <div className=\"flex justify-between text-sm\">\r\n                                <span className=\"text-zinc-400\">Boost Cost</span>\r\n                                <span className=\"font-semibold\">MWK {boost.price.MWK.toLocaleString()}</span>\r\n                            </div>\r\n                            <div className=\"flex justify-between text-sm\">\r\n                                <span className=\"text-zinc-400\">Platform Fee (5%)</span>\r\n                                <span className=\"font-semibold\">\r\n                                    MWK {(boost.price.MWK * 0.05).toLocaleString()}\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"border-t border-zinc-700 pt-3 flex justify-between font-bold text-lg\">\r\n                                <span>Total</span>\r\n                                <span className=\"text-emerald-400\">\r\n                                    MWK {(boost.price.MWK * 1.05).toLocaleString()}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Expected ROI */}\r\n                        <div className=\"bg-zinc-800 rounded-lg p-4 border border-zinc-700\">\r\n                            <p className=\"text-xs text-zinc-400 mb-2\">Expected Performance</p>\r\n                            <p className=\"text-2xl font-bold text-pink-400 mb-1\">\r\n                                ~{boost.playsEstimate.toLocaleString()} plays\r\n                            </p>\r\n                            <p className=\"text-xs text-zinc-500\">\r\n                                Based on similar boosts (results vary)\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Payment Form */}\r\n                    <div>\r\n                        <div className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800 mb-6\">\r\n                            <h2 className=\"text-2xl font-bold mb-6\">Payment Details</h2>\r\n\r\n                            {/* Payment Method */}\r\n                            <div className=\"mb-8\">\r\n                                <label className=\"text-zinc-400 text-sm font-semibold block mb-3\">\r\n                                    Payment Method\r\n                                </label>\r\n                                <div className=\"space-y-2\">\r\n                                    {[\r\n                                        { id: 'airtel', name: 'Airtel Money', icon: '­ƒô▒' },\r\n                                        { id: 'tnm', name: 'TNM Mpamba', icon: '­ƒô▓' },\r\n                                    ].map((method) => (\r\n                                        <label\r\n                                            key={method.id}\r\n                                            className={`flex items-center gap-3 p-3 rounded-lg border-2 cursor-pointer transition ${selectedMethod === method.id\r\n                                                ? 'border-emerald-500 bg-emerald-500/10'\r\n                                                : 'border-zinc-700 bg-zinc-800 hover:border-zinc-600'\r\n                                                }`}\r\n                                        >\r\n                                            <input\r\n                                                type=\"radio\"\r\n                                                name=\"payment-method\"\r\n                                                value={method.id}\r\n                                                checked={selectedMethod === method.id}\r\n                                                onChange={(e) => setSelectedMethod(e.target.value as any)}\r\n                                                className=\"w-4 h-4 cursor-pointer\"\r\n                                            />\r\n                                            <span className=\"text-lg\">{method.icon}</span>\r\n                                            <span className=\"font-semibold\">{method.name}</span>\r\n                                        </label>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Phone Number */}\r\n                            <div className=\"mb-8\">\r\n                                <label htmlFor=\"phone\" className=\"text-zinc-400 text-sm font-semibold block mb-3\">\r\n                                    {selectedMethod === 'airtel' ? 'Airtel Money Number' : 'TNM Mpamba Number'}\r\n                                </label>\r\n                                <input\r\n                                    id=\"phone\"\r\n                                    type=\"tel\"\r\n                                    placeholder={selectedMethod === 'airtel' ? '0801234567' : '0701234567'}\r\n                                    value={phoneNumber}\r\n                                    onChange={(e) => setPhoneNumber(e.target.value)}\r\n                                    className=\"w-full px-4 py-3 rounded-lg bg-zinc-800 border border-zinc-700 text-white placeholder-zinc-500 focus:border-emerald-500 focus:outline-none\"\r\n                                />\r\n                                <p className=\"text-xs text-zinc-500 mt-2\">\r\n                                    You'll receive a payment prompt on your {selectedMethod.toUpperCase()} app\r\n                                </p>\r\n                            </div>\r\n\r\n                            {/* Terms */}\r\n                            <div className=\"mb-8\">\r\n                                <label className=\"flex items-start gap-3 cursor-pointer\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={agreed}\r\n                                        onChange={(e) => setAgreed(e.target.checked)}\r\n                                        className=\"w-4 h-4 mt-1 cursor-pointer\"\r\n                                    />\r\n                                    <span className=\"text-xs text-zinc-400\">\r\n                                        I understand that boosts are non-refundable and expire after{' '}\r\n                                        <strong>{boost.durationHours} hours</strong>. I agree to NyasaWave's terms of service.\r\n                                    </span>\r\n                                </label>\r\n                            </div>\r\n\r\n                            {/* Payment Button */}\r\n                            <button\r\n                                onClick={handlePayment}\r\n                                disabled={loading || !phoneNumber || !agreed}\r\n                                className={`w-full py-3 rounded-lg font-bold text-white transition ${loading || !phoneNumber || !agreed\r\n                                    ? 'bg-zinc-700 cursor-not-allowed opacity-50'\r\n                                    : 'bg-emerald-500 hover:bg-emerald-400'\r\n                                    }`}\r\n                            >\r\n                                {loading\r\n                                    ? 'Processing Payment...'\r\n                                    : `Pay MWK ${(boost.price.MWK * 1.05).toLocaleString()}`}\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Trust Indicators */}\r\n                        <div className=\"space-y-2 text-xs text-zinc-500\">\r\n                            <div className=\"flex gap-2 items-center\">\r\n                                <span>­ƒöÆ</span>\r\n                                <span>Payments are secure and processed via trusted providers</span>\r\n                            </div>\r\n                            <div className=\"flex gap-2 items-center\">\r\n                                <span>ÔÅ▒´©Å</span>\r\n                                <span>Most boosts activate within 15 minutes</span>\r\n                            </div>\r\n                            <div className=\"flex gap-2 items-center\">\r\n                                <span>­ƒôè</span>\r\n                                <span>Track your boost performance in real-time</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default function CheckoutPage() {\r\n    return (\r\n        <Suspense fallback={<div>Loading...</div>}>\r\n            <CheckoutContent />\r\n        </Suspense>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\artist\\dashboard\\page.tsx","messages":[{"ruleId":"react-hooks/rules-of-hooks","severity":2,"message":"React Hook \"useEffect\" is called conditionally. React Hooks must be called in the exact same order in every component render. Did you accidentally call a React Hook after an early return?","line":31,"column":3,"nodeType":"Identifier","endLine":31,"endColumn":12},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchTracks'. Either include it or remove the dependency array.","line":34,"column":6,"nodeType":"ArrayExpression","endLine":34,"endColumn":12,"suggestions":[{"desc":"Update the dependencies array to be: [fetchTracks, user]","fix":{"range":[1332,1338],"text":"[fetchTracks, user]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function ArtistDashboard() {\r\n  const { user, signOut } = useAuth();\r\n  const router = useRouter();\r\n  const [tracks, setTracks] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [scheduling, setScheduling] = useState<Record<string, string>>({});\r\n  const [boostHours, setBoostHours] = useState<Record<string, number>>({});\r\n  const [playingTrackId, setPlayingTrackId] = useState<string | null>(null);\r\n  const [showDetails, setShowDetails] = useState<Record<string, boolean>>({});\r\n\r\n  // Check if user is authenticated and is an artist\r\n  if (!user || user.role !== 'ARTIST') {\r\n    return (\r\n      <main className=\"min-h-screen p-6 max-w-4xl mx-auto pt-32 text-center\">\r\n        <h1 className=\"text-3xl font-bold\">Artist Only</h1>\r\n        <p className=\"text-zinc-400 mt-4\">This page is for artists only.</p>\r\n        <Link href=\"/artist/signin\" className=\"text-emerald-400 mt-6 inline-block hover:underline\">\r\n          Sign in as an artist\r\n        </Link>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!user || user.role !== 'ARTIST') return;\r\n    fetchTracks();\r\n  }, [user]);\r\n\r\n  const fetchTracks = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch(`/api/artist/releases?artistId=${user?.id}`);\r\n      if (!res.ok) throw new Error('Failed to fetch');\r\n      const data = await res.json();\r\n      setTracks(Array.isArray(data) ? data : []);\r\n    } catch (err) {\r\n      console.error('Failed to load tracks', err);\r\n      setTracks([]);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    signOut();\r\n    router.push('/artist/signin');\r\n  };\r\n\r\n  const scheduleRelease = async (songId: string) => {\r\n    const scheduledAt = scheduling[songId];\r\n    if (!scheduledAt) return alert('Choose a date and time to schedule');\r\n    try {\r\n      const res = await fetch('/api/artist/releases', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ action: 'schedule', songId, scheduledAt, artistId: user?.id }),\r\n      });\r\n      const json = await res.json();\r\n      if (res.ok) {\r\n        alert('Release scheduled');\r\n        fetchTracks();\r\n      } else {\r\n        alert(json?.error || 'Failed to schedule');\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('Failed to schedule release');\r\n    }\r\n  };\r\n\r\n  const boostTrack = async (songId: string) => {\r\n    const hours = boostHours[songId] || 24;\r\n    try {\r\n      const res = await fetch('/api/artist/releases', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ action: 'boost', songId, hours, artistId: user?.id }),\r\n      });\r\n      const json = await res.json();\r\n      if (res.ok) {\r\n        alert('Track boosted globally');\r\n        fetchTracks();\r\n      } else {\r\n        alert(json?.error || 'Failed to boost');\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('Failed to boost track');\r\n    }\r\n  };\r\n\r\n  const totalPlays = tracks.reduce((s, t) => s + (t.plays || 0), 0);\r\n  const totalLikes = tracks.reduce((s, t) => s + (t.likes || 0), 0);\r\n  const totalTracks = tracks.length;\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-gradient-to-b from-black via-zinc-900 to-black text-white pt-32 pb-20\">\r\n      <div className=\"max-w-6xl mx-auto px-6\">\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-center mb-12\">\r\n          <div>\r\n            <h1 className=\"text-4xl font-bold\">Artist Dashboard</h1>\r\n            <p className=\"text-zinc-400 mt-2\">Manage your music & track your success</p>\r\n            {user && <p className=\"text-sm text-zinc-500 mt-1\">Welcome, {user.name}</p>}\r\n          </div>\r\n          <div className=\"flex gap-3\">\r\n            <Link href=\"/artist/upload\" className=\"bg-emerald-400 text-black px-6 py-3 rounded-lg font-semibold hover:bg-emerald-300 transition\">\r\n              + Upload Track\r\n            </Link>\r\n            <Link href=\"/artist/earnings\" className=\"bg-pink-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-pink-500 transition\">\r\n              ­ƒÆ░ View Earnings\r\n            </Link>\r\n            <button onClick={fetchTracks} className=\"bg-zinc-800 text-white px-4 py-2 rounded-lg font-medium hover:bg-zinc-700 transition\">\r\n              Refresh\r\n            </button>\r\n            <button onClick={handleLogout} className=\"bg-zinc-700 text-white px-6 py-3 rounded-lg font-semibold hover:bg-zinc-600 transition\">\r\n              Sign Out\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stats Overview */}\r\n        <div className=\"grid md:grid-cols-3 gap-6 mb-12\">\r\n          <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n            <p className=\"text-zinc-400 text-sm\">Total Plays</p>\r\n            <p className=\"text-3xl font-bold mt-2\">{totalPlays.toLocaleString()}</p>\r\n            <p className=\"text-emerald-400 text-xs mt-2\">Tracks: {totalTracks}</p>\r\n          </div>\r\n          <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n            <p className=\"text-zinc-400 text-sm\">Total Likes</p>\r\n            <p className=\"text-3xl font-bold mt-2\">{totalLikes.toLocaleString()}</p>\r\n            <p className=\"text-emerald-400 text-xs mt-2\">Audience engagement</p>\r\n          </div>\r\n          <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n            <p className=\"text-zinc-400 text-sm\">Boosted Tracks</p>\r\n            <p className=\"text-3xl font-bold mt-2\">{tracks.filter(t => t.isBoosted).length}</p>\r\n            <p className=\"text-emerald-400 text-xs mt-2\">Active promotions</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Uploaded Tracks with scheduling & boost controls */}\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold mb-6\">Your Tracks</h2>\r\n          {loading && <p className=\"text-sm text-zinc-400 mb-4\">Loading...</p>}\r\n          <div className=\"space-y-4\">\r\n            {tracks.map((track) => (\r\n              <div\r\n                key={track.id}\r\n                className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800 hover:border-zinc-700 transition\"\r\n              >\r\n                <div className=\"flex justify-between items-start gap-6\">\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-start justify-between gap-4\">\r\n                      <div className=\"flex-1\">\r\n                        <h3 className=\"font-semibold text-lg\">{track.title}</h3>\r\n                        <p className=\"text-sm text-zinc-400 mt-1\">{track.artist}</p>\r\n                        <p className=\"text-xs text-zinc-500 mt-2\">{track.genre}</p>\r\n\r\n                        {/* Track Stats */}\r\n                        <div className=\"flex gap-4 mt-3 text-xs\">\r\n                          <span className=\"text-zinc-400\">ÔûÂ {track.plays?.toLocaleString() || 0} plays</span>\r\n                          <span className=\"text-zinc-400\">ÔÖÑ {track.likes?.toLocaleString() || 0} likes</span>\r\n                          {track.duration && <span className=\"text-zinc-400\">ÔÅ▒ {track.duration}</span>}\r\n                        </div>\r\n\r\n                        {/* Status Badges */}\r\n                        <div className=\"flex gap-2 mt-2\">\r\n                          {track.isBoosted && <span className=\"text-xs bg-pink-900/50 text-pink-300 px-2 py-1 rounded\">­ƒÜÇ Boosted</span>}\r\n                          {track.copyrightStatus === 'clear' && <span className=\"text-xs bg-emerald-900/50 text-emerald-300 px-2 py-1 rounded\">Ô£ô Copyright Clear</span>}\r\n                          {track.copyrightStatus === 'warning' && <span className=\"text-xs bg-yellow-900/50 text-yellow-300 px-2 py-1 rounded\">ÔÜá´©Å Copyright Warning</span>}\r\n                        </div>\r\n\r\n                        {/* Show Full Details Button */}\r\n                        <button\r\n                          onClick={() => setShowDetails({ ...showDetails, [track.id]: !showDetails[track.id] })}\r\n                          className=\"text-xs text-emerald-400 hover:text-emerald-300 mt-2 transition\"\r\n                        >\r\n                          {showDetails[track.id] ? 'Ôû╝ Hide Details' : 'ÔûÂ Show Full Details'}\r\n                        </button>\r\n                      </div>\r\n\r\n                      {/* Play Button */}\r\n                      <div className=\"flex gap-2\">\r\n                        <button\r\n                          onClick={() => setPlayingTrackId(playingTrackId === track.id ? null : track.id)}\r\n                          className=\"bg-emerald-500 text-black px-4 py-2 rounded font-semibold hover:bg-emerald-400 transition text-sm\"\r\n                        >\r\n                          {playingTrackId === track.id ? 'ÔÅ© Stop' : 'ÔûÂ Play'}\r\n                        </button>\r\n                        <button\r\n                          onClick={() => {\r\n                            const link = document.createElement('a');\r\n                            link.href = `/api/artist/download-track?trackId=${track.id}`;\r\n                            link.download = `${track.title}.mp3`;\r\n                            document.body.appendChild(link);\r\n                            link.click();\r\n                            document.body.removeChild(link);\r\n                          }}\r\n                          className=\"bg-blue-600 text-white px-4 py-2 rounded font-semibold hover:bg-blue-500 transition text-sm\"\r\n                        >\r\n                          Ô¼ç Download\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Full Details Section */}\r\n                    {showDetails[track.id] && (\r\n                      <div className=\"mt-4 p-4 bg-zinc-800/50 rounded border border-zinc-700 text-sm\">\r\n                        <div className=\"grid grid-cols-2 gap-4\">\r\n                          {track.albumName && <div><span className=\"text-zinc-400\">Album:</span> {track.albumName}</div>}\r\n                          {track.composer && <div><span className=\"text-zinc-400\">Composer:</span> {track.composer}</div>}\r\n                          {track.producer && <div><span className=\"text-zinc-400\">Producer:</span> {track.producer}</div>}\r\n                          {track.releaseDate && <div><span className=\"text-zinc-400\">Released:</span> {new Date(track.releaseDate).toLocaleDateString()}</div>}\r\n                          {track.copyrightHolder && <div><span className=\"text-zinc-400\">Copyright:</span> {track.copyrightHolder}</div>}\r\n                          {track.isOriginal && <div className=\"text-emerald-400\">Ô£ô Original Composition</div>}\r\n                        </div>\r\n                        {track.description && (\r\n                          <p className=\"text-zinc-400 mt-4\">{track.description}</p>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Now Playing */}\r\n                    {playingTrackId === track.id && (\r\n                      <div className=\"mt-3 p-3 bg-emerald-900/30 border border-emerald-600/30 rounded\">\r\n                        <p className=\"text-xs text-emerald-300\">­ƒÄÁ Now Playing: {track.title}</p>\r\n                        <div className=\"w-full bg-zinc-700 rounded-full h-1 mt-2\">\r\n                          <div className=\"bg-emerald-500 h-1 rounded-full w-1/3\"></div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {track.scheduledAt && (\r\n                      <p className=\"text-xs text-amber-300 mt-2\">­ƒôà Scheduled: {new Date(track.scheduledAt).toLocaleString()}</p>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"w-80\">\r\n                    <div className=\"mb-3\">\r\n                      <label htmlFor={`schedule-${track.id}`} className=\"text-zinc-400 text-xs\">Schedule Release</label>\r\n                      <input\r\n                        id={`schedule-${track.id}`}\r\n                        value={scheduling[track.id] || ''}\r\n                        onChange={(e) => setScheduling({ ...scheduling, [track.id]: e.target.value })}\r\n                        type=\"datetime-local\"\r\n                        placeholder=\"Pick date and time\"\r\n                        title=\"Schedule when to release this track\"\r\n                        className=\"w-full mt-2 px-3 py-2 rounded bg-zinc-800 border border-zinc-700 text-white text-sm\"\r\n                      />\r\n                      <div className=\"flex gap-2 mt-2\">\r\n                        <button onClick={() => scheduleRelease(track.id)} className=\"flex-1 bg-emerald-500 text-black px-3 py-2 rounded font-semibold hover:bg-emerald-400 transition\">\r\n                          Schedule\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label htmlFor={`boost-${track.id}`} className=\"text-zinc-400 text-xs\">Boost Globally (hours)</label>\r\n                      <div className=\"flex gap-2 mt-2\">\r\n                        <input\r\n                          id={`boost-${track.id}`}\r\n                          type=\"number\"\r\n                          min={1}\r\n                          value={boostHours[track.id] || 24}\r\n                          onChange={(e) => setBoostHours({ ...boostHours, [track.id]: Number(e.target.value) })}\r\n                          placeholder=\"24\"\r\n                          title=\"Number of hours to boost\"\r\n                          className=\"w-24 px-3 py-2 rounded bg-zinc-800 border border-zinc-700 text-white text-sm\"\r\n                        />\r\n                        <button onClick={() => boostTrack(track.id)} className=\"flex-1 bg-pink-600 text-white px-3 py-2 rounded font-semibold hover:bg-pink-500 transition\">\r\n                          Boost\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n            {!loading && tracks.length === 0 && <p className=\"text-zinc-500\">No tracks found. Upload a track to get started.</p>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\artist\\dashboard\\page_fixed.tsx","messages":[{"ruleId":"react-hooks/rules-of-hooks","severity":2,"message":"React Hook \"useEffect\" is called conditionally. React Hooks must be called in the exact same order in every component render. Did you accidentally call a React Hook after an early return?","line":28,"column":3,"nodeType":"Identifier","endLine":28,"endColumn":12},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchTracks'. Either include it or remove the dependency array.","line":31,"column":6,"nodeType":"ArrayExpression","endLine":31,"endColumn":12,"suggestions":[{"desc":"Update the dependencies array to be: [fetchTracks, user]","fix":{"range":[1120,1126],"text":"[fetchTracks, user]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function ArtistDashboard() {\r\n  const { user, signOut } = useAuth();\r\n  const router = useRouter();\r\n  const [tracks, setTracks] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [scheduling, setScheduling] = useState<Record<string, string>>({});\r\n  const [boostHours, setBoostHours] = useState<Record<string, number>>({});\r\n\r\n  if (!user || user.role !== 'ARTIST') {\r\n    return (\r\n      <main className=\"min-h-screen p-6 max-w-4xl mx-auto pt-32 text-center\">\r\n        <h1 className=\"text-3xl font-bold\">Artist Only</h1>\r\n        <p className=\"text-zinc-400 mt-4\">This page is for artists only.</p>\r\n        <Link href=\"/artist/signin\" className=\"text-emerald-400 mt-6 inline-block hover:underline\">\r\n          Sign in as an artist\r\n        </Link>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!user || user.role !== 'ARTIST') return;\r\n    fetchTracks();\r\n  }, [user]);\r\n\r\n  const fetchTracks = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch(`/api/artist/releases?artistId=${user.id}`);\r\n      const data = await res.json();\r\n      setTracks(data || []);\r\n    } catch (err) {\r\n      console.error('Failed to load tracks', err);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    signOut();\r\n    router.push('/artist/signin');\r\n  };\r\n\r\n  const totalPlays = tracks.reduce((s, t) => s + (t.plays || 0), 0);\r\n  const totalLikes = tracks.reduce((s, t) => s + (t.likes || 0), 0);\r\n  const totalTracks = tracks.length;\r\n\r\n  const scheduleRelease = async (songId: string) => {\r\n    const scheduledAt = scheduling[songId];\r\n    if (!scheduledAt) return alert('Choose a date and time to schedule');\r\n    try {\r\n      const res = await fetch('/api/artist/releases', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ songId, scheduledAt }),\r\n      });\r\n      const json = await res.json();\r\n      if (res.ok) {\r\n        alert('Release scheduled');\r\n        fetchTracks();\r\n      } else {\r\n        alert(json?.error || 'Failed to schedule');\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('Failed to schedule release');\r\n    }\r\n  };\r\n\r\n  const boostTrack = async (songId: string) => {\r\n    const hours = boostHours[songId] || 24;\r\n    try {\r\n      const res = await fetch('/api/artist/boost', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ songId, hours }),\r\n      });\r\n      const json = await res.json();\r\n      if (res.ok) {\r\n        alert('Track boosted globally');\r\n        fetchTracks();\r\n      } else {\r\n        alert(json?.error || 'Failed to boost');\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('Failed to boost track');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-gradient-to-b from-black via-zinc-900 to-black text-white pt-32 pb-20\">\r\n      <div className=\"max-w-6xl mx-auto px-6\">\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-center mb-12\">\r\n          <div>\r\n            <h1 className=\"text-4xl font-bold\">Artist Dashboard</h1>\r\n            <p className=\"text-zinc-400 mt-2\">Manage your music & track your success</p>\r\n            {user && <p className=\"text-sm text-zinc-500 mt-1\">Welcome, {user.name}</p>}\r\n          </div>\r\n          <div className=\"flex gap-3\">\r\n            <Link href=\"/artist/upload\" className=\"bg-emerald-400 text-black px-6 py-3 rounded-lg font-semibold hover:bg-emerald-300 transition\">\r\n              + Upload Track\r\n            </Link>\r\n            <button onClick={handleLogout} className=\"bg-zinc-700 text-white px-6 py-3 rounded-lg font-semibold hover:bg-zinc-600 transition\">\r\n              Sign Out\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stats Overview */}\r\n        <div className=\"grid md:grid-cols-3 gap-6 mb-12\">\r\n          <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n            <p className=\"text-zinc-400 text-sm\">Total Plays</p>\r\n            <p className=\"text-3xl font-bold mt-2\">{totalPlays.toLocaleString()}</p>\r\n            <p className=\"text-emerald-400 text-xs mt-2\">Tracks: {totalTracks}</p>\r\n          </div>\r\n          <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n            <p className=\"text-zinc-400 text-sm\">Total Likes</p>\r\n            <p className=\"text-3xl font-bold mt-2\">{totalLikes.toLocaleString()}</p>\r\n            <p className=\"text-emerald-400 text-xs mt-2\">Audience engagement</p>\r\n          </div>\r\n          <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n            <p className=\"text-zinc-400 text-sm\">Boosted Tracks</p>\r\n            <p className=\"text-3xl font-bold mt-2\">{tracks.filter(t => t.isBoosted).length}</p>\r\n            <p className=\"text-emerald-400 text-xs mt-2\">Active promotions</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Uploaded Tracks with scheduling & boost controls */}\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold mb-6\">Your Tracks</h2>\r\n          {loading && <p className=\"text-sm text-zinc-400 mb-4\">Loading...</p>}\r\n          <div className=\"space-y-4\">\r\n            {tracks.map((track) => (\r\n              <div\r\n                key={track.id}\r\n                className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800 hover:border-zinc-700 transition\"\r\n              >\r\n                <div className=\"flex justify-between items-start gap-6\">\r\n                  <div className=\"flex-1\">\r\n                    <h3 className=\"font-semibold text-lg\">{track.title}</h3>\r\n                    <p className=\"text-sm text-zinc-400 mt-1\">{track.genre}</p>\r\n                    <p className=\"text-xs text-zinc-500 mt-2\">Plays: {track.plays?.toLocaleString() || 0} ÔÇó Likes: {track.likes?.toLocaleString() || 0}</p>\r\n                    {track.scheduledAt && (\r\n                      <p className=\"text-xs text-amber-300 mt-2\">Scheduled: {new Date(track.scheduledAt).toLocaleString()}</p>\r\n                    )}\r\n                    {track.isBoosted && (\r\n                      <p className=\"text-xs text-emerald-300 mt-1\">Boost active until {new Date(track.boostExpiresAt).toLocaleString()}</p>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"w-80\">\r\n                    <div className=\"mb-3\">\r\n                      <label htmlFor={`schedule-${track.id}`} className=\"text-zinc-400 text-xs\">Schedule Release</label>\r\n                      <input\r\n                        id={`schedule-${track.id}`}\r\n                        value={scheduling[track.id] || ''}\r\n                        onChange={(e) => setScheduling({ ...scheduling, [track.id]: e.target.value })}\r\n                        type=\"datetime-local\"\r\n                        placeholder=\"Select date and time\"\r\n                        className=\"w-full mt-2 px-3 py-2 rounded bg-zinc-800 border border-zinc-700 text-white text-sm\"\r\n                      />\r\n                      <div className=\"flex gap-2 mt-2\">\r\n                        <button onClick={() => scheduleRelease(track.id)} className=\"flex-1 bg-emerald-500 text-black px-3 py-2 rounded font-semibold hover:bg-emerald-400 transition\">\r\n                          Schedule\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label htmlFor={`boost-hours-${track.id}`} className=\"text-zinc-400 text-xs\">Boost Globally (hours)</label>\r\n                      <div className=\"flex gap-2 mt-2\">\r\n                        <input\r\n                          id={`boost-hours-${track.id}`}\r\n                          type=\"number\"\r\n                          min={1}\r\n                          placeholder=\"24\"\r\n                          value={boostHours[track.id] || 24}\r\n                          onChange={(e) => setBoostHours({ ...boostHours, [track.id]: Number(e.target.value) })}\r\n                          className=\"w-24 px-3 py-2 rounded bg-zinc-800 border border-zinc-700 text-white text-sm\"\r\n                        />\r\n                        <button onClick={() => boostTrack(track.id)} className=\"flex-1 bg-pink-600 text-white px-3 py-2 rounded font-semibold hover:bg-pink-500 transition\">\r\n                          Boost\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n            {!loading && tracks.length === 0 && <p className=\"text-zinc-500\">No tracks found. Upload a track to get started.</p>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\artist\\earnings\\page.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchEarnings'. Either include it or remove the dependency array.","line":47,"column":6,"nodeType":"ArrayExpression","endLine":47,"endColumn":19,"suggestions":[{"desc":"Update the dependencies array to be: [user, token, fetchEarnings]","fix":{"range":[1405,1418],"text":"[user, token, fetchEarnings]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useAuth } from '@/app/context/AuthContext';\r\nimport { useState, useEffect } from 'react';\r\n\r\ninterface Withdrawal {\r\n  id: string;\r\n  artistId: string;\r\n  amount: number;\r\n  currency: string;\r\n  method: string;\r\n  status: 'pending' | 'processing' | 'completed' | 'failed';\r\n  requestedAt: string;\r\n  processedAt?: string;\r\n}\r\n\r\ninterface Earnings {\r\n  totalEarned: number;\r\n  totalPending: number;\r\n  totalWithdrawn: number;\r\n  bySource: {\r\n    streams: number;\r\n    adClicks: number;\r\n    subscriptions: number;\r\n    boosts: number;\r\n  };\r\n  recentTransactions: any[];\r\n}\r\n\r\nexport default function ArtistEarnings() {\r\n  const { user, token } = useAuth();\r\n  const [earnings, setEarnings] = useState<Earnings | null>(null);\r\n  const [withdrawals, setWithdrawals] = useState<Withdrawal[]>([]);\r\n  const [availableBalance, setAvailableBalance] = useState(0);\r\n  const [withdrawalAmount, setWithdrawalAmount] = useState('');\r\n  const [phoneNumber, setPhoneNumber] = useState('');\r\n  const [selectedMethod, setSelectedMethod] = useState<'airtel_money' | 'tnm_mpamba'>('airtel_money');\r\n  const [loading, setLoading] = useState(true);\r\n  const [withdrawing, setWithdrawing] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (user && user.role === 'ARTIST' && token) {\r\n      fetchEarnings();\r\n    }\r\n  }, [user, token]);\r\n\r\n  const fetchEarnings = async () => {\r\n    try {\r\n      // Fetch earnings\r\n      const earningsRes = await fetch('/api/artist/earnings', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n      });\r\n      if (earningsRes.ok) {\r\n        const data = await earningsRes.json();\r\n        setEarnings(data.earnings);\r\n        setAvailableBalance(data.availableForWithdrawal);\r\n      }\r\n\r\n      // Fetch withdrawals\r\n      const withdrawRes = await fetch('/api/artist/withdraw', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n      });\r\n      if (withdrawRes.ok) {\r\n        const data = await withdrawRes.json();\r\n        setWithdrawals(data.withdrawals || []);\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to fetch earnings:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleWithdrawal = async () => {\r\n    if (!withdrawalAmount || parseFloat(withdrawalAmount) <= 0) {\r\n      setMessage('Please enter a valid amount');\r\n      return;\r\n    }\r\n    if (!phoneNumber) {\r\n      setMessage('Please enter your phone number');\r\n      return;\r\n    }\r\n    if (parseFloat(withdrawalAmount) > availableBalance) {\r\n      setMessage('Insufficient balance');\r\n      return;\r\n    }\r\n\r\n    setWithdrawing(true);\r\n    setMessage('');\r\n\r\n    try {\r\n      const res = await fetch('/api/artist/withdraw', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          amount: parseFloat(withdrawalAmount),\r\n          method: selectedMethod,\r\n          phoneNumber,\r\n          currency: 'USD',\r\n        }),\r\n      });\r\n      const data = await res.json();\r\n      if (res.ok) {\r\n        setMessage('Ô£ô Withdrawal initiated! Funds arrive in 1-2 hours.');\r\n        setWithdrawalAmount('');\r\n        setPhoneNumber('');\r\n        fetchEarnings();\r\n        setTimeout(() => setMessage(''), 3000);\r\n      } else {\r\n        setMessage(data?.error || 'Withdrawal failed');\r\n      }\r\n    } catch (err) {\r\n      setMessage('Withdrawal failed');\r\n      console.error(err);\r\n    } finally {\r\n      setWithdrawing(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-gradient-to-b from-black via-zinc-900 to-black text-white pt-32 pb-20\">\r\n      <div className=\"max-w-4xl mx-auto px-6\">\r\n        {/* Header */}\r\n        <div className=\"mb-12\">\r\n          <div className=\"flex justify-between items-start\">\r\n            <div>\r\n              <h1 className=\"text-4xl font-bold\">Your Earnings</h1>\r\n              <p className=\"text-zinc-400 mt-2\">Track and withdraw your revenue</p>\r\n            </div>\r\n            <Link\r\n              href=\"/artist/dashboard\"\r\n              className=\"text-zinc-400 hover:text-white transition underline text-sm\"\r\n            >\r\n              Dashboard\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div className=\"text-center py-12\">\r\n            <p className=\"text-zinc-400\">Loading earnings...</p>\r\n          </div>\r\n        ) : !user || user.role !== 'ARTIST' ? (\r\n          <div className=\"bg-blue-900 border border-blue-700 rounded-lg p-12 text-center\">\r\n            <h2 className=\"text-2xl font-bold mb-4\">Artist Only</h2>\r\n            <p className=\"text-blue-100 mb-6\">This page is for artists only.</p>\r\n            <Link\r\n              href=\"/artist/signin\"\r\n              className=\"inline-block bg-emerald-500 text-black px-6 py-2 rounded-lg font-semibold hover:bg-emerald-400 transition\"\r\n            >\r\n              Sign in as an artist\r\n            </Link>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {message && (\r\n              <div className={`px-6 py-4 rounded-lg mb-6 ${message.includes('Ô£ô')\r\n                  ? 'bg-emerald-900 text-emerald-100'\r\n                  : 'bg-red-900 text-red-100'\r\n                }`}>\r\n                {message}\r\n              </div>\r\n            )}\r\n\r\n            {/* Balance Overview */}\r\n            <div className=\"grid md:grid-cols-4 gap-4 mb-12\">\r\n              <div className=\"bg-gradient-to-br from-emerald-900 to-emerald-800 rounded-lg p-6 border border-emerald-700\">\r\n                <p className=\"text-emerald-300 text-xs font-semibold uppercase\">Available Balance</p>\r\n                <p className=\"text-3xl font-bold mt-2\">${availableBalance.toFixed(2)}</p>\r\n              </div>\r\n\r\n              <div className=\"bg-gradient-to-br from-blue-900 to-blue-800 rounded-lg p-6 border border-blue-700\">\r\n                <p className=\"text-blue-300 text-xs font-semibold uppercase\">Total Earned</p>\r\n                <p className=\"text-3xl font-bold mt-2\">${earnings?.totalEarned.toFixed(2) || '0'}</p>\r\n              </div>\r\n\r\n              <div className=\"bg-gradient-to-br from-purple-900 to-purple-800 rounded-lg p-6 border border-purple-700\">\r\n                <p className=\"text-purple-300 text-xs font-semibold uppercase\">This Month</p>\r\n                <p className=\"text-3xl font-bold mt-2\">${(earnings?.bySource.streams || 0).toFixed(2)}</p>\r\n              </div>\r\n\r\n              <div className=\"bg-gradient-to-br from-yellow-900 to-yellow-800 rounded-lg p-6 border border-yellow-700\">\r\n                <p className=\"text-yellow-300 text-xs font-semibold uppercase\">Ad Revenue</p>\r\n                <p className=\"text-3xl font-bold mt-2\">${(earnings?.bySource.adClicks || 0).toFixed(2)}</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Breakdown by Source */}\r\n            {earnings && (\r\n              <div className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800 mb-12\">\r\n                <h2 className=\"text-2xl font-bold mb-6\">Revenue Breakdown</h2>\r\n                <div className=\"grid md:grid-cols-4 gap-4\">\r\n                  <div className=\"p-4 bg-zinc-800 rounded-lg\">\r\n                    <p className=\"text-zinc-400 text-sm\">Streams</p>\r\n                    <p className=\"text-2xl font-bold mt-2\">${earnings.bySource.streams.toFixed(2)}</p>\r\n                    <p className=\"text-xs text-zinc-500 mt-1\">$0.005 per stream</p>\r\n                  </div>\r\n                  <div className=\"p-4 bg-zinc-800 rounded-lg\">\r\n                    <p className=\"text-zinc-400 text-sm\">Ad Clicks</p>\r\n                    <p className=\"text-2xl font-bold mt-2\">${earnings.bySource.adClicks.toFixed(2)}</p>\r\n                    <p className=\"text-xs text-zinc-500 mt-1\">$0.25 per click</p>\r\n                  </div>\r\n                  <div className=\"p-4 bg-zinc-800 rounded-lg\">\r\n                    <p className=\"text-zinc-400 text-sm\">Subscriptions</p>\r\n                    <p className=\"text-2xl font-bold mt-2\">${earnings.bySource.subscriptions.toFixed(2)}</p>\r\n                    <p className=\"text-xs text-zinc-500 mt-1\">10% revenue share</p>\r\n                  </div>\r\n                  <div className=\"p-4 bg-zinc-800 rounded-lg\">\r\n                    <p className=\"text-zinc-400 text-sm\">Boosts</p>\r\n                    <p className=\"text-2xl font-bold mt-2\">${earnings.bySource.boosts.toFixed(2)}</p>\r\n                    <p className=\"text-xs text-zinc-500 mt-1\">Track boost fees</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Withdrawal Section */}\r\n            <div className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800 mb-12\">\r\n              <h2 className=\"text-2xl font-bold mb-6\">Withdraw Earnings</h2>\r\n\r\n              {/* Payment Method Selection */}\r\n              <div className=\"mb-8\">\r\n                <label className=\"text-zinc-400 text-sm font-semibold block mb-3\">\r\n                  Payment Method\r\n                </label>\r\n                <div className=\"grid md:grid-cols-2 gap-4\">\r\n                  {[\r\n                    { id: 'airtel_money', name: 'Airtel Money', icon: '­ƒô▒' },\r\n                    { id: 'tnm_mpamba', name: 'TNM Mpamba', icon: '­ƒô▓' },\r\n                  ].map((method) => (\r\n                    <button\r\n                      key={method.id}\r\n                      onClick={() => setSelectedMethod(method.id as any)}\r\n                      className={`p-4 rounded-lg border-2 transition font-semibold ${selectedMethod === method.id\r\n                          ? 'border-emerald-500 bg-emerald-500/10 text-white'\r\n                          : 'border-zinc-700 bg-zinc-800 text-zinc-400 hover:border-zinc-600'\r\n                        }`}\r\n                    >\r\n                      <p className=\"text-2xl mb-2\">{method.icon}</p>\r\n                      <p>{method.name}</p>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Phone Number */}\r\n              <div className=\"mb-8\">\r\n                <label htmlFor=\"phone\" className=\"text-zinc-400 text-sm font-semibold block mb-3\">\r\n                  Phone Number\r\n                </label>\r\n                <input\r\n                  id=\"phone\"\r\n                  type=\"tel\"\r\n                  placeholder=\"+265 999 999 999\"\r\n                  value={phoneNumber}\r\n                  onChange={(e) => setPhoneNumber(e.target.value)}\r\n                  className=\"w-full px-4 py-3 rounded-lg bg-zinc-800 border border-zinc-700 text-white placeholder-zinc-500 focus:border-emerald-500 focus:outline-none\"\r\n                />\r\n              </div>\r\n\r\n              {/* Withdrawal Amount */}\r\n              <div className=\"mb-8\">\r\n                <label htmlFor=\"withdrawal-amount\" className=\"text-zinc-400 text-sm font-semibold block mb-3\">\r\n                  Amount to Withdraw (USD)\r\n                </label>\r\n                <div className=\"flex gap-3\">\r\n                  <input\r\n                    id=\"withdrawal-amount\"\r\n                    type=\"number\"\r\n                    placeholder=\"Enter amount\"\r\n                    value={withdrawalAmount}\r\n                    onChange={(e) => setWithdrawalAmount(e.target.value)}\r\n                    className=\"flex-1 px-4 py-3 rounded-lg bg-zinc-800 border border-zinc-700 text-white placeholder-zinc-500 focus:border-emerald-500 focus:outline-none\"\r\n                  />\r\n                  <button\r\n                    onClick={() => setWithdrawalAmount(availableBalance.toString())}\r\n                    className=\"px-4 py-3 bg-zinc-700 hover:bg-zinc-600 rounded-lg font-semibold transition\"\r\n                  >\r\n                    Max\r\n                  </button>\r\n                </div>\r\n                <p className=\"text-xs text-zinc-500 mt-2\">\r\n                  Available: ${availableBalance.toFixed(2)}\r\n                </p>\r\n              </div>\r\n\r\n              {/* Withdraw Button */}\r\n              <button\r\n                onClick={handleWithdrawal}\r\n                disabled={withdrawing || !withdrawalAmount || !phoneNumber}\r\n                className={`w-full py-3 rounded-lg font-bold text-white transition ${withdrawing || !withdrawalAmount || !phoneNumber\r\n                    ? 'bg-zinc-700 cursor-not-allowed opacity-50'\r\n                    : 'bg-emerald-500 hover:bg-emerald-400'\r\n                  }`}\r\n              >\r\n                {withdrawing ? 'Processing...' : 'Withdraw Now'}\r\n              </button>\r\n            </div>\r\n\r\n            {/* Transaction History */}\r\n            <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n              <h2 className=\"text-xl font-bold mb-6\">Recent Withdrawals</h2>\r\n              {withdrawals.length === 0 ? (\r\n                <p className=\"text-zinc-400\">No withdrawals yet</p>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  {withdrawals.map((tx) => (\r\n                    <div\r\n                      key={tx.id}\r\n                      className=\"flex justify-between items-center p-4 bg-zinc-800 rounded-lg border border-zinc-700 hover:border-zinc-600 transition\"\r\n                    >\r\n                      <div>\r\n                        <p className=\"font-semibold\">{tx.method}</p>\r\n                        <p className=\"text-xs text-zinc-500\">\r\n                          {new Date(tx.requestedAt).toLocaleDateString()} ÔÇó {tx.id}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"text-right\">\r\n                        <p className=\"font-bold\">${tx.amount.toFixed(2)}</p>\r\n                        <p\r\n                          className={`text-xs font-semibold capitalize ${tx.status === 'completed'\r\n                              ? 'text-emerald-400'\r\n                              : tx.status === 'failed'\r\n                                ? 'text-red-400'\r\n                                : 'text-yellow-400'\r\n                            }`}\r\n                        >\r\n                          {tx.status}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\artist\\kyc\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":278,"column":70,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[12556,12572],"text":"Driver&apos;s License"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[12556,12572],"text":"Driver&lsquo;s License"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[12556,12572],"text":"Driver&#39;s License"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[12556,12572],"text":"Driver&rsquo;s License"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\n\r\nexport default function ArtistKYCPage() {\r\n    const { user } = useAuth();\r\n    const router = useRouter();\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    const [formData, setFormData] = useState({\r\n        fullName: '',\r\n        dateOfBirth: '',\r\n        nationality: 'Malawi',\r\n        country: 'Malawi',\r\n        city: '',\r\n        address: '',\r\n        phone: '',\r\n        idType: 'national_id',\r\n        idNumber: '',\r\n    });\r\n\r\n    const [files, setFiles] = useState({\r\n        idFront: null as File | null,\r\n        idBack: null as File | null,\r\n        profilePhoto: null as File | null,\r\n    });\r\n\r\n    if (!user) {\r\n        return (\r\n            <main className=\"min-h-screen pt-32 pb-16 px-6\">\r\n                <div className=\"max-w-2xl mx-auto text-center\">\r\n                    <h1 className=\"text-3xl font-bold text-white mb-4\">Sign In Required</h1>\r\n                    <p className=\"text-zinc-400 mb-8\">Please sign in to submit your KYC information.</p>\r\n                    <Link href=\"/signin\" className=\"bg-emerald-400 text-black px-6 py-3 rounded-lg font-semibold hover:bg-emerald-300 transition inline-block\">\r\n                        Sign In\r\n                    </Link>\r\n                </div>\r\n            </main>\r\n        );\r\n    }\r\n\r\n    if (user.role !== 'ARTIST') {\r\n        return (\r\n            <main className=\"min-h-screen pt-32 pb-16 px-6\">\r\n                <div className=\"max-w-2xl mx-auto text-center\">\r\n                    <h1 className=\"text-3xl font-bold text-white mb-4\">Artists Only</h1>\r\n                    <p className=\"text-zinc-400 mb-8\">This page is for registered artists. Please upgrade your account.</p>\r\n                    <Link href=\"/artist/dashboard\" className=\"bg-emerald-400 text-black px-6 py-3 rounded-lg font-semibold hover:bg-emerald-300 transition inline-block\">\r\n                        Back to Dashboard\r\n                    </Link>\r\n                </div>\r\n            </main>\r\n        );\r\n    }\r\n\r\n    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n        const { name, value } = e.target;\r\n        setFormData(prev => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>, field: 'idFront' | 'idBack' | 'profilePhoto') => {\r\n        if (e.target.files?.[0]) {\r\n            setFiles(prev => ({ ...prev, [field]: e.target.files![0] }));\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            // Validate required fields\r\n            if (!formData.fullName || !formData.dateOfBirth || !formData.phone || !formData.idNumber) {\r\n                throw new Error('Please fill in all required fields');\r\n            }\r\n\r\n            if (!files.idFront || !files.idBack) {\r\n                throw new Error('Please upload ID front and back');\r\n            }\r\n\r\n            // Create FormData for file upload\r\n            const data = new FormData();\r\n            data.append('fullName', formData.fullName);\r\n            data.append('dateOfBirth', formData.dateOfBirth);\r\n            data.append('nationality', formData.nationality);\r\n            data.append('country', formData.country);\r\n            data.append('city', formData.city);\r\n            data.append('address', formData.address);\r\n            data.append('phone', formData.phone);\r\n            data.append('idType', formData.idType);\r\n            data.append('idNumber', formData.idNumber);\r\n            data.append('idFront', files.idFront);\r\n            data.append('idBack', files.idBack);\r\n            if (files.profilePhoto) {\r\n                data.append('profilePhoto', files.profilePhoto);\r\n            }\r\n\r\n            const response = await fetch('/api/artist/kyc', {\r\n                method: 'POST',\r\n                body: data,\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                throw new Error(errorData.error || 'Failed to submit KYC');\r\n            }\r\n\r\n            setSuccess(true);\r\n            setTimeout(() => {\r\n                router.push('/artist/dashboard');\r\n            }, 2000);\r\n        } catch (err) {\r\n            setError(err instanceof Error ? err.message : 'An error occurred');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-black pt-32 pb-16 px-6\">\r\n            <div className=\"max-w-2xl mx-auto\">\r\n                <div className=\"mb-8\">\r\n                    <h1 className=\"text-4xl font-bold text-white mb-2\">Artist Verification (KYC)</h1>\r\n                    <p className=\"text-zinc-400\">Submit your identity documents to unlock monetization features.</p>\r\n                </div>\r\n\r\n                {success && (\r\n                    <div className=\"bg-emerald-900/20 border border-emerald-500 text-emerald-300 p-4 rounded-lg mb-6\">\r\n                        Ô£ô KYC submitted successfully! Redirecting...\r\n                    </div>\r\n                )}\r\n\r\n                {error && (\r\n                    <div className=\"bg-red-900/20 border border-red-500 text-red-300 p-4 rounded-lg mb-6\">\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                <form onSubmit={handleSubmit} className=\"bg-zinc-900/50 border border-zinc-800 rounded-lg p-8 space-y-6\">\r\n\r\n                    {/* Personal Information */}\r\n                    <fieldset className=\"space-y-4\">\r\n                        <legend className=\"text-lg font-semibold text-white mb-4\">Personal Information</legend>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"fullName\" className=\"block text-sm font-medium text-zinc-300 mb-2\">\r\n                                Full Legal Name *\r\n                            </label>\r\n                            <input\r\n                                id=\"fullName\"\r\n                                type=\"text\"\r\n                                name=\"fullName\"\r\n                                value={formData.fullName}\r\n                                onChange={handleInputChange}\r\n                                className=\"w-full bg-zinc-800 border border-zinc-700 rounded px-4 py-2 text-white\"\r\n                                placeholder=\"As it appears on ID\"\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"dateOfBirth\" className=\"block text-sm font-medium text-zinc-300 mb-2\">\r\n                                Date of Birth *\r\n                            </label>\r\n                            <input\r\n                                id=\"dateOfBirth\"\r\n                                type=\"date\"\r\n                                name=\"dateOfBirth\"\r\n                                value={formData.dateOfBirth}\r\n                                onChange={handleInputChange}\r\n                                className=\"w-full bg-zinc-800 border border-zinc-700 rounded px-4 py-2 text-white\"\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"nationality\" className=\"block text-sm font-medium text-zinc-300 mb-2\">\r\n                                Nationality\r\n                            </label>\r\n                            <input\r\n                                id=\"nationality\"\r\n                                type=\"text\"\r\n                                name=\"nationality\"\r\n                                value={formData.nationality}\r\n                                onChange={handleInputChange}\r\n                                className=\"w-full bg-zinc-800 border border-zinc-700 rounded px-4 py-2 text-white\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"phone\" className=\"block text-sm font-medium text-zinc-300 mb-2\">\r\n                                Phone Number *\r\n                            </label>\r\n                            <input\r\n                                id=\"phone\"\r\n                                type=\"tel\"\r\n                                name=\"phone\"\r\n                                value={formData.phone}\r\n                                onChange={handleInputChange}\r\n                                className=\"w-full bg-zinc-800 border border-zinc-700 rounded px-4 py-2 text-white\"\r\n                                placeholder=\"+265...\"\r\n                                required\r\n                            />\r\n                        </div>\r\n                    </fieldset>\r\n\r\n                    {/* Address Information */}\r\n                    <fieldset className=\"space-y-4\">\r\n                        <legend className=\"text-lg font-semibold text-white mb-4\">Address</legend>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"country\" className=\"block text-sm font-medium text-zinc-300 mb-2\">\r\n                                Country\r\n                            </label>\r\n                            <input\r\n                                id=\"country\"\r\n                                type=\"text\"\r\n                                name=\"country\"\r\n                                value={formData.country}\r\n                                onChange={handleInputChange}\r\n                                className=\"w-full bg-zinc-800 border border-zinc-700 rounded px-4 py-2 text-white\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"city\" className=\"block text-sm font-medium text-zinc-300 mb-2\">\r\n                                City\r\n                            </label>\r\n                            <input\r\n                                id=\"city\"\r\n                                type=\"text\"\r\n                                name=\"city\"\r\n                                value={formData.city}\r\n                                onChange={handleInputChange}\r\n                                className=\"w-full bg-zinc-800 border border-zinc-700 rounded px-4 py-2 text-white\"\r\n                                placeholder=\"Lilongwe, Blantyre, etc.\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"address\" className=\"block text-sm font-medium text-zinc-300 mb-2\">\r\n                                Street Address\r\n                            </label>\r\n                            <input\r\n                                id=\"address\"\r\n                                type=\"text\"\r\n                                name=\"address\"\r\n                                value={formData.address}\r\n                                onChange={handleInputChange}\r\n                                className=\"w-full bg-zinc-800 border border-zinc-700 rounded px-4 py-2 text-white\"\r\n                            />\r\n                        </div>\r\n                    </fieldset>\r\n\r\n                    {/* Identification */}\r\n                    <fieldset className=\"space-y-4\">\r\n                        <legend className=\"text-lg font-semibold text-white mb-4\">Identification</legend>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"idType\" className=\"block text-sm font-medium text-zinc-300 mb-2\">\r\n                                ID Type\r\n                            </label>\r\n                            <select\r\n                                id=\"idType\"\r\n                                name=\"idType\"\r\n                                value={formData.idType}\r\n                                onChange={handleInputChange}\r\n                                className=\"w-full bg-zinc-800 border border-zinc-700 rounded px-4 py-2 text-white\"\r\n                            >\r\n                                <option value=\"national_id\">National ID</option>\r\n                                <option value=\"passport\">Passport</option>\r\n                                <option value=\"driver_license\">Driver's License</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"idNumber\" className=\"block text-sm font-medium text-zinc-300 mb-2\">\r\n                                ID Number *\r\n                            </label>\r\n                            <input\r\n                                id=\"idNumber\"\r\n                                type=\"text\"\r\n                                name=\"idNumber\"\r\n                                value={formData.idNumber}\r\n                                onChange={handleInputChange}\r\n                                className=\"w-full bg-zinc-800 border border-zinc-700 rounded px-4 py-2 text-white\"\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"idFront\" className=\"block text-sm font-medium text-zinc-300 mb-2\">\r\n                                ID Front Photo *\r\n                            </label>\r\n                            <input\r\n                                id=\"idFront\"\r\n                                type=\"file\"\r\n                                accept=\"image/*,application/pdf\"\r\n                                onChange={(e) => handleFileChange(e, 'idFront')}\r\n                                className=\"w-full\"\r\n                                required\r\n                            />\r\n                            {files.idFront && <p className=\"text-sm text-emerald-400 mt-1\">Ô£ô {files.idFront.name}</p>}\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"idBack\" className=\"block text-sm font-medium text-zinc-300 mb-2\">\r\n                                ID Back Photo *\r\n                            </label>\r\n                            <input\r\n                                id=\"idBack\"\r\n                                type=\"file\"\r\n                                accept=\"image/*,application/pdf\"\r\n                                onChange={(e) => handleFileChange(e, 'idBack')}\r\n                                className=\"w-full\"\r\n                                required\r\n                            />\r\n                            {files.idBack && <p className=\"text-sm text-emerald-400 mt-1\">Ô£ô {files.idBack.name}</p>}\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"profilePhoto\" className=\"block text-sm font-medium text-zinc-300 mb-2\">\r\n                                Profile Photo (Optional)\r\n                            </label>\r\n                            <input\r\n                                id=\"profilePhoto\"\r\n                                type=\"file\"\r\n                                accept=\"image/*\"\r\n                                onChange={(e) => handleFileChange(e, 'profilePhoto')}\r\n                                className=\"w-full\"\r\n                            />\r\n                            {files.profilePhoto && <p className=\"text-sm text-emerald-400 mt-1\">Ô£ô {files.profilePhoto.name}</p>}\r\n                        </div>\r\n                    </fieldset>\r\n\r\n                    {/* Submit */}\r\n                    <div className=\"pt-4\">\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={loading}\r\n                            className=\"w-full bg-emerald-400 text-black font-semibold py-3 rounded-lg hover:bg-emerald-300 transition disabled:opacity-50\"\r\n                        >\r\n                            {loading ? 'Submitting...' : 'Submit for Verification'}\r\n                        </button>\r\n                        <p className=\"text-xs text-zinc-500 mt-4 text-center\">\r\n                            Your information is secure and encrypted. We comply with GDPR and local privacy laws.\r\n                        </p>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\artist\\register\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":36,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":36,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nexport default function ArtistRegisterPage() {\r\n  const router = useRouter();\r\n  const [fullName, setFullName] = useState('');\r\n  const [stageName, setStageName] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [passwordConfirm, setPasswordConfirm] = useState('');\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const submit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    if (!fullName || !stageName || !username || !email || !phone || !password || !passwordConfirm) {\r\n      return setError('Please fill all fields');\r\n    }\r\n    if (password !== passwordConfirm) return setError('Passwords do not match');\r\n\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch('/api/auth/register-artist', { method: 'POST', headers: { 'content-type': 'application/json' }, body: JSON.stringify({ fullName, stageName, username, email, phone, password, passwordConfirm }) });\r\n      const data = await res.json();\r\n      if (!res.ok) {\r\n        setError(data?.error || 'Unable to register');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      router.push('/artist/signin');\r\n    } catch (e) {\r\n      setError('Network error');\r\n    } finally { setLoading(false); }\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen flex items-center justify-center px-6 py-24\">\r\n      <form onSubmit={submit} className=\"w-full max-w-lg bg-gradient-to-br from-zinc-900/60 to-zinc-900/40 border border-zinc-800 p-6 rounded-2xl card-anim fade-in\">\r\n        <h1 className=\"text-2xl font-semibold mb-4\">Artist Registration</h1>\r\n        {error && <div className=\"text-sm text-red-400 mb-3\">{error}</div>}\r\n\r\n        <div className=\"grid sm:grid-cols-2 gap-3\">\r\n          <div>\r\n            <label htmlFor=\"fullName\" className=\"block text-sm text-zinc-400 mb-1\">Full Name</label>\r\n            <input id=\"fullName\" value={fullName} onChange={(e) => setFullName(e.target.value)} placeholder=\"Full legal name\" className=\"w-full px-3 py-2 rounded bg-zinc-800 border border-zinc-700\" />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"stageName\" className=\"block text-sm text-zinc-400 mb-1\">Stage Name</label>\r\n            <input id=\"stageName\" value={stageName} onChange={(e) => setStageName(e.target.value)} placeholder=\"Stage name\" className=\"w-full px-3 py-2 rounded bg-zinc-800 border border-zinc-700\" />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"username\" className=\"block text-sm text-zinc-400 mb-1\">Username</label>\r\n            <input id=\"username\" value={username} onChange={(e) => setUsername(e.target.value)} placeholder=\"Username\" className=\"w-full px-3 py-2 rounded bg-zinc-800 border border-zinc-700\" />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"email\" className=\"block text-sm text-zinc-400 mb-1\">Email</label>\r\n            <input id=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Email\" className=\"w-full px-3 py-2 rounded bg-zinc-800 border border-zinc-700\" />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"phone\" className=\"block text-sm text-zinc-400 mb-1\">Phone</label>\r\n            <input id=\"phone\" value={phone} onChange={(e) => setPhone(e.target.value)} placeholder=\"Phone number\" className=\"w-full px-3 py-2 rounded bg-zinc-800 border border-zinc-700\" />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"password\" className=\"block text-sm text-zinc-400 mb-1\">Password</label>\r\n            <input id=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} placeholder=\"Password\" type=\"password\" className=\"w-full px-3 py-2 rounded bg-zinc-800 border border-zinc-700\" />\r\n          </div>\r\n          <div className=\"sm:col-span-2\">\r\n            <label htmlFor=\"passwordConfirm\" className=\"block text-sm text-zinc-400 mb-1\">Confirm Password</label>\r\n            <input id=\"passwordConfirm\" value={passwordConfirm} onChange={(e) => setPasswordConfirm(e.target.value)} placeholder=\"Confirm password\" type=\"password\" className=\"w-full px-3 py-2 rounded bg-zinc-800 border border-zinc-700\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"text-xs text-zinc-500 mb-3 mt-2\">By creating an artist account you confirm you own the rights to your music.</div>\r\n        <button disabled={loading} className=\"w-full btn-cta bg-emerald-400 text-black\">{loading ? 'Creating...' : 'Create Artist Account'}</button>\r\n      </form>\r\n    </main>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\artist\\signin\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":33,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":33,"endColumn":15},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":68,"column":51,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[2769,2792],"text":"Don&apos;t have an account? "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[2769,2792],"text":"Don&lsquo;t have an account? "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[2769,2792],"text":"Don&#39;t have an account? "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[2769,2792],"text":"Don&rsquo;t have an account? "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nexport default function ArtistSignInPage() {\r\n  const router = useRouter();\r\n  const [emailOrUsername, setEmailOrUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const { signIn } = useAuth();\r\n\r\n  const submit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    if (!emailOrUsername || !password) return setError('Provide username/email and password');\r\n\r\n    setLoading(true);\r\n    try {\r\n      const isEmail = emailOrUsername.includes('@');\r\n      const payload = isEmail ? { email: emailOrUsername, password } : { username: emailOrUsername, password };\r\n      const res = await signIn(payload as any);\r\n      if (!res.ok) {\r\n        setError(res.error || 'Sign in failed');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      router.push('/artist/dashboard');\r\n    } catch (e) {\r\n      setError('Network error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen flex items-center justify-center px-6 py-24\">\r\n      <form onSubmit={submit} className=\"w-full max-w-md bg-gradient-to-br from-zinc-900/60 to-zinc-900/40 border border-zinc-800 p-6 rounded-2xl card-anim fade-in\">\r\n        <h1 className=\"text-2xl font-semibold mb-4\">Artist Sign In</h1>\r\n        {error && <div className=\"text-sm text-red-400 mb-2\">{error}</div>}\r\n        <label htmlFor=\"emailOrUsername\" className=\"block text-sm text-zinc-400 mb-2\">Username or Email</label>\r\n        <input\r\n          id=\"emailOrUsername\"\r\n          value={emailOrUsername}\r\n          onChange={(e) => setEmailOrUsername(e.target.value)}\r\n          className=\"w-full bg-zinc-800 border border-zinc-700 rounded px-3 py-2 mb-3\"\r\n          placeholder=\"username or your@email.com\"\r\n        />\r\n        <label htmlFor=\"password\" className=\"block text-sm text-zinc-400 mb-2\">Password</label>\r\n        <input\r\n          id=\"password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          type=\"password\"\r\n          className=\"w-full bg-zinc-800 border border-zinc-700 rounded px-3 py-2 mb-4\"\r\n          placeholder=\"Password\"\r\n        />\r\n\r\n        <button type=\"submit\" disabled={loading} className=\"w-full btn-cta bg-emerald-400 text-black py-2 font-semibold hover:bg-emerald-300 transition\">\r\n          {loading ? \"Signing in...\" : \"Sign In\"}\r\n        </button>\r\n\r\n        <div className=\"text-center mt-4\">\r\n          <p className=\"text-sm text-zinc-400\">Don't have an account? <Link href=\"/artist/register\" className=\"text-emerald-400 hover:underline\">Register</Link></p>\r\n        </div>\r\n      </form>\r\n    </main>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\artist\\upload\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\artists\\[slug]\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":22,"column":52,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[950,979],"text":"We couldn&apos;t find that artist."},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[950,979],"text":"We couldn&lsquo;t find that artist."},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[950,979],"text":"We couldn&#39;t find that artist."},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[950,979],"text":"We couldn&rsquo;t find that artist."},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport EnhancedSongCard from \"../../components/EnhancedSongCard\";\r\nimport FanSupport from \"../../components/FanSupport\";\r\nimport ArtistBoost from \"../../components/ArtistBoost\";\r\nimport FollowButton from \"../../components/FollowButton\";\r\nimport { useArtists } from \"../../context/ArtistContext\";\r\nimport { useSongs } from \"../../context/SongContext\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function ArtistProfile({ params }: { params: { slug: string } }) {\r\n  const { artists } = useArtists();\r\n  const { songs } = useSongs();\r\n  const [boostMessage, setBoostMessage] = useState<string | null>(null);\r\n  \r\n  const artist = artists.find((a) => a.slug === params.slug);\r\n  if (!artist) {\r\n    return (\r\n      <main className=\"min-h-screen p-6 max-w-4xl mx-auto pt-32 text-center\">\r\n        <h1 className=\"text-3xl font-bold\">Artist not found</h1>\r\n        <p className=\"text-zinc-400 mt-2\">We couldn't find that artist.</p>\r\n        <Link href=\"/artists\" className=\"mt-6 inline-block text-emerald-400\">Back to Artists</Link>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  const artistSongs = songs.filter((s) => s.artistId === artist.id);\r\n\r\n  return (\r\n    <main className=\"min-h-screen p-6 max-w-6xl mx-auto pt-32\">\r\n      <div className=\"flex items-center gap-6 mb-8\">\r\n        <div className=\"w-28 h-28 rounded-full bg-gradient-to-br from-zinc-700 to-zinc-600 flex items-center justify-center text-3xl text-white\">\r\n          {artist.name.charAt(0)}\r\n        </div>\r\n        <div className=\"flex-1\">\r\n          <h1 className=\"text-4xl font-bold\">{artist.name} {artist.verified ? <span className=\"text-emerald-400 text-sm\">ÔÇó Verified</span> : null}</h1>\r\n          <p className=\"text-zinc-400 mt-1\">{artist.genre} ÔÇó {artist.followers?.toLocaleString() ?? 0} followers</p>\r\n          <p className=\"text-zinc-400 mt-3 max-w-2xl\">{artist.bio}</p>\r\n          <div className=\"mt-4 flex gap-3 flex-wrap\">\r\n            <FanSupport artistId={artist.id} artistName={artist.name} />\r\n            <FollowButton artistId={artist.id} artistName={artist.name} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <section className=\"mt-8\">\r\n        <h2 className=\"text-2xl font-semibold mb-4\">Top Tracks</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          {artistSongs.map((song) => (\r\n            <EnhancedSongCard\r\n              key={song.id}\r\n              id={song.id}\r\n              title={song.title}\r\n              artist={song.artist}\r\n              plays={song.plays}\r\n              likes={song.likes}\r\n              duration={song.duration}\r\n            />\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"mt-12\">\r\n        <h2 className=\"text-2xl font-semibold mb-4\">About</h2>\r\n        <div className=\"rounded-2xl border border-zinc-800 bg-zinc-900/50 p-6 mb-6\">\r\n          <p className=\"text-zinc-300\">{artist.bio}</p>\r\n        </div>\r\n\r\n        {artist.upcoming && (\r\n          <ArtistBoost\r\n            artistName={artist.name}\r\n            onBoost={() => setBoostMessage(`Boost campaign started for ${artist.name}!`)}\r\n          />\r\n        )}\r\n\r\n        {boostMessage && (\r\n          <div className=\"mt-4 p-3 rounded bg-emerald-900/30 border border-emerald-600/30 text-emerald-300 text-sm\">\r\n            {boostMessage}\r\n          </div>\r\n        )}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\artists\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\business\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":4,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":12}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useArtists } from \"@/context/ArtistContext\";\r\nimport Button from \"@/components/Button\";\r\nimport Modal from \"@/components/Modal\";\r\n\r\nexport default function BusinessPage() {\r\n  const { artists } = useArtists();\r\n  const [selectedArtist, setSelectedArtist] = useState<(typeof artists)[0] | null>(null);\r\n  const [open, setOpen] = useState(false);\r\n  const [activeTab, setActiveTab] = useState<'matchmaking' | 'dashboard' | 'campaigns'>('matchmaking');\r\n\r\n  const verifiedArtists = artists.filter((a) => a.verified);\r\n  const upcomingArtists = artists.filter((a) => a.upcoming);\r\n\r\n  return (\r\n    <main className=\"min-h-screen p-6 pt-32 max-w-7xl mx-auto\">\r\n      {/* Tab Navigation */}\r\n      <div className=\"flex gap-4 mb-12 border-b border-zinc-800\">\r\n        <button\r\n          onClick={() => setActiveTab('matchmaking')}\r\n          className={`pb-4 px-4 font-semibold transition ${activeTab === 'matchmaking' ? 'text-emerald-400 border-b-2 border-emerald-400' : 'text-zinc-400 hover:text-white'}`}\r\n        >\r\n          Artist Matchmaking\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab('dashboard')}\r\n          className={`pb-4 px-4 font-semibold transition ${activeTab === 'dashboard' ? 'text-emerald-400 border-b-2 border-emerald-400' : 'text-zinc-400 hover:text-white'}`}\r\n        >\r\n          Business Dashboard\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab('campaigns')}\r\n          className={`pb-4 px-4 font-semibold transition ${activeTab === 'campaigns' ? 'text-emerald-400 border-b-2 border-emerald-400' : 'text-zinc-400 hover:text-white'}`}\r\n        >\r\n          Campaigns\r\n        </button>\r\n      </div>\r\n\r\n      {/* Matchmaking Tab */}\r\n      {activeTab === 'matchmaking' && (\r\n        <>\r\n          <section className=\"mb-12\">\r\n            <h1 className=\"text-4xl font-bold mb-4\">Artist Matchmaking for Business</h1>\r\n            <p className=\"text-zinc-400 max-w-2xl\">Find the perfect artist for your brand, event, or campaign. Connect with verified and emerging talent across Africa.</p>\r\n          </section>\r\n\r\n          <section className=\"mb-12\">\r\n            <h2 className=\"text-2xl font-semibold mb-6\">How It Works</h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n              <div className=\"rounded-2xl border border-zinc-800 bg-zinc-900/50 p-6\">\r\n                <div className=\"text-2xl font-bold text-emerald-400 mb-3\">1</div>\r\n                <h3 className=\"font-semibold mb-2\">Browse & Filter</h3>\r\n                <p className=\"text-sm text-zinc-400\">Search artists by genre, followers, and engagement metrics.</p>\r\n              </div>\r\n              <div className=\"rounded-2xl border border-zinc-800 bg-zinc-900/50 p-6\">\r\n                <div className=\"text-2xl font-bold text-emerald-400 mb-3\">2</div>\r\n                <h3 className=\"font-semibold mb-2\">Connect Directly</h3>\r\n                <p className=\"text-sm text-zinc-400\">Send collaboration or sponsorship proposals directly to artists.</p>\r\n              </div>\r\n              <div className=\"rounded-2xl border border-zinc-800 bg-zinc-900/50 p-6\">\r\n                <div className=\"text-2xl font-bold text-emerald-400 mb-3\">3</div>\r\n                <h3 className=\"font-semibold mb-2\">Collaborate</h3>\r\n                <p className=\"text-sm text-zinc-400\">Manage campaigns, track metrics, and grow together.</p>\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          <section className=\"mb-12\">\r\n            <h2 className=\"text-2xl font-semibold mb-6\">Verified Artists</h2>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n              {verifiedArtists.map((artist) => (\r\n                <div\r\n                  key={artist.id}\r\n                  onClick={() => {\r\n                    setSelectedArtist(artist);\r\n                    setOpen(true);\r\n                  }}\r\n                  className=\"rounded-2xl border border-emerald-600/30 bg-emerald-900/10 p-4 cursor-pointer hover:bg-emerald-900/20 transition\"\r\n                >\r\n                  <div className=\"w-full h-24 bg-gradient-to-br from-emerald-600 to-emerald-800 rounded mb-3 flex items-center justify-center text-2xl\">\r\n                    {artist.name.charAt(0)}\r\n                  </div>\r\n                  <h3 className=\"font-semibold text-sm\">{artist.name}</h3>\r\n                  <p className=\"text-xs text-zinc-400\">{artist.genre}</p>\r\n                  <p className=\"text-xs text-emerald-400 mt-1\">­ƒôè {artist.monthlyListeners?.toLocaleString()} listeners</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </section>\r\n\r\n          <section className=\"mb-12\">\r\n            <h2 className=\"text-2xl font-semibold mb-6\">Emerging Talent</h2>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n              {upcomingArtists.map((artist) => (\r\n                <div\r\n                  key={artist.id}\r\n                  onClick={() => {\r\n                    setSelectedArtist(artist);\r\n                    setOpen(true);\r\n                  }}\r\n                  className=\"rounded-2xl border border-amber-600/30 bg-amber-900/10 p-4 cursor-pointer hover:bg-amber-900/20 transition\"\r\n                >\r\n                  <div className=\"w-full h-24 bg-gradient-to-br from-amber-600 to-amber-800 rounded mb-3 flex items-center justify-center text-2xl\">\r\n                    {artist.name.charAt(0)}\r\n                  </div>\r\n                  <h3 className=\"font-semibold text-sm\">{artist.name}</h3>\r\n                  <p className=\"text-xs text-zinc-400\">{artist.genre}</p>\r\n                  <p className=\"text-xs text-amber-400 mt-1\">­ƒÜÇ Rising Star</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </section>\r\n        </>\r\n      )}\r\n\r\n      {/* Business Dashboard Tab */}\r\n      {activeTab === 'dashboard' && (\r\n        <>\r\n          <section className=\"mb-12\">\r\n            <h1 className=\"text-4xl font-bold mb-4\">Business Dashboard</h1>\r\n            <p className=\"text-zinc-400 max-w-2xl\">Manage your campaigns, track artist partnerships, and access music licensing.</p>\r\n          </section>\r\n\r\n          {/* KPIs */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12\">\r\n            <div className=\"rounded-lg bg-zinc-900 p-6 border border-zinc-800\">\r\n              <p className=\"text-zinc-400 text-sm mb-2\">Active Campaigns</p>\r\n              <p className=\"text-3xl font-bold\">3</p>\r\n              <p className=\"text-xs text-emerald-400 mt-2\">2 running, 1 planned</p>\r\n            </div>\r\n            <div className=\"rounded-lg bg-zinc-900 p-6 border border-zinc-800\">\r\n              <p className=\"text-zinc-400 text-sm mb-2\">Total Impressions</p>\r\n              <p className=\"text-3xl font-bold\">245K</p>\r\n              <p className=\"text-xs text-emerald-400 mt-2\">+12% this month</p>\r\n            </div>\r\n            <div className=\"rounded-lg bg-zinc-900 p-6 border border-zinc-800\">\r\n              <p className=\"text-zinc-400 text-sm mb-2\">Artist Partnerships</p>\r\n              <p className=\"text-3xl font-bold\">7</p>\r\n              <p className=\"text-xs text-emerald-400 mt-2\">All active</p>\r\n            </div>\r\n            <div className=\"rounded-lg bg-zinc-900 p-6 border border-zinc-800\">\r\n              <p className=\"text-zinc-400 text-sm mb-2\">Engagement Rate</p>\r\n              <p className=\"text-3xl font-bold\">8.2%</p>\r\n              <p className=\"text-xs text-emerald-400 mt-2\">+2.1% from last month</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Music Licensing Section */}\r\n          <section className=\"mb-12\">\r\n            <h2 className=\"text-2xl font-semibold mb-6\">Music Licensing</h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div className=\"rounded-lg bg-zinc-900 p-6 border border-zinc-800\">\r\n                <h3 className=\"font-bold text-lg mb-4\">Available for Licensing</h3>\r\n                <div className=\"space-y-3\">\r\n                  {[1, 2, 3].map((i) => (\r\n                    <div key={i} className=\"p-3 bg-zinc-800/50 rounded flex justify-between items-center\">\r\n                      <div>\r\n                        <p className=\"font-semibold text-sm\">Track Title {i}</p>\r\n                        <p className=\"text-xs text-zinc-400\">Artist Name</p>\r\n                      </div>\r\n                      <button className=\"text-xs bg-emerald-600 hover:bg-emerald-500 px-3 py-1 rounded text-black font-bold\">\r\n                        License\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"rounded-lg bg-zinc-900 p-6 border border-zinc-800\">\r\n                <h3 className=\"font-bold text-lg mb-4\">Your Licenses</h3>\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"p-3 bg-emerald-900/20 rounded border border-emerald-600/30\">\r\n                    <p className=\"font-semibold text-sm\">Commercial Use - Track A</p>\r\n                    <p className=\"text-xs text-zinc-400\">Valid until Jan 2025</p>\r\n                  </div>\r\n                  <div className=\"p-3 bg-emerald-900/20 rounded border border-emerald-600/30\">\r\n                    <p className=\"font-semibold text-sm\">Ad Campaign - Track B</p>\r\n                    <p className=\"text-xs text-zinc-400\">Valid until Dec 2024</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </>\r\n      )}\r\n\r\n      {/* Campaigns Tab */}\r\n      {activeTab === 'campaigns' && (\r\n        <>\r\n          <section className=\"mb-12\">\r\n            <div className=\"flex justify-between items-center mb-6\">\r\n              <div>\r\n                <h1 className=\"text-4xl font-bold mb-2\">Marketing Campaigns</h1>\r\n                <p className=\"text-zinc-400\">Reach music-loving audiences through artist partnerships</p>\r\n              </div>\r\n              <button className=\"bg-emerald-600 hover:bg-emerald-500 text-black px-6 py-3 rounded-lg font-bold\">\r\n                Create Campaign\r\n              </button>\r\n            </div>\r\n          </section>\r\n\r\n          <div className=\"grid grid-cols-1 gap-6\">\r\n            {[\r\n              { name: 'Festival Sponsorship', status: 'Running', budget: 'MWK 500K', impressions: '125K', artists: 5 },\r\n              { name: 'Product Launch', status: 'Planned', budget: 'MWK 250K', impressions: '0', artists: 3 },\r\n              { name: 'Brand Partnership', status: 'Running', budget: 'MWK 350K', impressions: '98K', artists: 4 },\r\n            ].map((campaign, idx) => (\r\n              <div key={idx} className=\"rounded-lg bg-zinc-900 p-6 border border-zinc-800\">\r\n                <div className=\"flex justify-between items-start mb-4\">\r\n                  <div>\r\n                    <h3 className=\"font-bold text-lg\">{campaign.name}</h3>\r\n                    <p className={`text-xs mt-1 ${campaign.status === 'Running' ? 'text-emerald-400' : 'text-yellow-400'}`}>\r\n                      {campaign.status}\r\n                    </p>\r\n                  </div>\r\n                  <button className=\"text-xs text-zinc-400 hover:text-white\">Ôï«</button>\r\n                </div>\r\n                \r\n                <div className=\"grid grid-cols-3 gap-4 mb-4\">\r\n                  <div>\r\n                    <p className=\"text-xs text-zinc-400 mb-1\">Budget</p>\r\n                    <p className=\"font-semibold\">{campaign.budget}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-xs text-zinc-400 mb-1\">Impressions</p>\r\n                    <p className=\"font-semibold\">{campaign.impressions}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-xs text-zinc-400 mb-1\">Artists</p>\r\n                    <p className=\"font-semibold\">{campaign.artists}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <button className=\"w-full bg-zinc-800 hover:bg-zinc-700 text-white py-2 rounded font-semibold transition text-sm\">\r\n                  View Details\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      <Modal open={open} onClose={() => setOpen(false)} title={selectedArtist?.name || \"\"}>\r\n        {selectedArtist && (\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <p className=\"text-sm text-zinc-400 mb-1\">Genre</p>\r\n              <p className=\"font-semibold\">{selectedArtist.genre}</p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-zinc-400 mb-1\">Monthly Listeners</p>\r\n              <p className=\"font-semibold\">{selectedArtist.monthlyListeners?.toLocaleString()}</p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-zinc-400 mb-1\">About</p>\r\n              <p className=\"text-sm text-zinc-300\">{selectedArtist.bio}</p>\r\n            </div>\r\n            <div className=\"flex gap-3 pt-4\">\r\n              <Button variant=\"ghost\" onClick={() => setOpen(false)}>Close</Button>\r\n              <Button onClick={() => alert(`Collaboration request sent to ${selectedArtist.name}!`)}>Send Proposal</Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Modal>\r\n    </main>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\checkout\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\checkout\\success\\page.tsx","messages":[{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nE:\\nyasawave-projects\\nyasawave\\app\\checkout\\success\\page.tsx:8:23\n   6 | export default function CheckoutSuccessPage() {\n   7 |     const orderId = useMemo(() => {\n>  8 |         return `ORD-${Math.random().toString(36).substr(2, 9).toUpperCase()}`;\n     |                       ^^^^^^^^^^^^^ Cannot call impure function\n   9 |     }, []);\n  10 |\n  11 |     return (","line":8,"column":23,"nodeType":null,"endLine":8,"endColumn":36},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":25,"column":91,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1195,1350],"text":"\r\n                        Thank you for your purchase. Your order has been confirmed and you&apos;ll receive a confirmation email shortly.\r\n                    "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1195,1350],"text":"\r\n                        Thank you for your purchase. Your order has been confirmed and you&lsquo;ll receive a confirmation email shortly.\r\n                    "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1195,1350],"text":"\r\n                        Thank you for your purchase. Your order has been confirmed and you&#39;ll receive a confirmation email shortly.\r\n                    "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1195,1350],"text":"\r\n                        Thank you for your purchase. Your order has been confirmed and you&rsquo;ll receive a confirmation email shortly.\r\n                    "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":40,"column":84,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2066,2215],"text":"\r\n                        Your download link will be available in your account under &quot;My Purchases\" and will be sent via email.\r\n                    "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2066,2215],"text":"\r\n                        Your download link will be available in your account under &ldquo;My Purchases\" and will be sent via email.\r\n                    "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2066,2215],"text":"\r\n                        Your download link will be available in your account under &#34;My Purchases\" and will be sent via email.\r\n                    "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2066,2215],"text":"\r\n                        Your download link will be available in your account under &rdquo;My Purchases\" and will be sent via email.\r\n                    "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":40,"column":97,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2066,2215],"text":"\r\n                        Your download link will be available in your account under \"My Purchases&quot; and will be sent via email.\r\n                    "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2066,2215],"text":"\r\n                        Your download link will be available in your account under \"My Purchases&ldquo; and will be sent via email.\r\n                    "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2066,2215],"text":"\r\n                        Your download link will be available in your account under \"My Purchases&#34; and will be sent via email.\r\n                    "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2066,2215],"text":"\r\n                        Your download link will be available in your account under \"My Purchases&rdquo; and will be sent via email.\r\n                    "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useMemo } from 'react';\r\n\r\nexport default function CheckoutSuccessPage() {\r\n    const orderId = useMemo(() => {\r\n        return `ORD-${Math.random().toString(36).substr(2, 9).toUpperCase()}`;\r\n    }, []);\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-black pt-32 pb-16 px-6 flex items-center justify-center\">\r\n            <div className=\"max-w-md w-full text-center\">\r\n                <div className=\"mb-6\">\r\n                    <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-full bg-emerald-900/20 border border-emerald-500 mb-4\">\r\n                        <svg className=\"w-8 h-8 text-emerald-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                        </svg>\r\n                    </div>\r\n                    <h1 className=\"text-3xl font-bold text-white\">Purchase Successful!</h1>\r\n                </div>\r\n\r\n                <div className=\"bg-zinc-900/50 border border-zinc-800 rounded-lg p-6 mb-6\">\r\n                    <p className=\"text-zinc-300 mb-4\">\r\n                        Thank you for your purchase. Your order has been confirmed and you'll receive a confirmation email shortly.\r\n                    </p>\r\n\r\n                    <div className=\"bg-zinc-800/50 rounded p-4 mb-4 text-left\">\r\n                        <div className=\"flex justify-between mb-2\">\r\n                            <span className=\"text-zinc-400\">Order ID:</span>\r\n                            <span className=\"text-white font-mono text-sm\">#{orderId}</span>\r\n                        </div>\r\n                        <div className=\"flex justify-between\">\r\n                            <span className=\"text-zinc-400\">Amount:</span>\r\n                            <span className=\"text-emerald-400 font-semibold\">2,500 MWK</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <p className=\"text-sm text-zinc-400\">\r\n                        Your download link will be available in your account under \"My Purchases\" and will be sent via email.\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"space-y-3\">\r\n                    <Link\r\n                        href=\"/me\"\r\n                        className=\"block w-full bg-emerald-400 text-black font-semibold py-3 rounded-lg hover:bg-emerald-300 transition\"\r\n                    >\r\n                        View My Purchases\r\n                    </Link>\r\n                    <Link\r\n                        href=\"/marketplace\"\r\n                        className=\"block w-full border border-zinc-600 text-white font-semibold py-3 rounded-lg hover:bg-zinc-800 transition\"\r\n                    >\r\n                        Continue Shopping\r\n                    </Link>\r\n                    <Link\r\n                        href=\"/\"\r\n                        className=\"block w-full text-zinc-400 hover:text-white transition\"\r\n                    >\r\n                        Back to Home\r\n                    </Link>\r\n                </div>\r\n\r\n                <p className=\"text-xs text-zinc-500 mt-6\">\r\n                    Questions? Contact support@nyasawave.com\r\n                </p>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\community-guidelines\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":30,"column":37,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1698,1754],"text":"ÔÇó Don&apos;t impersonate others or misrepresent your identity"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1698,1754],"text":"ÔÇó Don&lsquo;t impersonate others or misrepresent your identity"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1698,1754],"text":"ÔÇó Don&#39;t impersonate others or misrepresent your identity"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1698,1754],"text":"ÔÇó Don&rsquo;t impersonate others or misrepresent your identity"},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":74,"column":88,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[4149,4282],"text":"\r\n                            Do not upload, share, or claim ownership of content you don&apos;t have rights to:\r\n                        "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[4149,4282],"text":"\r\n                            Do not upload, share, or claim ownership of content you don&lsquo;t have rights to:\r\n                        "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[4149,4282],"text":"\r\n                            Do not upload, share, or claim ownership of content you don&#39;t have rights to:\r\n                        "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[4149,4282],"text":"\r\n                            Do not upload, share, or claim ownership of content you don&rsquo;t have rights to:\r\n                        "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":77,"column":37,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[4382,4419],"text":"ÔÇó Don&apos;t re-upload music you don't own"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[4382,4419],"text":"ÔÇó Don&lsquo;t re-upload music you don't own"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[4382,4419],"text":"ÔÇó Don&#39;t re-upload music you don't own"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[4382,4419],"text":"ÔÇó Don&rsquo;t re-upload music you don't own"},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":77,"column":63,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[4382,4419],"text":"ÔÇó Don't re-upload music you don&apos;t own"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[4382,4419],"text":"ÔÇó Don't re-upload music you don&lsquo;t own"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[4382,4419],"text":"ÔÇó Don't re-upload music you don&#39;t own"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[4382,4419],"text":"ÔÇó Don't re-upload music you don&rsquo;t own"},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":78,"column":37,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[4456,4504],"text":"ÔÇó Don&apos;t claim someone else's artwork as your own"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[4456,4504],"text":"ÔÇó Don&lsquo;t claim someone else's artwork as your own"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[4456,4504],"text":"ÔÇó Don&#39;t claim someone else's artwork as your own"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[4456,4504],"text":"ÔÇó Don&rsquo;t claim someone else's artwork as your own"},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":78,"column":58,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[4456,4504],"text":"ÔÇó Don't claim someone else&apos;s artwork as your own"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[4456,4504],"text":"ÔÇó Don't claim someone else&lsquo;s artwork as your own"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[4456,4504],"text":"ÔÇó Don't claim someone else&#39;s artwork as your own"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[4456,4504],"text":"ÔÇó Don't claim someone else&rsquo;s artwork as your own"},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":79,"column":37,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[4541,4585],"text":"ÔÇó Don&apos;t use samples without proper licensing"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[4541,4585],"text":"ÔÇó Don&lsquo;t use samples without proper licensing"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[4541,4585],"text":"ÔÇó Don&#39;t use samples without proper licensing"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[4541,4585],"text":"ÔÇó Don&rsquo;t use samples without proper licensing"},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":80,"column":37,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[4622,4661],"text":"ÔÇó Don&apos;t remix music without attribution"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[4622,4661],"text":"ÔÇó Don&lsquo;t remix music without attribution"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[4622,4661],"text":"ÔÇó Don&#39;t remix music without attribution"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[4622,4661],"text":"ÔÇó Don&rsquo;t remix music without attribution"},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":97,"column":86,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[5578,5724],"text":"\r\n                            Explicit music is allowed but must be properly tagged as &quot;Explicit\" for parental controls.\r\n                        "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[5578,5724],"text":"\r\n                            Explicit music is allowed but must be properly tagged as &ldquo;Explicit\" for parental controls.\r\n                        "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[5578,5724],"text":"\r\n                            Explicit music is allowed but must be properly tagged as &#34;Explicit\" for parental controls.\r\n                        "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[5578,5724],"text":"\r\n                            Explicit music is allowed but must be properly tagged as &rdquo;Explicit\" for parental controls.\r\n                        "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":97,"column":95,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[5578,5724],"text":"\r\n                            Explicit music is allowed but must be properly tagged as \"Explicit&quot; for parental controls.\r\n                        "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[5578,5724],"text":"\r\n                            Explicit music is allowed but must be properly tagged as \"Explicit&ldquo; for parental controls.\r\n                        "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[5578,5724],"text":"\r\n                            Explicit music is allowed but must be properly tagged as \"Explicit&#34; for parental controls.\r\n                        "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[5578,5724],"text":"\r\n                            Explicit music is allowed but must be properly tagged as \"Explicit&rdquo; for parental controls.\r\n                        "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":123,"column":48,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[6939,7053],"text":"\r\n                            Do not share others&apos; personal information without consent:\r\n                        "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[6939,7053],"text":"\r\n                            Do not share others&lsquo; personal information without consent:\r\n                        "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[6939,7053],"text":"\r\n                            Do not share others&#39; personal information without consent:\r\n                        "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[6939,7053],"text":"\r\n                            Do not share others&rsquo; personal information without consent:\r\n                        "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":140,"column":41,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[7952,7995],"text":"1. Click &quot;Report\" on the content or profile"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[7952,7995],"text":"1. Click &ldquo;Report\" on the content or profile"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[7952,7995],"text":"1. Click &#34;Report\" on the content or profile"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[7952,7995],"text":"1. Click &rdquo;Report\" on the content or profile"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":140,"column":48,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[7952,7995],"text":"1. Click \"Report&quot; on the content or profile"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[7952,7995],"text":"1. Click \"Report&ldquo; on the content or profile"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[7952,7995],"text":"1. Click \"Report&#34; on the content or profile"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[7952,7995],"text":"1. Click \"Report&rdquo; on the content or profile"},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":13,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nexport default function CommunityGuidelinesPage() {\r\n    return (\r\n        <div className=\"min-h-screen bg-black pt-24 pb-16\">\r\n            <div className=\"max-w-3xl mx-auto px-6\">\r\n                <h1 className=\"text-4xl font-bold text-white mb-4\">Community Guidelines</h1>\r\n                <p className=\"text-zinc-400 mb-12\">Last updated: January 15, 2026</p>\r\n\r\n                <div className=\"space-y-8 text-zinc-300\">\r\n                    {/* 1. Our Community */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">1. Our Community</h2>\r\n                        <p>\r\n                            NyasaWave is a global music and marketplace community. We strive to create a safe,\r\n                            respectful, and inclusive space where artists, creators, and fans can connect. These\r\n                            guidelines ensure everyone can enjoy the platform responsibly.\r\n                        </p>\r\n                    </section>\r\n\r\n                    {/* 2. Respectful Behavior */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">2. Respectful Behavior</h2>\r\n                        <p>Treat all users with respect. This means:</p>\r\n                        <div className=\"space-y-2 ml-4 mt-3\">\r\n                            <p>ÔÇó No harassment, bullying, or intimidation</p>\r\n                            <p>ÔÇó No threats of violence or harm</p>\r\n                            <p>ÔÇó Respect diverse opinions and backgrounds</p>\r\n                            <p>ÔÇó Use constructive language in comments and messages</p>\r\n                            <p>ÔÇó Don't impersonate others or misrepresent your identity</p>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* 3. No Hate Speech */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">3. No Hate Speech or Discrimination</h2>\r\n                        <p>\r\n                            We do not tolerate content that attacks individuals or groups based on:\r\n                        </p>\r\n                        <div className=\"space-y-2 ml-4 mt-3\">\r\n                            <p>ÔÇó Race, ethnicity, or national origin</p>\r\n                            <p>ÔÇó Religion or belief system</p>\r\n                            <p>ÔÇó Gender or gender identity</p>\r\n                            <p>ÔÇó Sexual orientation</p>\r\n                            <p>ÔÇó Disability or medical condition</p>\r\n                            <p>ÔÇó Age</p>\r\n                        </div>\r\n                        <p className=\"mt-3\">\r\n                            Hate speech will result in account suspension or permanent ban.\r\n                        </p>\r\n                    </section>\r\n\r\n                    {/* 4. No Spam or Manipulation */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">4. No Spam or Manipulation</h2>\r\n                        <p>Prohibited practices include:</p>\r\n                        <div className=\"space-y-2 ml-4 mt-3\">\r\n                            <p>ÔÇó Posting repetitive content to artificially inflate engagement</p>\r\n                            <p>ÔÇó Using bots to generate fake streams or likes</p>\r\n                            <p>ÔÇó Purchasing fake followers or engagement</p>\r\n                            <p>ÔÇó Creating multiple accounts to boost metrics</p>\r\n                            <p>ÔÇó Misleading advertising or false claims</p>\r\n                            <p>ÔÇó Unsolicited advertising or promotion</p>\r\n                        </div>\r\n                        <p className=\"mt-3\">\r\n                            Detected manipulation will result in removal of fake engagement and account penalties.\r\n                        </p>\r\n                    </section>\r\n\r\n                    {/* 5. Intellectual Property */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">5. Respect Intellectual Property</h2>\r\n                        <p>\r\n                            Do not upload, share, or claim ownership of content you don't have rights to:\r\n                        </p>\r\n                        <div className=\"space-y-2 ml-4 mt-3\">\r\n                            <p>ÔÇó Don't re-upload music you don't own</p>\r\n                            <p>ÔÇó Don't claim someone else's artwork as your own</p>\r\n                            <p>ÔÇó Don't use samples without proper licensing</p>\r\n                            <p>ÔÇó Don't remix music without attribution</p>\r\n                            <p>ÔÇó Properly credit collaborators and samples</p>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* 6. No Adult or Explicit Content */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">6. Content Standards</h2>\r\n                        <p>The following content is prohibited:</p>\r\n                        <div className=\"space-y-2 ml-4 mt-3\">\r\n                            <p>ÔÇó Sexually explicit or pornographic material</p>\r\n                            <p>ÔÇó Graphic violence or gore</p>\r\n                            <p>ÔÇó Drug use promotion</p>\r\n                            <p>ÔÇó Child exploitation (automatic reporting to authorities)</p>\r\n                            <p>ÔÇó Illegal weapons or explosives</p>\r\n                        </div>\r\n                        <p className=\"mt-3\">\r\n                            Explicit music is allowed but must be properly tagged as \"Explicit\" for parental controls.\r\n                        </p>\r\n                    </section>\r\n\r\n                    {/* 7. No Illegal Activity */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">7. No Illegal Activity</h2>\r\n                        <p>\r\n                            Do not use NyasaWave to engage in, promote, or facilitate any illegal activity including:\r\n                        </p>\r\n                        <div className=\"space-y-2 ml-4 mt-3\">\r\n                            <p>ÔÇó Fraud or financial crimes</p>\r\n                            <p>ÔÇó Money laundering</p>\r\n                            <p>ÔÇó Drug trafficking</p>\r\n                            <p>ÔÇó Human trafficking or exploitation</p>\r\n                            <p>ÔÇó Terrorism or extremism</p>\r\n                        </div>\r\n                        <p className=\"mt-3\">\r\n                            We report suspected illegal activity to law enforcement.\r\n                        </p>\r\n                    </section>\r\n\r\n                    {/* 8. Privacy & Data */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">8. Respect Privacy & Data</h2>\r\n                        <p>\r\n                            Do not share others' personal information without consent:\r\n                        </p>\r\n                        <div className=\"space-y-2 ml-4 mt-3\">\r\n                            <p>ÔÇó No doxxing (sharing personal information)</p>\r\n                            <p>ÔÇó No publishing private messages without consent</p>\r\n                            <p>ÔÇó No harvesting email addresses or data</p>\r\n                            <p>ÔÇó No recording sessions without permission</p>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* 9. Reporting Violations */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">9. How to Report Violations</h2>\r\n                        <p>\r\n                            If you encounter content or behavior that violates these guidelines:\r\n                        </p>\r\n                        <div className=\"space-y-2 ml-4 mt-3\">\r\n                            <p>1. Click \"Report\" on the content or profile</p>\r\n                            <p>2. Select the violation type</p>\r\n                            <p>3. Provide details or screenshots</p>\r\n                            <p>4. Submit your report</p>\r\n                        </div>\r\n                        <p className=\"mt-3\">\r\n                            Our moderation team reviews reports within 24 hours. Urgent safety concerns can be\r\n                            emailed to safety@nyasawave.com.\r\n                        </p>\r\n                    </section>\r\n\r\n                    {/* 10. Enforcement */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">10. Enforcement & Penalties</h2>\r\n                        <p>\r\n                            Violations are handled progressively:\r\n                        </p>\r\n                        <div className=\"space-y-2 ml-4 mt-3\">\r\n                            <p><strong>First offense:</strong> Warning and content removal</p>\r\n                            <p><strong>Second offense:</strong> Temporary suspension (24-72 hours)</p>\r\n                            <p><strong>Third offense:</strong> Long-term suspension (30 days)</p>\r\n                            <p><strong>Severe violations:</strong> Permanent ban (no appeal)</p>\r\n                        </div>\r\n                        <p className=\"mt-3\">\r\n                            Severe violations (hate speech, exploitation, illegal activity) may result in\r\n                            immediate permanent ban and law enforcement notification.\r\n                        </p>\r\n                    </section>\r\n\r\n                    {/* 11. Appeals */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">11. Appeal Process</h2>\r\n                        <p>\r\n                            If you believe your content was wrongfully removed or account suspended:\r\n                        </p>\r\n                        <div className=\"space-y-2 ml-4 mt-3\">\r\n                            <p>1. Email appeals@nyasawave.com within 30 days</p>\r\n                            <p>2. Explain why you believe the action was incorrect</p>\r\n                            <p>3. Provide supporting evidence</p>\r\n                            <p>4. We will review and respond within 7 days</p>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* 12. Contact */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">12. Questions?</h2>\r\n                        <p>\r\n                            For questions about these guidelines:\r\n                        </p>\r\n                        <p className=\"mt-3\">\r\n                            Email: community@nyasawave.com<br />\r\n                            Support: support.nyasawave.com\r\n                        </p>\r\n                    </section>\r\n\r\n                    {/* Legal */}\r\n                    <div className=\"border-t border-zinc-700 pt-8 mt-12\">\r\n                        <p className=\"text-sm text-zinc-500\">\r\n                            ┬® 2026 NyasaWave. These guidelines are enforceable rules of platform conduct.\r\n                            We reserve the right to update them at any time.\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\AlbumCard.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":18,"column":13,"nodeType":"JSXOpeningElement","endLine":18,"endColumn":95}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport Link from \"next/link\";\r\n\r\nexport default function AlbumCard({\r\n  album,\r\n}: {\r\n  album: { title: string; artist: string; year?: number; cover?: string; slug?: string };\r\n}) {\r\n  return (\r\n    <Link\r\n      href={album.slug ? `/albums/${album.slug}` : `/artists`}\r\n      className=\"block p-4 rounded-2xl bg-gradient-to-br from-zinc-900/60 to-zinc-900/40 border border-zinc-800 card-anim fade-in hover:shadow-lg hover:scale-[1.02]\"\r\n    >\r\n      <div className=\"flex items-center gap-4\">\r\n        <div className=\"w-14 h-14 rounded overflow-hidden bg-zinc-700 flex-shrink-0\">\r\n          {album.cover ? (\r\n            <img src={album.cover} alt={album.title} className=\"w-full h-full object-cover\" />\r\n          ) : (\r\n            <div className=\"w-full h-full flex items-center justify-center text-zinc-200\">­ƒÄÁ</div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"min-w-0\">\r\n          <p className=\"font-semibold truncate\">{album.title}</p>\r\n          <p className=\"text-sm text-zinc-400 truncate\">{album.artist} ÔÇó {album.year ?? \"ÔÇö\"}</p>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\AnalyticsCharts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\ArtistBoost.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\ArtistCard.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":18,"column":13,"nodeType":"JSXOpeningElement","endLine":18,"endColumn":97}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport Link from \"next/link\";\r\n\r\nexport default function ArtistCard({\r\n  artist,\r\n}: {\r\n  artist: { name: string; genre?: string; slug?: string; avatar?: string };\r\n}) {\r\n  return (\r\n    <Link\r\n      href={artist.slug ? `/artists/${artist.slug}` : `/artists`}\r\n      className=\"block p-4 rounded-2xl bg-gradient-to-br from-zinc-900/60 to-zinc-900/40 border border-zinc-800 card-anim fade-in hover:shadow-lg hover:scale-[1.02]\"\r\n    >\r\n      <div className=\"flex items-center gap-4\">\r\n        <div className=\"w-14 h-14 rounded-full bg-gradient-to-br from-zinc-700 to-zinc-600 overflow-hidden flex-shrink-0 flex items-center justify-center text-xl text-zinc-200 ring-1 ring-zinc-800\">\r\n          {artist.avatar ? (\r\n            <img src={artist.avatar} alt={artist.name} className=\"w-full h-full object-cover\" />\r\n          ) : (\r\n            artist.name.charAt(0)\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"min-w-0\">\r\n          <p className=\"font-semibold truncate\">{artist.name}</p>\r\n          <p className=\"text-sm text-zinc-400 truncate\">{artist.genre ?? \"Artist\"}</p>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\AudioPlayerBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\Button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\DiscoverPrivate.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\EnhancedSongCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'id' is defined but never used.","line":16,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":16,"endColumn":5}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { Play, Heart } from \"lucide-react\";\r\nimport { usePlayer } from \"../context/PlayerContext\";\r\n\r\ninterface EnhancedSongCardProps {\r\n  id: string;\r\n  title: string;\r\n  artist: string;\r\n  plays: number;\r\n  likes: number;\r\n  duration: number;\r\n}\r\n\r\nexport default function EnhancedSongCard({\r\n  id,\r\n  title,\r\n  artist,\r\n  plays,\r\n  likes,\r\n  duration,\r\n}: EnhancedSongCardProps) {\r\n  const { setSong } = usePlayer();\r\n\r\n  const formatNumber = (n: number) => {\r\n    if (n >= 1000000) return `${(n / 1000000).toFixed(1)}M`;\r\n    if (n >= 1000) return `${(n / 1000).toFixed(1)}K`;\r\n    return n.toString();\r\n  };\r\n\r\n  const formatDuration = (seconds: number) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, \"0\")}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"group rounded-lg bg-zinc-900/50 border border-zinc-800 hover:bg-zinc-900 hover:border-emerald-400 transition p-3\">\r\n      <div className=\"flex items-center justify-between mb-2\">\r\n        <div className=\"min-w-0 flex-1\">\r\n          <h4 className=\"font-semibold text-white truncate text-sm\">\r\n            {title}\r\n          </h4>\r\n          <p className=\"text-xs text-zinc-400 truncate\">\r\n            {artist}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Play button */}\r\n        <button\r\n          type=\"button\"\r\n          onClick={() =>\r\n            setSong({\r\n              title,\r\n              artist,\r\n              src: `/audio/sample.mp3`,\r\n            })\r\n          }\r\n          aria-label={`Play ${title} by ${artist}`}\r\n          title={`Play ${title}`}\r\n          className=\"ml-2 p-2 rounded-full bg-emerald-400/10 text-emerald-400 hover:bg-emerald-400 hover:text-black transition opacity-0 group-hover:opacity-100\"\r\n        >\r\n          <Play size={14} fill=\"currentColor\" />\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"flex items-center justify-between text-xs text-zinc-500\">\r\n        <span>{formatDuration(duration)}</span>\r\n        <span className=\"flex items-center gap-3\">\r\n          <span className=\"flex items-center gap-1\">\r\n            <Heart size={12} />\r\n            {formatNumber(likes)}\r\n          </span>\r\n          <span>{formatNumber(plays)}</span>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\ErrorBoundary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\FanSupport.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'artistId' is defined but never used.","line":9,"column":38,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":46}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Modal from \"./Modal\";\r\nimport Input from \"./Input\";\r\nimport Button from \"./Button\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\n\r\nexport default function FanSupport({ artistId, artistName }: { artistId: string; artistName: string }) {\r\n  const { user } = useAuth();\r\n  const [open, setOpen] = useState(false);\r\n  const [amount, setAmount] = useState(100);\r\n  const [message, setMessage] = useState<string | null>(null);\r\n\r\n  const sendTip = () => {\r\n    // mock tipping flow\r\n    setMessage(`Thank you${user ? `, ${user.name}` : ''}! Sent ${amount} MWK to ${artistName}.`);\r\n    setTimeout(() => setOpen(false), 1200);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={() => setOpen(true)} className=\"px-3 py-2 bg-emerald-400 text-black rounded\">Support {artistName}</button>\r\n\r\n      <Modal open={open} onClose={() => setOpen(false)} title={`Support ${artistName}`}>\r\n        <div className=\"space-y-3\">\r\n          <p className=\"text-zinc-400 text-sm\">Send a tip to support this artist directly. This is a mock flow for demo purposes.</p>\r\n          <div>\r\n            <label className=\"block text-sm text-zinc-400 mb-2\">Amount (MWK)</label>\r\n            <Input type=\"number\" value={String(amount)} onChange={(e) => setAmount(Number(e.target.value))} />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm text-zinc-400 mb-2\">Message (optional)</label>\r\n            <Input placeholder=\"Say something encouraging\" />\r\n          </div>\r\n          <div className=\"flex items-center justify-end gap-3\">\r\n            <Button variant=\"ghost\" onClick={() => setOpen(false)}>Cancel</Button>\r\n            <Button onClick={sendTip}>Send Tip</Button>\r\n          </div>\r\n          {message && <div className=\"text-sm text-emerald-300\">{message}</div>}\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\FeatureCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\FollowButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\Footer.tsx","messages":[{"ruleId":"@next/next/no-html-link-for-pages","severity":2,"message":"Do not use an `<a>` element to navigate to `/artists/`. Use `<Link />` from `next/link` instead. See: https://nextjs.org/docs/messages/no-html-link-for-pages","line":18,"column":13,"nodeType":"JSXOpeningElement","endLine":18,"endColumn":86}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import NewsletterSignup from \"./NewsletterSignup\";\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"mt-16 border-t border-zinc-800 bg-black/20\">\r\n      <div className=\"max-w-7xl mx-auto px-6 py-12\">\r\n        <div className=\"mb-8\">\r\n          <NewsletterSignup />\r\n        </div>\r\n        \r\n        <div className=\"flex flex-col md:flex-row items-center justify-between gap-4 text-sm text-zinc-400\">\r\n          <div>\r\n            ┬® {new Date().getFullYear()} NyasaWave. All rights reserved.\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-4 flex-wrap justify-center\">\r\n            <a href=\"/discover\" className=\"text-zinc-300 hover:text-white transition\">Discover</a>\r\n            <a href=\"/artists\" className=\"text-zinc-300 hover:text-white transition\">Artists</a>\r\n            <a href=\"/business\" className=\"text-zinc-300 hover:text-white transition\">For Business</a>\r\n            <a href=\"/upload\" className=\"text-zinc-300 hover:text-white transition\">Upload</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\GlobalSearch.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":96,"column":38,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[3162,3202],"text":"\r\n                No results found for &quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[3162,3202],"text":"\r\n                No results found for &ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[3162,3202],"text":"\r\n                No results found for &#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[3162,3202],"text":"\r\n                No results found for &rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":96,"column":46,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[3209,3226],"text":"&quot;\r\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[3209,3226],"text":"&ldquo;\r\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[3209,3226],"text":"&#34;\r\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[3209,3226],"text":"&rdquo;\r\n              "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport Input from \"@/components/Input\";\r\nimport { useSongs } from \"@/context/SongContext\";\r\nimport { useArtists } from \"@/context/ArtistContext\";\r\n\r\nexport default function GlobalSearch() {\r\n  const { songs: allSongs } = useSongs();\r\n  const { artists: allArtists } = useArtists();\r\n  const [query, setQuery] = useState(\"\");\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const searchSongs = query.trim()\r\n    ? allSongs\r\n        .filter(\r\n          (s) =>\r\n            s.title.toLowerCase().includes(query.toLowerCase()) ||\r\n            s.artist.toLowerCase().includes(query.toLowerCase())\r\n        )\r\n        .slice(0, 5)\r\n    : [];\r\n\r\n  const searchArtists = query.trim()\r\n    ? allArtists\r\n        .filter((a) =>\r\n          a.name.toLowerCase().includes(query.toLowerCase())\r\n        )\r\n        .slice(0, 5)\r\n    : [];\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <Input\r\n        value={query}\r\n        onChange={(e) => {\r\n          setQuery(e.target.value);\r\n          setIsOpen(true);\r\n        }}\r\n        onFocus={() => setIsOpen(true)}\r\n        placeholder=\"Search songs, artists...\"\r\n        aria-label=\"Search songs and artists\"\r\n        className=\"w-full\"\r\n      />\r\n\r\n      {isOpen && query.trim() && (\r\n        <div className=\"absolute top-full mt-2 w-full bg-zinc-900 border border-zinc-700 rounded-lg shadow-lg z-40 max-h-96 overflow-y-auto\">\r\n          {searchSongs.length > 0 && (\r\n            <div className=\"border-b border-zinc-800 p-3\">\r\n              <p className=\"text-xs text-zinc-400 font-semibold mb-2\">\r\n                Songs\r\n              </p>\r\n              {searchSongs.map((song) => (\r\n                <Link\r\n                  key={song.id}\r\n                  href={`/discover?search=${encodeURIComponent(\r\n                    song.title\r\n                  )}`}\r\n                  onClick={() => setIsOpen(false)}\r\n                  className=\"block p-2 text-sm hover:bg-zinc-800 rounded\"\r\n                >\r\n                  <p>{song.title}</p>\r\n                  <p className=\"text-xs text-zinc-400\">\r\n                    {song.artist}\r\n                  </p>\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {searchArtists.length > 0 && (\r\n            <div className=\"p-3\">\r\n              <p className=\"text-xs text-zinc-400 font-semibold mb-2\">\r\n                Artists\r\n              </p>\r\n              {searchArtists.map((artist) => (\r\n                <Link\r\n                  key={artist.id}\r\n                  href={`/artists/${artist.slug}`}\r\n                  onClick={() => setIsOpen(false)}\r\n                  className=\"block p-2 text-sm hover:bg-zinc-800 rounded\"\r\n                >\r\n                  <p>{artist.name}</p>\r\n                  <p className=\"text-xs text-zinc-400\">\r\n                    {artist.genre}\r\n                  </p>\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {searchSongs.length === 0 &&\r\n            searchArtists.length === 0 && (\r\n              <div className=\"p-4 text-center text-sm text-zinc-400\">\r\n                No results found for \"{query}\"\r\n              </div>\r\n            )}\r\n        </div>\r\n      )}\r\n\r\n      {isOpen && !query.trim() && (\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => setIsOpen(false)}\r\n          aria-label=\"Close search results\"\r\n          title=\"Close search results\"\r\n          className=\"fixed inset-0 z-30\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\Input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\Logo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\Modal.tsx","messages":[{"ruleId":"react-hooks/rules-of-hooks","severity":2,"message":"React Hook \"useEffect\" is called conditionally. React Hooks must be called in the exact same order in every component render.","line":22,"column":3,"nodeType":"Identifier","endLine":22,"endColumn":12}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { X } from \"lucide-react\";\r\nimport React, { useEffect } from \"react\";\r\n\r\ninterface ModalProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  title?: string;\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport default function Modal({\r\n  open,\r\n  onClose,\r\n  title,\r\n  children,\r\n}: ModalProps) {\r\n  if (!open) return null;\r\n\r\n  // Close modal on ESC key\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\") {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => document.removeEventListener(\"keydown\", handleKeyDown);\r\n  }, [onClose]);\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n      {/* Backdrop */}\r\n      <div\r\n        className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\"\r\n        onClick={onClose}\r\n        aria-hidden=\"true\"\r\n      />\r\n\r\n      {/* Modal */}\r\n      <div\r\n        role=\"dialog\"\r\n        aria-modal=\"true\"\r\n        aria-labelledby={title ? \"modal-title\" : undefined}\r\n        className=\"relative bg-zinc-900 border border-zinc-800 rounded-2xl max-w-md w-full mx-4 p-6 shadow-xl\"\r\n      >\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          {title && (\r\n            <h2\r\n              id=\"modal-title\"\r\n              className=\"text-xl font-semibold text-white\"\r\n            >\r\n              {title}\r\n            </h2>\r\n          )}\r\n\r\n          <button\r\n            type=\"button\"\r\n            onClick={onClose}\r\n            aria-label=\"Close modal\"\r\n            title=\"Close modal\"\r\n            className=\"text-zinc-400 hover:text-white transition\"\r\n          >\r\n            <X size={20} />\r\n          </button>\r\n        </div>\r\n\r\n        <div>{children}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\Navbar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\NewsCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\NewsletterSignup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\Player.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"The ref value 'audioRef.current' will likely have changed by the time this effect cleanup function runs. If this ref points to a node rendered by React, copy 'audioRef.current' to a variable inside the effect, and use that variable in the cleanup function.","line":24,"column":16,"nodeType":"Identifier","endLine":24,"endColumn":23},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":46,"column":11,"nodeType":"JSXOpeningElement","endLine":50,"endColumn":13},{"ruleId":"react-hooks/refs","severity":2,"message":"Error: Cannot access refs during render\n\nReact refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).\n\nE:\\nyasawave-projects\\nyasawave\\app\\components\\Player.tsx:66:12\n  64 |       <div className=\"flex items-center gap-2\">\n  65 |         <span className=\"text-xs text-zinc-400 w-10 text-right\">\n> 66 |           {audioRef?.current ? formatTime(audioRef.current.currentTime) : \"0:00\"}\n     |            ^^^^^^^^^^^^^^^^^ Cannot access ref value during render\n  67 |         </span>\n  68 |         <div className={styles.progressBar}>\n  69 |           <div className={progressClassName}></div>","line":66,"column":12,"nodeType":null,"endLine":66,"endColumn":29},{"ruleId":"react-hooks/refs","severity":2,"message":"Error: Cannot access refs during render\n\nReact refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).\n\nE:\\nyasawave-projects\\nyasawave\\app\\components\\Player.tsx:66:43\n  64 |       <div className=\"flex items-center gap-2\">\n  65 |         <span className=\"text-xs text-zinc-400 w-10 text-right\">\n> 66 |           {audioRef?.current ? formatTime(audioRef.current.currentTime) : \"0:00\"}\n     |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Passing a ref to a function may read its value during render\n  67 |         </span>\n  68 |         <div className={styles.progressBar}>\n  69 |           <div className={progressClassName}></div>","line":66,"column":43,"nodeType":null,"endLine":66,"endColumn":71},{"ruleId":"react-hooks/refs","severity":2,"message":"Error: Cannot access refs during render\n\nReact refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).\n\nE:\\nyasawave-projects\\nyasawave\\app\\components\\Player.tsx:72:12\n  70 |         </div>\n  71 |         <span className=\"text-xs text-zinc-400 w-10\">\n> 72 |           {audioRef?.current ? formatTime(audioRef.current.duration) : \"0:00\"}\n     |            ^^^^^^^^^^^^^^^^^ Cannot access ref value during render\n  73 |         </span>\n  74 |       </div>\n  75 |     </div>","line":72,"column":12,"nodeType":null,"endLine":72,"endColumn":29},{"ruleId":"react-hooks/refs","severity":2,"message":"Error: Cannot access refs during render\n\nReact refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).\n\nE:\\nyasawave-projects\\nyasawave\\app\\components\\Player.tsx:72:43\n  70 |         </div>\n  71 |         <span className=\"text-xs text-zinc-400 w-10\">\n> 72 |           {audioRef?.current ? formatTime(audioRef.current.duration) : \"0:00\"}\n     |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^ Passing a ref to a function may read its value during render\n  73 |         </span>\n  74 |       </div>\n  75 |     </div>","line":72,"column":43,"nodeType":null,"endLine":72,"endColumn":68}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { usePlayer } from \"../context/PlayerContext\";\r\nimport styles from \"./Player.module.css\";\r\n\r\nexport default function Player() {\r\n  const { currentSong, isPlaying, togglePlay, audioRef } = usePlayer();\r\n  const [progress, setProgress] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (!audioRef?.current) return;\r\n\r\n    const updateProgress = () => {\r\n      if (audioRef.current) {\r\n        setProgress(\r\n          (audioRef.current.currentTime / audioRef.current.duration) * 100 || 0\r\n        );\r\n      }\r\n    };\r\n\r\n    audioRef.current.addEventListener(\"timeupdate\", updateProgress);\r\n    return () => {\r\n      audioRef.current?.removeEventListener(\"timeupdate\", updateProgress);\r\n    };\r\n  }, [audioRef]);\r\n\r\n  const formatTime = (time: number) => {\r\n    if (!time || isNaN(time)) return \"0:00\";\r\n    const minutes = Math.floor(time / 60);\r\n    const seconds = Math.floor(time % 60);\r\n    return `${minutes}:${seconds.toString().padStart(2, \"0\")}`;\r\n  };\r\n\r\n  if (!currentSong) return null;\r\n\r\n  // Round progress to nearest 5 to match CSS module classes (progress0, progress5, ...)\r\n  let progStep = Math.round(progress / 5) * 5;\r\n  progStep = Math.min(100, Math.max(0, progStep));\r\n  const progressClassName = `${styles.progress} ${styles[`progress${progStep}`]}`;\r\n\r\n  return (\r\n    <div className=\"fixed bottom-0 left-0 right-0 bg-gradient-to-t from-black/95 to-black/80 backdrop-blur border-t border-zinc-800 text-white p-4 shadow-2xl z-50\">\r\n      <div className=\"flex items-center gap-4 mb-2\">\r\n        {currentSong.cover && (\r\n          <img\r\n            src={currentSong.cover}\r\n            alt={currentSong.title}\r\n            className=\"w-14 h-14 rounded object-cover bg-zinc-700\"\r\n          />\r\n        )}\r\n        <div className=\"flex-1 min-w-0\">\r\n          <p className=\"font-semibold truncate\">{currentSong.title}</p>\r\n          <p className=\"text-sm text-zinc-400 truncate\">{currentSong.artist}</p>\r\n        </div>\r\n        <button\r\n          onClick={togglePlay}\r\n          className=\"bg-emerald-400 text-black px-6 py-2 rounded-full font-semibold hover:bg-emerald-300 transition whitespace-nowrap\"\r\n        >\r\n          {isPlaying ? 'ÔÅ© Pause' : 'ÔûÂ Play'}\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-2\">\r\n        <span className=\"text-xs text-zinc-400 w-10 text-right\">\r\n          {audioRef?.current ? formatTime(audioRef.current.currentTime) : \"0:00\"}\r\n        </span>\r\n        <div className={styles.progressBar}>\r\n          <div className={progressClassName}></div>\r\n        </div>\r\n        <span className=\"text-xs text-zinc-400 w-10\">\r\n          {audioRef?.current ? formatTime(audioRef.current.duration) : \"0:00\"}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\PlayerBar.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":15,"column":11,"nodeType":"JSXOpeningElement","endLine":19,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { usePlayer } from '../context/PlayerContext';\r\nimport { downloadSong } from '@/lib/downloadSong';\r\n\r\nexport default function PlayerBar() {\r\n  const { currentSong, isPlaying, togglePlay, isPremium } = usePlayer();\r\n\r\n  if (!currentSong) return null;\r\n\r\n  return (\r\n    <div className=\"fixed bottom-0 left-0 right-0 bg-black border-t border-zinc-800 p-4 flex justify-between items-center z-50 gap-4\">\r\n      <div className=\"flex items-center gap-4 flex-1 min-w-0\">\r\n        {currentSong.cover && (\r\n          <img\r\n            src={currentSong.cover}\r\n            alt={currentSong.title}\r\n            className=\"w-12 h-12 rounded object-cover bg-zinc-700\"\r\n          />\r\n        )}\r\n        <div className=\"min-w-0\">\r\n          <p className=\"font-semibold text-sm truncate\">{currentSong.title}</p>\r\n          <p className=\"text-xs opacity-60 truncate\">{currentSong.artist}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-2\">\r\n        {isPremium ? (\r\n          <button\r\n            onClick={() => downloadSong(currentSong)}\r\n            className=\"bg-blue-500 text-white px-4 py-2 rounded-full font-semibold hover:bg-blue-400 transition text-sm\"\r\n            title=\"Download this song\"\r\n          >\r\n            Ô¼ç Download\r\n          </button>\r\n        ) : (\r\n          <button\r\n            disabled\r\n            className=\"bg-gray-700 text-gray-400 px-4 py-2 rounded-full font-semibold cursor-not-allowed text-sm\"\r\n            title=\"Upgrade to Premium to download\"\r\n          >\r\n            ­ƒÆÄ Premium Only\r\n          </button>\r\n        )}\r\n\r\n        <button\r\n          onClick={togglePlay}\r\n          className=\"bg-emerald-400 text-black px-6 py-2 rounded-full font-semibold hover:bg-emerald-300 transition\"\r\n        >\r\n          {isPlaying ? 'ÔÅ© Pause' : 'ÔûÂ Play'}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\PlayerControls.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\PlaylistCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'id' is defined but never used.","line":14,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":5}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { Heart } from \"lucide-react\";\r\n\r\ninterface PlaylistCardProps {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  trackCount: number;\r\n  onClick?: () => void;\r\n}\r\n\r\nexport default function PlaylistCard({\r\n  id,\r\n  title,\r\n  description,\r\n  trackCount,\r\n  onClick,\r\n}: PlaylistCardProps) {\r\n  return (\r\n    <div\r\n      onClick={onClick}\r\n      className=\"group rounded-lg bg-zinc-900/50 border border-zinc-800 p-4 hover:bg-zinc-900 hover:border-emerald-400 transition cursor-pointer\"\r\n    >\r\n      {/* Placeholder Image */}\r\n      <div className=\"w-full aspect-square rounded-md bg-gradient-to-br from-emerald-400/20 to-emerald-600/20 mb-4 flex items-center justify-center group-hover:scale-105 transition\">\r\n        <Heart size={32} className=\"text-emerald-400\" />\r\n      </div>\r\n\r\n      <h3 className=\"font-semibold text-white line-clamp-2 mb-1\">{title}</h3>\r\n      <p className=\"text-sm text-zinc-400 line-clamp-2 mb-2\">{description}</p>\r\n      <p className=\"text-xs text-zinc-500\">{trackCount} songs</p>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\PremiumToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\ProgressBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\RecommendedTracks.tsx","messages":[{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nE:\\nyasawave-projects\\nyasawave\\app\\components\\RecommendedTracks.tsx:12:17\n  10 |   // Simple recommendation: shuffle and pick top 4 tracks\n  11 |   const recommended = songs\n> 12 |     .sort(() => Math.random() - 0.5)\n     |                 ^^^^^^^^^^^^^ Cannot call impure function\n  13 |     .slice(0, 4);\n  14 |\n  15 |   return (","line":12,"column":17,"nodeType":null,"endLine":12,"endColumn":30}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { useSongs } from \"@/context/SongContext\";\r\nimport EnhancedSongCard from \"./EnhancedSongCard\";\r\n\r\nexport default function RecommendedTracks() {\r\n  const { songs } = useSongs();\r\n  \r\n  // Simple recommendation: shuffle and pick top 4 tracks\r\n  const recommended = songs\r\n    .sort(() => Math.random() - 0.5)\r\n    .slice(0, 4);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <h2 className=\"text-2xl font-semibold\">Recommended For You</h2>\r\n        <Link href=\"/discover\" className=\"text-emerald-400 text-sm\">View More ÔåÆ</Link>\r\n      </div>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        {recommended.map((song) => (\r\n          <EnhancedSongCard\r\n            key={song.id}\r\n            id={song.id}\r\n            title={song.title}\r\n            artist={song.artist}\r\n            plays={song.plays}\r\n            likes={song.likes}\r\n            duration={song.duration}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\Skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\SkeletonLoader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\SongCard.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":14,"column":9,"nodeType":"JSXOpeningElement","endLine":14,"endColumn":121}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { usePlayer } from '../context/PlayerContext';\r\n\r\nexport default function SongCard({ song }: { song: any }) {\r\n  const { playSong } = usePlayer();\r\n\r\n  return (\r\n    <div\r\n      onClick={() => playSong(song)}\r\n      className=\"bg-zinc-900 p-4 rounded-lg cursor-pointer hover:bg-zinc-800 transition\"\r\n    >\r\n      {song.cover && (\r\n        <img src={song.cover} alt={song.title} className=\"rounded mb-3 w-full aspect-square object-cover bg-zinc-700\" />\r\n      )}\r\n      <h3 className=\"font-semibold text-sm truncate\">{song.title}</h3>\r\n      <p className=\"text-xs opacity-70 truncate\">{song.artist}</p>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\SongsGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\Toast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\TrendingChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\UpcomingArtistCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'id' is defined but never used.","line":13,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":5}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Star } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\n\r\ninterface UpcomingArtistCardProps {\r\n  id: string;\r\n  name: string;\r\n  slug: string;\r\n  genre: string;\r\n  monthlyListeners: number;\r\n}\r\n\r\nexport default function UpcomingArtistCard({\r\n  id,\r\n  name,\r\n  slug,\r\n  genre,\r\n  monthlyListeners,\r\n}: UpcomingArtistCardProps) {\r\n  return (\r\n    <Link href={`/artists/${slug}`}>\r\n      <div className=\"rounded-2xl bg-gradient-to-br from-amber-600/10 to-orange-600/10 border border-amber-600/30 p-4 hover:border-amber-400 transition cursor-pointer group\">\r\n        <div className=\"flex items-start justify-between mb-3\">\r\n          <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center text-white font-bold flex-shrink-0\">\r\n            {name.charAt(0)}\r\n          </div>\r\n          <Star size={16} className=\"text-amber-400\" fill=\"currentColor\" />\r\n        </div>\r\n        <h3 className=\"font-semibold text-white mb-1 group-hover:text-amber-400 transition\">{name}</h3>\r\n        <p className=\"text-sm text-zinc-400 mb-2\">{genre}</p>\r\n        <p className=\"text-xs text-amber-600/70\">\r\n          {(monthlyListeners / 1000).toFixed(0)}K listeners\r\n        </p>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\UpgradeBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\analytics\\ArtistStats.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":143,"column":30,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6249,6317],"text":"Boost your &quot;Nyasa Vibes\" track - it has highest engagement potential"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6249,6317],"text":"Boost your &ldquo;Nyasa Vibes\" track - it has highest engagement potential"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6249,6317],"text":"Boost your &#34;Nyasa Vibes\" track - it has highest engagement potential"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6249,6317],"text":"Boost your &rdquo;Nyasa Vibes\" track - it has highest engagement potential"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":143,"column":42,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6249,6317],"text":"Boost your \"Nyasa Vibes&quot; track - it has highest engagement potential"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6249,6317],"text":"Boost your \"Nyasa Vibes&ldquo; track - it has highest engagement potential"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6249,6317],"text":"Boost your \"Nyasa Vibes&#34; track - it has highest engagement potential"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6249,6317],"text":"Boost your \"Nyasa Vibes&rdquo; track - it has highest engagement potential"},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport styles from './ArtistStats.module.css';\r\n\r\nexport default function ArtistStats() {\r\n  const chartValues = [45, 52, 38, 61, 55, 48, 72];\r\n\r\n  // Phase 7.1: AI-Generated Insights\r\n  const insights = [\r\n    {\r\n      type: 'recommendation',\r\n      title: 'Best Release Day',\r\n      message: 'Your tracks perform 23% better when released on Fridays',\r\n      icon: '­ƒôà',\r\n    },\r\n    {\r\n      type: 'opportunity',\r\n      title: 'Emerging Trend',\r\n      message: 'Afrobeats + Hip-Hop blend is trending. Your sound matches this perfectly',\r\n      icon: '­ƒÄ»',\r\n    },\r\n    {\r\n      type: 'growth',\r\n      title: 'Growth Prediction',\r\n      message: 'At current growth rate, you\\'ll reach 10K listeners in 6 weeks',\r\n      icon: '­ƒôê',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n        <h3 className=\"text-xl font-bold mb-6\">Your Analytics</h3>\r\n\r\n        <div className=\"grid md:grid-cols-3 gap-4 mb-8\">\r\n          <div className=\"bg-zinc-800/50 rounded p-4\">\r\n            <p className=\"text-zinc-400 text-sm\">Total Streams</p>\r\n            <p className=\"text-3xl font-bold text-emerald-400 mt-2\">2,142</p>\r\n            <p className=\"text-xs text-emerald-300 mt-2\">Ôåæ 12% from last month</p>\r\n          </div>\r\n\r\n          <div className=\"bg-zinc-800/50 rounded p-4\">\r\n            <p className=\"text-zinc-400 text-sm\">Most Played</p>\r\n            <p className=\"font-semibold mt-2\">Nyasa Vibes</p>\r\n            <p className=\"text-xs text-zinc-400 mt-1\">1,250 streams</p>\r\n          </div>\r\n\r\n          <div className=\"bg-zinc-800/50 rounded p-4\">\r\n            <p className=\"text-zinc-400 text-sm\">Growth</p>\r\n            <p className=\"text-3xl font-bold text-pink-400 mt-2\">Ôåæ 24%</p>\r\n            <p className=\"text-xs text-pink-300 mt-2\">Monthly growth</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mini Chart */}\r\n        <div className=\"bg-zinc-800/30 rounded p-4\">\r\n          <p className=\"text-sm text-zinc-400 mb-3\">Last 7 Days</p>\r\n          <div className=\"flex items-end gap-2 h-20\">\r\n            {chartValues.map((value, idx) => {\r\n              const barClassName = `${styles.bar} ${styles[`bar${value}`]}`;\r\n              return (\r\n                <div\r\n                  key={idx}\r\n                  className={barClassName}\r\n                  title={`${value} plays`}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Phase 7.1: AI Insights Section */}\r\n      <div className=\"bg-gradient-to-r from-emerald-900/20 to-emerald-900/10 rounded-lg p-6 border border-emerald-600/30\">\r\n        <h3 className=\"text-xl font-bold mb-4 text-emerald-300\">­ƒñû AI Insights</h3>\r\n        <div className=\"space-y-3\">\r\n          {insights.map((insight, idx) => (\r\n            <div key={idx} className=\"bg-emerald-900/20 rounded p-4 border border-emerald-600/20\">\r\n              <div className=\"flex items-start gap-3\">\r\n                <span className=\"text-2xl\">{insight.icon}</span>\r\n                <div className=\"flex-1\">\r\n                  <p className=\"font-semibold text-sm\">{insight.title}</p>\r\n                  <p className=\"text-xs text-zinc-300 mt-1\">{insight.message}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Revenue Breakdown (Phase 7.2) */}\r\n      <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n        <h3 className=\"text-xl font-bold mb-4\">Revenue Breakdown</h3>\r\n        <div className=\"space-y-3\">\r\n          <div className=\"flex justify-between items-center p-3 bg-zinc-800/50 rounded\">\r\n            <span className=\"text-sm\">Streams</span>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className={styles.progressBar}>\r\n                <div className={`${styles.progressFill} ${styles.progressStreams} ${styles.progressStreams45}`}></div>\r\n              </div>\r\n              <span className=\"text-sm font-semibold\">MWK 15,200</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex justify-between items-center p-3 bg-zinc-800/50 rounded\">\r\n            <span className=\"text-sm\">Subscriptions</span>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className={styles.progressBar}>\r\n                <div className={`${styles.progressFill} ${styles.progressSubscriptions} ${styles.progressSubscriptions35}`}></div>\r\n              </div>\r\n              <span className=\"text-sm font-semibold\">MWK 8,500</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex justify-between items-center p-3 bg-zinc-800/50 rounded\">\r\n            <span className=\"text-sm\">Licensing</span>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className={styles.progressBar}>\r\n                <div className={`${styles.progressFill} ${styles.progressLicensing} ${styles.progressLicensing20}`}></div>\r\n              </div>\r\n              <span className=\"text-sm font-semibold\">MWK 2,300</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"pt-3 border-t border-zinc-700 flex justify-between items-center\">\r\n            <span className=\"font-semibold\">Total This Month</span>\r\n            <span className=\"text-emerald-400 font-bold\">MWK 26,000</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recommendations for Growth (Phase 6.1) */}\r\n      <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n        <h3 className=\"text-xl font-bold mb-4\">Recommendations</h3>\r\n        <ul className=\"space-y-2 text-sm text-zinc-300\">\r\n          <li className=\"flex items-start gap-2\">\r\n            <span className=\"text-emerald-400 mt-1\">Ô£ô</span>\r\n            <span>Post consistently on Fridays - your best performing day</span>\r\n          </li>\r\n          <li className=\"flex items-start gap-2\">\r\n            <span className=\"text-emerald-400 mt-1\">Ô£ô</span>\r\n            <span>Collaborate with artists in Hip-Hop genre (growing audience segment)</span>\r\n          </li>\r\n          <li className=\"flex items-start gap-2\">\r\n            <span className=\"text-emerald-400 mt-1\">Ô£ô</span>\r\n            <span>Boost your \"Nyasa Vibes\" track - it has highest engagement potential</span>\r\n          </li>\r\n          <li className=\"flex items-start gap-2\">\r\n            <span className=\"text-emerald-400 mt-1\">Ô£ô</span>\r\n            <span>South Africa is your second largest market - create region-specific content</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\components\\analytics\\ArtistStats_new.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":143,"column":30,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6150,6218],"text":"Boost your &quot;Nyasa Vibes\" track - it has highest engagement potential"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6150,6218],"text":"Boost your &ldquo;Nyasa Vibes\" track - it has highest engagement potential"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6150,6218],"text":"Boost your &#34;Nyasa Vibes\" track - it has highest engagement potential"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6150,6218],"text":"Boost your &rdquo;Nyasa Vibes\" track - it has highest engagement potential"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":143,"column":42,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6150,6218],"text":"Boost your \"Nyasa Vibes&quot; track - it has highest engagement potential"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6150,6218],"text":"Boost your \"Nyasa Vibes&ldquo; track - it has highest engagement potential"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6150,6218],"text":"Boost your \"Nyasa Vibes&#34; track - it has highest engagement potential"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6150,6218],"text":"Boost your \"Nyasa Vibes&rdquo; track - it has highest engagement potential"},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport styles from './ArtistStats.module.css';\r\n\r\nexport default function ArtistStats() {\r\n  const chartValues = [45, 52, 38, 61, 55, 48, 72];\r\n\r\n  // Phase 7.1: AI-Generated Insights\r\n  const insights = [\r\n    {\r\n      type: 'recommendation',\r\n      title: 'Best Release Day',\r\n      message: 'Your tracks perform 23% better when released on Fridays',\r\n      icon: '­ƒôà',\r\n    },\r\n    {\r\n      type: 'opportunity',\r\n      title: 'Emerging Trend',\r\n      message: 'Afrobeats + Hip-Hop blend is trending. Your sound matches this perfectly',\r\n      icon: '­ƒÄ»',\r\n    },\r\n    {\r\n      type: 'growth',\r\n      title: 'Growth Prediction',\r\n      message: 'At current growth rate, you\\'ll reach 10K listeners in 6 weeks',\r\n      icon: '­ƒôê',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n        <h3 className=\"text-xl font-bold mb-6\">Your Analytics</h3>\r\n\r\n        <div className=\"grid md:grid-cols-3 gap-4 mb-8\">\r\n          <div className=\"bg-zinc-800/50 rounded p-4\">\r\n            <p className=\"text-zinc-400 text-sm\">Total Streams</p>\r\n            <p className=\"text-3xl font-bold text-emerald-400 mt-2\">2,142</p>\r\n            <p className=\"text-xs text-emerald-300 mt-2\">Ôåæ 12% from last month</p>\r\n          </div>\r\n\r\n          <div className=\"bg-zinc-800/50 rounded p-4\">\r\n            <p className=\"text-zinc-400 text-sm\">Most Played</p>\r\n            <p className=\"font-semibold mt-2\">Nyasa Vibes</p>\r\n            <p className=\"text-xs text-zinc-400 mt-1\">1,250 streams</p>\r\n          </div>\r\n\r\n          <div className=\"bg-zinc-800/50 rounded p-4\">\r\n            <p className=\"text-zinc-400 text-sm\">Growth</p>\r\n            <p className=\"text-3xl font-bold text-pink-400 mt-2\">Ôåæ 24%</p>\r\n            <p className=\"text-xs text-pink-300 mt-2\">Monthly growth</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mini Chart */}\r\n        <div className=\"bg-zinc-800/30 rounded p-4\">\r\n          <p className=\"text-sm text-zinc-400 mb-3\">Last 7 Days</p>\r\n          <div className=\"flex items-end gap-2 h-20\">\r\n            {chartValues.map((value, idx) => {\r\n              const barClassName = `${styles.bar} ${styles[`bar${value}`]}`;\r\n              return (\r\n                <div\r\n                  key={idx}\r\n                  className={barClassName}\r\n                  aria-label={`${value} plays on day ${idx + 1}`}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Phase 7.1: AI Insights Section */}\r\n      <div className=\"bg-gradient-to-r from-emerald-900/20 to-emerald-900/10 rounded-lg p-6 border border-emerald-600/30\">\r\n        <h3 className=\"text-xl font-bold mb-4 text-emerald-300\">­ƒñû AI Insights</h3>\r\n        <div className=\"space-y-3\">\r\n          {insights.map((insight, idx) => (\r\n            <div key={idx} className=\"bg-emerald-900/20 rounded p-4 border border-emerald-600/20\">\r\n              <div className=\"flex items-start gap-3\">\r\n                <span className=\"text-2xl\">{insight.icon}</span>\r\n                <div className=\"flex-1\">\r\n                  <p className=\"font-semibold text-sm\">{insight.title}</p>\r\n                  <p className=\"text-xs text-zinc-300 mt-1\">{insight.message}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Revenue Breakdown (Phase 7.2) */}\r\n      <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n        <h3 className=\"text-xl font-bold mb-4\">Revenue Breakdown</h3>\r\n        <div className=\"space-y-3\">\r\n          <div className=\"flex justify-between items-center p-3 bg-zinc-800/50 rounded\">\r\n            <span className=\"text-sm\">Streams</span>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-32 bg-zinc-700 rounded h-2\">\r\n                <div className=\"bg-emerald-500 h-2 rounded w-[45%]\"></div>\r\n              </div>\r\n              <span className=\"text-sm font-semibold\">MWK 15,200</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex justify-between items-center p-3 bg-zinc-800/50 rounded\">\r\n            <span className=\"text-sm\">Subscriptions</span>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-32 bg-zinc-700 rounded h-2\">\r\n                <div className=\"bg-blue-500 h-2 rounded w-[35%]\"></div>\r\n              </div>\r\n              <span className=\"text-sm font-semibold\">MWK 8,500</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex justify-between items-center p-3 bg-zinc-800/50 rounded\">\r\n            <span className=\"text-sm\">Licensing</span>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-32 bg-zinc-700 rounded h-2\">\r\n                <div className=\"bg-purple-500 h-2 rounded w-[20%]\"></div>\r\n              </div>\r\n              <span className=\"text-sm font-semibold\">MWK 2,300</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"pt-3 border-t border-zinc-700 flex justify-between items-center\">\r\n            <span className=\"font-semibold\">Total This Month</span>\r\n            <span className=\"text-emerald-400 font-bold\">MWK 26,000</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recommendations for Growth (Phase 6.1) */}\r\n      <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n        <h3 className=\"text-xl font-bold mb-4\">Recommendations</h3>\r\n        <ul className=\"space-y-2 text-sm text-zinc-300\">\r\n          <li className=\"flex items-start gap-2\">\r\n            <span className=\"text-emerald-400 mt-1\">Ô£ô</span>\r\n            <span>Post consistently on Fridays - your best performing day</span>\r\n          </li>\r\n          <li className=\"flex items-start gap-2\">\r\n            <span className=\"text-emerald-400 mt-1\">Ô£ô</span>\r\n            <span>Collaborate with artists in Hip-Hop genre (growing audience segment)</span>\r\n          </li>\r\n          <li className=\"flex items-start gap-2\">\r\n            <span className=\"text-emerald-400 mt-1\">Ô£ô</span>\r\n            <span>Boost your \"Nyasa Vibes\" track - it has highest engagement potential</span>\r\n          </li>\r\n          <li className=\"flex items-start gap-2\">\r\n            <span className=\"text-emerald-400 mt-1\">Ô£ô</span>\r\n            <span>South Africa is your second largest market - create region-specific content</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\context\\ArtistContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\context\\AudioPlayerContext.tsx","messages":[{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`nextTrack` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nE:\\nyasawave-projects\\nyasawave\\app\\context\\AudioPlayerContext.tsx:102:9\n  100 |       setIsPlaying(false);\n  101 |       if (queue.length > currentIndexRef.current + 1) {\n> 102 |         nextTrack();\n      |         ^^^^^^^^^ `nextTrack` accessed before it is declared\n  103 |       }\n  104 |     };\n  105 |\n\nE:\\nyasawave-projects\\nyasawave\\app\\context\\AudioPlayerContext.tsx:178:3\n  176 |   };\n  177 |\n> 178 |   const nextTrack = () => {\n      |   ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 179 |     if (queue.length === 0) return;\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 180 |     const nextIndex = (currentIndexRef.current + 1) % queue.length;\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 181 |     currentIndexRef.current = nextIndex;\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 182 |     playTrack(queue[nextIndex]);\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 183 |   };\n      | ^^^^^ `nextTrack` is declared here\n  184 |\n  185 |   const previousTrack = () => {\n  186 |     if (queue.length === 0) return;","line":102,"column":9,"nodeType":null,"endLine":102,"endColumn":18},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'nextTrack'. Either include it or remove the dependency array.","line":115,"column":6,"nodeType":"ArrayExpression","endLine":115,"endColumn":13,"suggestions":[{"desc":"Update the dependencies array to be: [nextTrack, queue]","fix":{"range":[3599,3606],"text":"[nextTrack, queue]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { createContext, useContext, useRef, useState, useEffect } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\n\r\ninterface Track {\r\n  id: string;\r\n  title: string;\r\n  artist: string;\r\n  url: string;\r\n  coverArt?: string;\r\n  duration?: number;\r\n  artistId?: string;\r\n}\r\n\r\ninterface AudioPlayerContextType {\r\n  currentTrack: Track | null;\r\n  isPlaying: boolean;\r\n  progress: number;\r\n  duration: number;\r\n  playTrack: (track: Track) => void;\r\n  pauseTrack: () => void;\r\n  resumeTrack: () => void;\r\n  seek: (time: number) => void;\r\n  nextTrack: () => void;\r\n  previousTrack: () => void;\r\n  queue: Track[];\r\n  addToQueue: (track: Track) => void;\r\n  clearQueue: () => void;\r\n  isPreviewMode: boolean;\r\n  previewDurationRemaining: number;\r\n}\r\n\r\nconst AudioPlayerContext = createContext<AudioPlayerContextType | undefined>(undefined);\r\n\r\nexport const AudioPlayerProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const { user } = useAuth();\r\n  const audioRef = useRef<HTMLAudioElement>(null);\r\n  const [currentTrack, setCurrentTrack] = useState<Track | null>(null);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n  const [duration, setDuration] = useState(0);\r\n  const [queue, setQueue] = useState<Track[]>([]);\r\n  const currentIndexRef = useRef(0);\r\n  const streamLoggedRef = useRef<boolean>(false);\r\n\r\n  const isPreviewMode = !user; // guests are in preview mode\r\n  const PREVIEW_LIMIT = 30; // seconds\r\n  const [previewDurationRemaining, setPreviewDurationRemaining] = useState(PREVIEW_LIMIT);\r\n\r\n  // Log stream when track plays >= 30 seconds\r\n  useEffect(() => {\r\n    if (!currentTrack || !isPlaying) return;\r\n\r\n    if (progress >= 30 && !streamLoggedRef.current) {\r\n      streamLoggedRef.current = true;\r\n\r\n      // Log stream to backend\r\n      const logStream = async () => {\r\n        try {\r\n          const token = localStorage.getItem('nyasawave_token');\r\n          const headers: any = {\r\n            'Content-Type': 'application/json',\r\n          };\r\n          if (token) {\r\n            headers['Authorization'] = `Bearer ${token}`;\r\n          }\r\n\r\n          const ipAddress = await fetch('https://api.ipify.org?format=json')\r\n            .then(r => r.json())\r\n            .then(data => data.ip)\r\n            .catch(() => 'unknown');\r\n\r\n          await fetch('/api/stream/log', {\r\n            method: 'POST',\r\n            headers,\r\n            body: JSON.stringify({\r\n              trackId: currentTrack.id,\r\n              duration: Math.round(progress),\r\n              ipAddress,\r\n            }),\r\n          });\r\n        } catch (error) {\r\n          console.error('Failed to log stream:', error);\r\n        }\r\n      };\r\n\r\n      logStream();\r\n    }\r\n  }, [progress, isPlaying, currentTrack]);\r\n\r\n  useEffect(() => {\r\n    const audio = audioRef.current;\r\n    if (!audio) return;\r\n\r\n    const updateProgress = () => setProgress(audio.currentTime);\r\n    const updateDuration = () => setDuration(audio.duration || 0);\r\n\r\n    const handleEnded = () => {\r\n      setIsPlaying(false);\r\n      if (queue.length > currentIndexRef.current + 1) {\r\n        nextTrack();\r\n      }\r\n    };\r\n\r\n    audio.addEventListener('timeupdate', updateProgress);\r\n    audio.addEventListener('loadedmetadata', updateDuration);\r\n    audio.addEventListener('ended', handleEnded);\r\n\r\n    return () => {\r\n      audio.removeEventListener('timeupdate', updateProgress);\r\n      audio.removeEventListener('loadedmetadata', updateDuration);\r\n      audio.removeEventListener('ended', handleEnded);\r\n    };\r\n  }, [queue]);\r\n\r\n  // enforce preview limit for guests\r\n  useEffect(() => {\r\n    if (!isPreviewMode) return;\r\n    if (progress >= PREVIEW_LIMIT && isPlaying) {\r\n      // pause and clamp progress\r\n      const audio = audioRef.current;\r\n      if (audio) {\r\n        audio.pause();\r\n        audio.currentTime = PREVIEW_LIMIT;\r\n      }\r\n      setIsPlaying(false);\r\n    }\r\n    setPreviewDurationRemaining(Math.max(PREVIEW_LIMIT - progress, 0));\r\n  }, [progress, isPlaying, isPreviewMode]);\r\n\r\n  const playTrack = (track: Track) => {\r\n    const audio = audioRef.current;\r\n    if (!audio) return;\r\n\r\n    setCurrentTrack(track);\r\n    setProgress(0);\r\n    setPreviewDurationRemaining(PREVIEW_LIMIT);\r\n    streamLoggedRef.current = false; // reset stream log flag\r\n    audio.src = track.url;\r\n    audio.play().catch((err) => console.error('Failed to play audio:', err));\r\n    setIsPlaying(true);\r\n\r\n    if (!queue.find((t) => t.id === track.id)) {\r\n      setQueue([track]);\r\n      currentIndexRef.current = 0;\r\n    }\r\n  };\r\n\r\n  const pauseTrack = () => {\r\n    const audio = audioRef.current;\r\n    if (audio) {\r\n      audio.pause();\r\n      setIsPlaying(false);\r\n    }\r\n  };\r\n\r\n  const resumeTrack = () => {\r\n    const audio = audioRef.current;\r\n    if (audio && currentTrack) {\r\n      // prevent resuming past preview limit for guests\r\n      if (isPreviewMode && audio.currentTime >= PREVIEW_LIMIT) return;\r\n      audio.play().catch((err) => console.error('Failed to resume audio:', err));\r\n      setIsPlaying(true);\r\n    }\r\n  };\r\n\r\n  const seek = (time: number) => {\r\n    const audio = audioRef.current;\r\n    if (audio) {\r\n      const maxTime = isPreviewMode ? Math.min(PREVIEW_LIMIT, audio.duration || PREVIEW_LIMIT) : audio.duration || 0;\r\n      const seekTime = Math.min(time, maxTime);\r\n      audio.currentTime = seekTime;\r\n      setProgress(seekTime);\r\n    }\r\n  };\r\n\r\n  const nextTrack = () => {\r\n    if (queue.length === 0) return;\r\n    const nextIndex = (currentIndexRef.current + 1) % queue.length;\r\n    currentIndexRef.current = nextIndex;\r\n    playTrack(queue[nextIndex]);\r\n  };\r\n\r\n  const previousTrack = () => {\r\n    if (queue.length === 0) return;\r\n    const prevIndex = (currentIndexRef.current - 1 + queue.length) % queue.length;\r\n    currentIndexRef.current = prevIndex;\r\n    playTrack(queue[prevIndex]);\r\n  };\r\n\r\n  const addToQueue = (track: Track) => {\r\n    setQueue((prev) => [...prev, track]);\r\n  };\r\n\r\n  const clearQueue = () => {\r\n    setQueue([]);\r\n    currentIndexRef.current = 0;\r\n  };\r\n\r\n  return (\r\n    <AudioPlayerContext.Provider\r\n      value={{\r\n        currentTrack,\r\n        isPlaying,\r\n        progress,\r\n        duration,\r\n        playTrack,\r\n        pauseTrack,\r\n        resumeTrack,\r\n        seek,\r\n        nextTrack,\r\n        previousTrack,\r\n        queue,\r\n        addToQueue,\r\n        clearQueue,\r\n        isPreviewMode,\r\n        previewDurationRemaining,\r\n      }}\r\n    >\r\n      {children}\r\n      <audio ref={audioRef} />\r\n    </AudioPlayerContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAudioPlayer = () => {\r\n  const context = useContext(AudioPlayerContext);\r\n  if (!context) {\r\n    throw new Error('useAudioPlayer must be used within AudioPlayerProvider');\r\n  }\r\n  return context;\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\context\\AuthContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'UserRole' is defined but never used.","line":4,"column":21,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":29},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nE:\\nyasawave-projects\\nyasawave\\app\\context\\AuthContext.tsx:27:16\n  25 |     try {\n  26 |       const raw = typeof window !== \"undefined\" ? localStorage.getItem(\"nyasawave_token\") : null;\n> 27 |       if (raw) setToken(raw);\n     |                ^^^^^^^^ Avoid calling setState() directly within an effect\n  28 |     } catch (e) {\n  29 |       console.warn(\"Auth: unable to read token\", e);\n  30 |     }","line":27,"column":16,"nodeType":null,"endLine":27,"endColumn":24},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nE:\\nyasawave-projects\\nyasawave\\app\\context\\AuthContext.tsx:35:7\n  33 |   useEffect(() => {\n  34 |     if (!token) {\n> 35 |       setUser(null);\n     |       ^^^^^^^ Avoid calling setState() directly within an effect\n  36 |       try { localStorage.removeItem('nyasawave_token'); } catch { }\n  37 |       return;\n  38 |     }","line":35,"column":7,"nodeType":null,"endLine":35,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":62,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":62,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":85,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":85,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":111,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":111,"endColumn":15}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { createContext, useContext, useEffect, useState } from \"react\";\r\nimport type { User, UserRole } from \"@/lib/types\";\r\n\r\ntype AuthContextType = {\r\n  user: User | null;\r\n  signingIn: boolean;\r\n  token: string | null;\r\n  register: (payload: { name: string; email: string; password: string; role?: string }) => Promise<{ ok: boolean; error?: string }>;\r\n  signIn: (payload: { email?: string; username?: string; password: string }) => Promise<{ ok: boolean; error?: string }>;\r\n  signOut: () => void;\r\n  refresh: () => Promise<void>;\r\n  toggleSubscribe: () => Promise<{ ok: boolean; subscribed?: boolean }>;\r\n};\r\n\r\nconst AuthContext = createContext<AuthContextType | null>(null);\r\n\r\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [signingIn, setSigningIn] = useState(false);\r\n  const [token, setToken] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const raw = typeof window !== \"undefined\" ? localStorage.getItem(\"nyasawave_token\") : null;\r\n      if (raw) setToken(raw);\r\n    } catch (e) {\r\n      console.warn(\"Auth: unable to read token\", e);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!token) {\r\n      setUser(null);\r\n      try { localStorage.removeItem('nyasawave_token'); } catch { }\r\n      return;\r\n    }\r\n\r\n    // fetch current user\r\n    fetch('/api/auth/me', { headers: { Authorization: `Bearer ${token}` } })\r\n      .then((r) => r.json())\r\n      .then((data) => {\r\n        if (data?.user) setUser(data.user);\r\n        else setUser(null);\r\n      })\r\n      .catch(() => setUser(null));\r\n  }, [token]);\r\n\r\n  const register = async ({ name, email, password, role }: { name: string; email: string; password: string; role?: string }) => {\r\n    try {\r\n      const res = await fetch('/api/auth/register', { method: 'POST', headers: { 'content-type': 'application/json' }, body: JSON.stringify({ name, email, password, role }) });\r\n      const data = await res.json();\r\n      if (!res.ok) return { ok: false, error: data?.error || 'Register failed' };\r\n      // If server returns a token and user, persist them like signIn\r\n      if (data?.token) {\r\n        setToken(data.token);\r\n        try { localStorage.setItem('nyasawave_token', data.token); } catch { }\r\n      }\r\n      if (data?.user) setUser(data.user);\r\n      return { ok: true };\r\n    } catch (e) { return { ok: false, error: 'Network error' }; }\r\n  };\r\n\r\n  const signIn = async ({ email, username, password }: { email?: string; username?: string; password: string }) => {\r\n    setSigningIn(true);\r\n    try {\r\n      const payload: any = { password };\r\n      if (email) payload.email = email;\r\n      if (username) payload.username = username;\r\n\r\n      const res = await fetch('/api/auth/login', {\r\n        method: 'POST',\r\n        headers: { 'content-type': 'application/json' },\r\n        body: JSON.stringify(payload)\r\n      });\r\n      const data = await res.json();\r\n      if (!res.ok) { setSigningIn(false); return { ok: false, error: data?.error || 'Login failed' }; }\r\n      if (data?.token) {\r\n        setToken(data.token);\r\n        try { localStorage.setItem('nyasawave_token', data.token); } catch { }\r\n      }\r\n      setSigningIn(false);\r\n      return { ok: true };\r\n    } catch (e) { setSigningIn(false); return { ok: false, error: 'Network error' }; }\r\n  };\r\n\r\n  const signOut = () => {\r\n    setUser(null);\r\n    setToken(null);\r\n    try { localStorage.removeItem('nyasawave_token'); } catch { }\r\n  };\r\n\r\n  const refresh = async () => {\r\n    if (!token) return;\r\n    try {\r\n      const res = await fetch('/api/auth/me', { headers: { Authorization: `Bearer ${token}` } });\r\n      const data = await res.json();\r\n      if (data?.user) setUser(data.user); else setUser(null);\r\n    } catch { }\r\n  };\r\n\r\n  const toggleSubscribe = async () => {\r\n    if (!token) return { ok: false };\r\n    try {\r\n      const res = await fetch('/api/auth/subscribe', { method: 'POST', headers: { Authorization: `Bearer ${token}` } });\r\n      const data = await res.json();\r\n      if (!res.ok) return { ok: false };\r\n      await refresh();\r\n      return { ok: true, subscribed: data.subscribed };\r\n    } catch (e) { return { ok: false }; }\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, signingIn, token, register, signIn, signOut, refresh, toggleSubscribe }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport const useAuth = () => {\r\n  const ctx = useContext(AuthContext);\r\n  if (!ctx) throw new Error(\"useAuth must be used within AuthProvider\");\r\n  return ctx;\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\context\\FollowContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\context\\PlayerContext.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"The 'playSong' function makes the dependencies of useEffect Hook (at line 101) change on every render. To fix this, wrap the definition of 'playSong' in its own useCallback() Hook.","line":28,"column":9,"nodeType":"VariableDeclarator","endLine":50,"endColumn":4,"suggestions":[{"desc":"Wrap the definition of 'playSong' in its own useCallback() Hook.","fix":{"range":[762,1422],"text":"useCallback((song: Song) => {\r\n    if (!audioRef.current) return;\r\n\r\n    const audioUrl = ((song.streamUrl || song.src || '') as string).trim();\r\n    if (!audioUrl) {\r\n      console.error('No audio source available for song', song);\r\n      return;\r\n    }\r\n\r\n    setCurrentSong(song);\r\n    audioRef.current.src = audioUrl;\r\n    const playPromise = audioRef.current.play();\r\n    if (playPromise && typeof playPromise.then === 'function') {\r\n      playPromise\r\n        .then(() => setIsPlaying(true))\r\n        .catch((err) => {\r\n          console.error('Playback failed', err);\r\n          setIsPlaying(false);\r\n        });\r\n    } else {\r\n      setIsPlaying(true);\r\n    }\r\n  })"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { createContext, useContext, useRef, useState, useEffect } from 'react';\r\n\r\nexport type Song = {\r\n  id: string;\r\n  title: string;\r\n  artist: string;\r\n  cover?: string;\r\n  streamUrl?: string;\r\n  artistId?: string;\r\n  src?: string;\r\n  duration?: number;\r\n  plays?: number;\r\n  likes?: number;\r\n};\r\n\r\nconst PlayerContext = createContext<any>(null);\r\n\r\nexport function PlayerProvider({ children }: { children: React.ReactNode }) {\r\n  const audioRef = useRef<HTMLAudioElement | null>(null);\r\n\r\n  const [currentSong, setCurrentSong] = useState<Song | null>(null);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [queue, setQueue] = useState<Song[]>([]);\r\n  const [isPremium, setIsPremium] = useState(false);\r\n\r\n  const playSong = (song: Song) => {\r\n    if (!audioRef.current) return;\r\n\r\n    const audioUrl = ((song.streamUrl || song.src || '') as string).trim();\r\n    if (!audioUrl) {\r\n      console.error('No audio source available for song', song);\r\n      return;\r\n    }\r\n\r\n    setCurrentSong(song);\r\n    audioRef.current.src = audioUrl;\r\n    const playPromise = audioRef.current.play();\r\n    if (playPromise && typeof playPromise.then === 'function') {\r\n      playPromise\r\n        .then(() => setIsPlaying(true))\r\n        .catch((err) => {\r\n          console.error('Playback failed', err);\r\n          setIsPlaying(false);\r\n        });\r\n    } else {\r\n      setIsPlaying(true);\r\n    }\r\n  };\r\n\r\n  const togglePlay = () => {\r\n    if (!audioRef.current) return;\r\n\r\n    if (audioRef.current.paused) {\r\n      const playPromise = audioRef.current.play();\r\n      if (playPromise && typeof playPromise.then === 'function') {\r\n        playPromise\r\n          .then(() => setIsPlaying(true))\r\n          .catch((err) => {\r\n            console.error('Playback failed', err);\r\n            setIsPlaying(false);\r\n          });\r\n      } else {\r\n        setIsPlaying(true);\r\n      }\r\n    } else {\r\n      audioRef.current.pause();\r\n      setIsPlaying(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const audio = audioRef.current;\r\n    if (!audio) return;\r\n\r\n    const handleEnded = () => {\r\n      if (!currentSong) return;\r\n      const idx = queue.findIndex((s) => s.id === currentSong.id);\r\n      if (idx >= 0 && idx < queue.length - 1) {\r\n        const next = queue[idx + 1];\r\n        playSong(next);\r\n      } else {\r\n        setIsPlaying(false);\r\n        setCurrentSong(null);\r\n      }\r\n    };\r\n\r\n    const handleError = (e: any) => {\r\n      console.error('Audio element error', e);\r\n      setIsPlaying(false);\r\n    };\r\n\r\n    audio.addEventListener('ended', handleEnded);\r\n    audio.addEventListener('error', handleError);\r\n\r\n    return () => {\r\n      audio.removeEventListener('ended', handleEnded);\r\n      audio.removeEventListener('error', handleError);\r\n    };\r\n  }, [audioRef, currentSong, queue, playSong]);\r\n\r\n  return (\r\n    <PlayerContext.Provider\r\n      value={{\r\n        audioRef,\r\n        currentSong,\r\n        isPlaying,\r\n        playSong,\r\n        togglePlay,\r\n        queue,\r\n        setQueue,\r\n        isPremium,\r\n        setIsPremium,\r\n      }}\r\n    >\r\n      {children}\r\n      <audio ref={audioRef} />\r\n    </PlayerContext.Provider>\r\n  );\r\n}\r\n\r\nexport const usePlayer = () => useContext(PlayerContext);","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\context\\PlaylistContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\context\\SongContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\context\\SubscriptionContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\copyright\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\discover\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'playTrack' is assigned a value but never used.","line":14,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":20},{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nE:\\nyasawave-projects\\nyasawave\\app\\discover\\page.tsx:174:41\n  172 |                     artist={s.artist}\n  173 |                     artistSlug={s.artistId}\n> 174 |                     change={Math.round((Math.random() - 0.4) * 10)}\n      |                                         ^^^^^^^^^^^^^ Cannot call impure function\n  175 |                   />\n  176 |                 ))}\n  177 |               </div>","line":174,"column":41,"nodeType":null,"endLine":174,"endColumn":54}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useMemo } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useAudioPlayer } from \"@/context/AudioPlayerContext\";\r\nimport { useSongs } from \"@/context/SongContext\";\r\nimport { useArtists } from \"@/context/ArtistContext\";\r\nimport SongsGrid from \"@/components/SongsGrid\";\r\nimport TrendingChart from \"@/components/TrendingChart\";\r\n\r\ntype SortOption = \"trending\" | \"newest\" | \"popular\";\r\n\r\nexport default function Discover() {\r\n  const { playTrack } = useAudioPlayer();\r\n  const { songs: allSongs } = useSongs();\r\n  const { artists: allArtists } = useArtists();\r\n\r\n  const [selectedGenre, setSelectedGenre] = useState<string | null>(null);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [sortBy, setSortBy] = useState<SortOption>(\"trending\");\r\n\r\n  const genres = useMemo(\r\n    () =>\r\n      Array.from(\r\n        new Set(allSongs.map((s) => s.genre ?? '').filter(Boolean))\r\n      ),\r\n    [allSongs]\r\n  );\r\n\r\n  const filteredSongs = useMemo(() => {\r\n    let result = [...allSongs];\r\n\r\n    // Genre filter\r\n    if (selectedGenre) {\r\n      result = result.filter((s) => s.genre === selectedGenre);\r\n    }\r\n\r\n    // Search filter\r\n    if (searchQuery.trim()) {\r\n      const query = searchQuery.toLowerCase();\r\n      result = result.filter(\r\n        (s) =>\r\n          (s.title ?? '').toLowerCase().includes(query) ||\r\n          (s.artist ?? '').toLowerCase().includes(query)\r\n      );\r\n    }\r\n\r\n    // Sorting\r\n    switch (sortBy) {\r\n      case \"popular\":\r\n        result.sort((a, b) => (b.plays ?? 0) - (a.plays ?? 0));\r\n        break;\r\n\r\n      case \"newest\":\r\n        // Sort by song title alphabetically for now (no timestamp available)\r\n        result.sort((a, b) => (a.title ?? '').localeCompare(b.title ?? ''));\r\n        break;\r\n\r\n      case \"trending\":\r\n      default:\r\n        result.sort((a, b) => (b.plays ?? 0) - (a.plays ?? 0));\r\n        break;\r\n    }\r\n\r\n    return result;\r\n  }, [allSongs, selectedGenre, searchQuery, sortBy]);\r\n\r\n  const trendingSongs = useMemo(\r\n    () =>\r\n      [...allSongs]\r\n        .sort((a, b) => (b.plays ?? 0) - (a.plays ?? 0))\r\n        .slice(0, 6),\r\n    [allSongs]\r\n  );\r\n\r\n  return (\r\n    <main className=\"min-h-screen px-6 pt-32 pb-32 max-w-7xl mx-auto space-y-12\">\r\n      {/* Header */}\r\n      <section>\r\n        <h1 className=\"text-4xl font-bold mb-2\">Discover</h1>\r\n        <p className=\"text-zinc-400\">\r\n          Explore trending songs, new releases, and upcoming artists across Malawi and Africa.\r\n        </p>\r\n      </section>\r\n\r\n      {/* Search & Filter */}\r\n      <section>\r\n        <h2 className=\"text-2xl font-semibold mb-4\">Search & Filter</h2>\r\n\r\n        <div className=\"mb-6 space-y-4\">\r\n          <div>\r\n            <label htmlFor=\"search-input\" className=\"sr-only\">Search songs or artists</label>\r\n            <input\r\n              id=\"search-input\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              placeholder=\"Search songs or artists...\"\r\n              className=\"w-full bg-zinc-800 border border-zinc-700 rounded px-4 py-2 text-white placeholder-zinc-500\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex flex-col sm:flex-row gap-4\">\r\n            {/* Genre */}\r\n            <fieldset className=\"flex-1\">\r\n              <legend className=\"block text-xs text-zinc-400 mb-2\">Genre</legend>\r\n              <div className=\"flex gap-2 flex-wrap\">\r\n                <button\r\n                  onClick={() => setSelectedGenre(null)}\r\n                  className={`px-3 py-1 rounded text-sm ${selectedGenre === null\r\n                    ? \"bg-emerald-400 text-black\"\r\n                    : \"bg-zinc-800 text-zinc-300\"\r\n                    }`}\r\n                >\r\n                  All\r\n                </button>\r\n\r\n                {genres.map((g) => (\r\n                  <button\r\n                    key={g}\r\n                    onClick={() => setSelectedGenre(g)}\r\n                    className={`px-3 py-1 rounded text-sm ${selectedGenre === g\r\n                      ? \"bg-emerald-400 text-black\"\r\n                      : \"bg-zinc-800 text-zinc-300\"\r\n                      }`}\r\n                  >\r\n                    {g}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </fieldset>\r\n\r\n            {/* Sort */}\r\n            <div className=\"sm:w-40\">\r\n              <label className=\"block text-xs text-zinc-400 mb-2\" htmlFor=\"sort-select\">Sort by</label>\r\n              <select\r\n                id=\"sort-select\"\r\n                value={sortBy}\r\n                onChange={(e) => setSortBy(e.target.value as SortOption)}\r\n                className=\"w-full bg-zinc-800 border border-zinc-700 rounded px-3 py-1 text-white text-sm\"\r\n              >\r\n                <option value=\"trending\">Trending</option>\r\n                <option value=\"popular\">Most Popular</option>\r\n                <option value=\"newest\">Newest</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"text-sm text-zinc-400 mb-4\">\r\n          Found <strong>{filteredSongs.length}</strong>{\" \"}\r\n          {filteredSongs.length === 1 ? \"track\" : \"tracks\"}\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n          <div className=\"lg:col-span-2\">\r\n            <h3 className=\"text-xl font-semibold mb-4\">Songs</h3>\r\n            <SongsGrid songs={filteredSongs} />\r\n          </div>\r\n\r\n          {/* Sidebar */}\r\n          <aside className=\"space-y-4\">\r\n            {/* Charts */}\r\n            <div className=\"rounded-2xl border border-zinc-800 bg-zinc-900/50 p-4\">\r\n              <h3 className=\"font-semibold mb-3\">Local Charts</h3>\r\n              <div className=\"space-y-2\">\r\n                {trendingSongs.map((s, idx) => (\r\n                  <TrendingChart\r\n                    key={s.id}\r\n                    rank={idx + 1}\r\n                    title={s.title}\r\n                    artist={s.artist}\r\n                    artistSlug={s.artistId}\r\n                    change={Math.round((Math.random() - 0.4) * 10)}\r\n                  />\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Upcoming Artists */}\r\n            <div className=\"rounded-2xl border border-zinc-800 bg-zinc-900/50 p-4\">\r\n              <h3 className=\"font-semibold mb-3\">Upcoming Artists</h3>\r\n              <div className=\"space-y-2\">\r\n                {allArtists\r\n                  .filter((a) => a.upcoming)\r\n                  .slice(0, 4)\r\n                  .map((a) => (\r\n                    <Link\r\n                      key={a.id}\r\n                      href={`/artists/${a.slug}`}\r\n                      className=\"block text-emerald-400 hover:underline\"\r\n                    >\r\n                      {a.name}\r\n                    </Link>\r\n                  ))}\r\n              </div>\r\n            </div>\r\n          </aside>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\forgot\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useAuth' is defined but never used.","line":4,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":19,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\n\r\nexport default function ForgotPage() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [message, setMessage] = useState<string | null>(null);\r\n\r\n  const submit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await fetch('/api/auth/forgot', { method: 'POST', headers: { 'content-type': 'application/json' }, body: JSON.stringify({ email }) });\r\n      const data = await res.json();\r\n      if (res.ok) {\r\n        setMessage('If an account exists we sent reset instructions. (Demo shows token below)');\r\n        if (data.resetToken) setMessage((m) => `${m}\\nReset token: ${data.resetToken}`);\r\n      } else setMessage('Unable to process request');\r\n    } catch (e) { setMessage('Network error'); }\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen flex items-center justify-center px-6 py-24\">\r\n      <form onSubmit={submit} className=\"w-full max-w-md bg-gradient-to-br from-zinc-900/60 to-zinc-900/40 border border-zinc-800 p-6 rounded-2xl card-anim fade-in\">\r\n        <h1 className=\"text-2xl font-semibold mb-4\">Forgot password</h1>\r\n        {message && <div className=\"whitespace-pre-wrap text-sm text-zinc-300 mb-3\">{message}</div>}\r\n        <label htmlFor=\"forgot-email\" className=\"block text-sm text-zinc-400 mb-2\">Email</label>\r\n        <input id=\"forgot-email\" value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Your account email\" className=\"w-full mb-3 px-3 py-2 rounded bg-zinc-800 border border-zinc-700\" />\r\n        <button className=\"w-full btn-cta bg-emerald-400 text-black\">Send reset</button>\r\n      </form>\r\n    </main>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\investors\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'marketOppportunity' is defined but never used.","line":8,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":23},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":198,"column":94,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[11339,11502],"text":"\r\n                                    At $3.50 ARPU (higher than industry avg $2.50), NyasaWave&apos;s addressable market opportunity.\r\n                                "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[11339,11502],"text":"\r\n                                    At $3.50 ARPU (higher than industry avg $2.50), NyasaWave&lsquo;s addressable market opportunity.\r\n                                "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[11339,11502],"text":"\r\n                                    At $3.50 ARPU (higher than industry avg $2.50), NyasaWave&#39;s addressable market opportunity.\r\n                                "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[11339,11502],"text":"\r\n                                    At $3.50 ARPU (higher than industry avg $2.50), NyasaWave&rsquo;s addressable market opportunity.\r\n                                "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":229,"column":180,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[13413,13667],"text":" Spotify pays $0.003-0.005 per stream. Artists earn nothing until 1,000 streams. There&apos;s no local infrastructure. No one builds for Malawi. Marketers can't reach engaged African audiences. Communities can't discover local music.\r\n                        "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[13413,13667],"text":" Spotify pays $0.003-0.005 per stream. Artists earn nothing until 1,000 streams. There&lsquo;s no local infrastructure. No one builds for Malawi. Marketers can't reach engaged African audiences. Communities can't discover local music.\r\n                        "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[13413,13667],"text":" Spotify pays $0.003-0.005 per stream. Artists earn nothing until 1,000 streams. There&#39;s no local infrastructure. No one builds for Malawi. Marketers can't reach engaged African audiences. Communities can't discover local music.\r\n                        "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[13413,13667],"text":" Spotify pays $0.003-0.005 per stream. Artists earn nothing until 1,000 streams. There&rsquo;s no local infrastructure. No one builds for Malawi. Marketers can't reach engaged African audiences. Communities can't discover local music.\r\n                        "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":229,"column":247,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[13413,13667],"text":" Spotify pays $0.003-0.005 per stream. Artists earn nothing until 1,000 streams. There's no local infrastructure. No one builds for Malawi. Marketers can&apos;t reach engaged African audiences. Communities can't discover local music.\r\n                        "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[13413,13667],"text":" Spotify pays $0.003-0.005 per stream. Artists earn nothing until 1,000 streams. There's no local infrastructure. No one builds for Malawi. Marketers can&lsquo;t reach engaged African audiences. Communities can't discover local music.\r\n                        "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[13413,13667],"text":" Spotify pays $0.003-0.005 per stream. Artists earn nothing until 1,000 streams. There's no local infrastructure. No one builds for Malawi. Marketers can&#39;t reach engaged African audiences. Communities can't discover local music.\r\n                        "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[13413,13667],"text":" Spotify pays $0.003-0.005 per stream. Artists earn nothing until 1,000 streams. There's no local infrastructure. No one builds for Malawi. Marketers can&rsquo;t reach engaged African audiences. Communities can't discover local music.\r\n                        "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":229,"column":298,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[13413,13667],"text":" Spotify pays $0.003-0.005 per stream. Artists earn nothing until 1,000 streams. There's no local infrastructure. No one builds for Malawi. Marketers can't reach engaged African audiences. Communities can&apos;t discover local music.\r\n                        "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[13413,13667],"text":" Spotify pays $0.003-0.005 per stream. Artists earn nothing until 1,000 streams. There's no local infrastructure. No one builds for Malawi. Marketers can't reach engaged African audiences. Communities can&lsquo;t discover local music.\r\n                        "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[13413,13667],"text":" Spotify pays $0.003-0.005 per stream. Artists earn nothing until 1,000 streams. There's no local infrastructure. No one builds for Malawi. Marketers can't reach engaged African audiences. Communities can&#39;t discover local music.\r\n                        "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[13413,13667],"text":" Spotify pays $0.003-0.005 per stream. Artists earn nothing until 1,000 streams. There's no local infrastructure. No one builds for Malawi. Marketers can't reach engaged African audiences. Communities can&rsquo;t discover local music.\r\n                        "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport styles from './investors.module.css';\r\nimport {\r\n    mockInvestorMetrics,\r\n    revenueStreams,\r\n    marketOppportunity,\r\n    useCase,\r\n    fundingUse,\r\n    teamMembers,\r\n    expandedRoadmap,\r\n} from '../../lib/mockInvestor';\r\n\r\nexport default function InvestorPitch() {\r\n    const [activeSection, setActiveSection] = useState<string>('overview');\r\n\r\n    const scrollToSection = (section: string) => {\r\n        setActiveSection(section);\r\n        const element = document.getElementById(section);\r\n        element?.scrollIntoView({ behavior: 'smooth' });\r\n    };\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-gradient-to-b from-black via-zinc-900 to-black text-white\">\r\n            {/* Navigation Sidebar (Fixed) */}\r\n            <div className=\"fixed left-0 top-0 w-64 h-screen bg-black/80 border-r border-zinc-800 pt-32 px-6 space-y-4 overflow-y-auto hidden lg:block\">\r\n                <h3 className=\"font-bold text-sm text-zinc-400 uppercase\">Pitch Deck</h3>\r\n                <button\r\n                    onClick={() => scrollToSection('overview')}\r\n                    className={`w-full text-left px-4 py-2 rounded text-sm transition ${activeSection === 'overview'\r\n                        ? 'bg-emerald-500/20 text-emerald-400'\r\n                        : 'text-zinc-400 hover:text-white'\r\n                        }`}\r\n                >\r\n                    Overview\r\n                </button>\r\n                <button\r\n                    onClick={() => scrollToSection('metrics')}\r\n                    className={`w-full text-left px-4 py-2 rounded text-sm transition ${activeSection === 'metrics'\r\n                        ? 'bg-emerald-500/20 text-emerald-400'\r\n                        : 'text-zinc-400 hover:text-white'\r\n                        }`}\r\n                >\r\n                    Key Metrics\r\n                </button>\r\n                <button\r\n                    onClick={() => scrollToSection('market')}\r\n                    className={`w-full text-left px-4 py-2 rounded text-sm transition ${activeSection === 'market'\r\n                        ? 'bg-emerald-500/20 text-emerald-400'\r\n                        : 'text-zinc-400 hover:text-white'\r\n                        }`}\r\n                >\r\n                    Market Opportunity\r\n                </button>\r\n                <button\r\n                    onClick={() => scrollToSection('problem')}\r\n                    className={`w-full text-left px-4 py-2 rounded text-sm transition ${activeSection === 'problem'\r\n                        ? 'bg-emerald-500/20 text-emerald-400'\r\n                        : 'text-zinc-400 hover:text-white'\r\n                        }`}\r\n                >\r\n                    Problem & Solution\r\n                </button>\r\n                <button\r\n                    onClick={() => scrollToSection('revenue')}\r\n                    className={`w-full text-left px-4 py-2 rounded text-sm transition ${activeSection === 'revenue'\r\n                        ? 'bg-emerald-500/20 text-emerald-400'\r\n                        : 'text-zinc-400 hover:text-white'\r\n                        }`}\r\n                >\r\n                    Revenue Model\r\n                </button>\r\n                <button\r\n                    onClick={() => scrollToSection('funding')}\r\n                    className={`w-full text-left px-4 py-2 rounded text-sm transition ${activeSection === 'funding'\r\n                        ? 'bg-emerald-500/20 text-emerald-400'\r\n                        : 'text-zinc-400 hover:text-white'\r\n                        }`}\r\n                >\r\n                    Use of Funds\r\n                </button>\r\n                <button\r\n                    onClick={() => scrollToSection('team')}\r\n                    className={`w-full text-left px-4 py-2 rounded text-sm transition ${activeSection === 'team'\r\n                        ? 'bg-emerald-500/20 text-emerald-400'\r\n                        : 'text-zinc-400 hover:text-white'\r\n                        }`}\r\n                >\r\n                    Team & Hiring\r\n                </button>\r\n                <button\r\n                    onClick={() => scrollToSection('roadmap')}\r\n                    className={`w-full text-left px-4 py-2 rounded text-sm transition ${activeSection === 'roadmap'\r\n                        ? 'bg-emerald-500/20 text-emerald-400'\r\n                        : 'text-zinc-400 hover:text-white'\r\n                        }`}\r\n                >\r\n                    Roadmap\r\n                </button>\r\n                <button\r\n                    onClick={() => scrollToSection('contact')}\r\n                    className={`w-full text-left px-4 py-2 rounded text-sm transition ${activeSection === 'contact'\r\n                        ? 'bg-emerald-500/20 text-emerald-400'\r\n                        : 'text-zinc-400 hover:text-white'\r\n                        }`}\r\n                >\r\n                    Get in Touch\r\n                </button>\r\n            </div>\r\n\r\n            {/* Main Content */}\r\n            <div className=\"lg:ml-64 pt-32 pb-20\">\r\n                {/* Overview */}\r\n                <section id=\"overview\" className=\"px-6 py-20 max-w-6xl mx-auto\">\r\n                    <div className=\"grid md:grid-cols-2 gap-12 items-center\">\r\n                        <div>\r\n                            <h1 className=\"text-6xl font-bold mb-6\">NyasaWave</h1>\r\n                            <p className=\"text-xl text-zinc-300 mb-4\">\r\n                                The Artist-First Music Platform Designed for Africa\r\n                            </p>\r\n                            <p className=\"text-lg text-zinc-400 mb-8\">\r\n                                First streaming + monetization platform built specifically for Malawian and African artists. 2,847 artists onboarded. 8.9M+ streams. MWK 4.2M revenue. Zero institutional funding.\r\n                            </p>\r\n                            <div className=\"flex gap-4\">\r\n                                <button className=\"bg-emerald-500 text-black px-8 py-3 rounded-lg font-bold hover:bg-emerald-400 transition\">\r\n                                    Schedule Pitch\r\n                                </button>\r\n                                <button className=\"border border-emerald-500 text-emerald-400 px-8 py-3 rounded-lg font-bold hover:bg-emerald-500/10 transition\">\r\n                                    Download Deck\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"bg-gradient-to-br from-emerald-900/20 to-black border border-emerald-500/30 rounded-lg p-12 text-center\">\r\n                            <p className=\"text-3xl font-bold mb-2\">$500K Seeking</p>\r\n                            <p className=\"text-zinc-400\">For Product, Go-to-Market, and Regional Expansion</p>\r\n                            <div className=\"mt-8 space-y-4 text-left text-sm\">\r\n                                <div className=\"flex justify-between\">\r\n                                    <span className=\"text-zinc-400\">Current Monthly Growth</span>\r\n                                    <span className=\"text-emerald-400 font-bold\">23%</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between\">\r\n                                    <span className=\"text-zinc-400\">Monthly Active Users</span>\r\n                                    <span className=\"text-emerald-400 font-bold\">28,450</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between\">\r\n                                    <span className=\"text-zinc-400\">Artist Retention</span>\r\n                                    <span className=\"text-emerald-400 font-bold\">68%</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n\r\n                {/* Key Metrics */}\r\n                <section id=\"metrics\" className=\"px-6 py-20 max-w-6xl mx-auto border-t border-zinc-800\">\r\n                    <h2 className=\"text-4xl font-bold mb-12\">Key Metrics (Live Platform Data)</h2>\r\n                    <div className=\"grid md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                        <div className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800\">\r\n                            <p className=\"text-zinc-400 text-sm\">Total Users</p>\r\n                            <p className=\"text-4xl font-bold mt-2\">{mockInvestorMetrics.totalUsers.toLocaleString()}</p>\r\n                            <p className=\"text-emerald-400 text-xs mt-2\">+12% MoM</p>\r\n                        </div>\r\n                        <div className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800\">\r\n                            <p className=\"text-zinc-400 text-sm\">Active Artists</p>\r\n                            <p className=\"text-4xl font-bold mt-2\">{mockInvestorMetrics.activeArtists.toLocaleString()}</p>\r\n                            <p className=\"text-emerald-400 text-xs mt-2\">+18% MoM</p>\r\n                        </div>\r\n                        <div className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800\">\r\n                            <p className=\"text-zinc-400 text-sm\">Total Streams</p>\r\n                            <p className=\"text-4xl font-bold mt-2\">{(mockInvestorMetrics.totalStreams / 1000000).toFixed(1)}M</p>\r\n                            <p className=\"text-emerald-400 text-xs mt-2\">+34% MoM</p>\r\n                        </div>\r\n                        <div className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800\">\r\n                            <p className=\"text-zinc-400 text-sm\">Monthly Revenue</p>\r\n                            <p className=\"text-4xl font-bold mt-2\">MWK {(mockInvestorMetrics.platformRevenueMWK / 1000000).toFixed(1)}M</p>\r\n                            <p className=\"text-emerald-400 text-xs mt-2\">${mockInvestorMetrics.platformRevenueUSD.toLocaleString()}</p>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n\r\n                {/* Market Opportunity */}\r\n                <section id=\"market\" className=\"px-6 py-20 max-w-6xl mx-auto border-t border-zinc-800\">\r\n                    <h2 className=\"text-4xl font-bold mb-12\">Market Opportunity</h2>\r\n                    <div className=\"bg-zinc-900 rounded-lg p-12 border border-zinc-800 mb-8\">\r\n                        <div className=\"grid md:grid-cols-2 gap-8\">\r\n                            <div>\r\n                                <p className=\"text-emerald-400 text-sm font-semibold uppercase mb-2\">Market Size</p>\r\n                                <p className=\"text-3xl font-bold mb-4\">350M Internet Users in Africa</p>\r\n                                <p className=\"text-zinc-400\">\r\n                                    18% streaming penetration = 63M addressable market for music streaming.\r\n                                </p>\r\n                            </div>\r\n                            <div>\r\n                                <p className=\"text-emerald-400 text-sm font-semibold uppercase mb-2\">Revenue Potential</p>\r\n                                <p className=\"text-3xl font-bold mb-4\">$220M+ annually</p>\r\n                                <p className=\"text-zinc-400\">\r\n                                    At $3.50 ARPU (higher than industry avg $2.50), NyasaWave's addressable market opportunity.\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"grid md:grid-cols-4 gap-6\">\r\n                        <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                            <p className=\"text-zinc-400 text-xs uppercase\">African Population</p>\r\n                            <p className=\"text-2xl font-bold mt-2\">1.4B</p>\r\n                        </div>\r\n                        <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                            <p className=\"text-zinc-400 text-xs uppercase\">Internet Users</p>\r\n                            <p className=\"text-2xl font-bold mt-2\">350M</p>\r\n                        </div>\r\n                        <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                            <p className=\"text-zinc-400 text-xs uppercase\">Streaming Users</p>\r\n                            <p className=\"text-2xl font-bold mt-2\">63M</p>\r\n                        </div>\r\n                        <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n                            <p className=\"text-zinc-400 text-xs uppercase\">TAM (at $3.50 ARPU)</p>\r\n                            <p className=\"text-2xl font-bold mt-2\">$220M</p>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n\r\n                {/* Problem & Solution */}\r\n                <section id=\"problem\" className=\"px-6 py-20 max-w-6xl mx-auto border-t border-zinc-800\">\r\n                    <h2 className=\"text-4xl font-bold mb-12\">The Problem</h2>\r\n                    <div className=\"bg-red-900/20 border border-red-500/30 rounded-lg p-8 mb-12\">\r\n                        <p className=\"text-lg leading-relaxed\">\r\n                            <strong>African artists are ignored by global platforms.</strong> Spotify pays $0.003-0.005 per stream. Artists earn nothing until 1,000 streams. There's no local infrastructure. No one builds for Malawi. Marketers can't reach engaged African audiences. Communities can't discover local music.\r\n                        </p>\r\n                    </div>\r\n\r\n                    <h2 className=\"text-4xl font-bold mb-12\">Our Solution</h2>\r\n                    <div className=\"grid md:grid-cols-3 gap-6\">\r\n                        <div className=\"bg-emerald-900/20 border border-emerald-500/30 rounded-lg p-8\">\r\n                            <h3 className=\"font-bold text-lg mb-3\">Artist-First Design</h3>\r\n                            <p className=\"text-zinc-300 text-sm\">\r\n                                Artists keep 80% of boost & ad revenue (vs industry 50%). Transparent analytics. Fair play. No gatekeeping.\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"bg-emerald-900/20 border border-emerald-500/30 rounded-lg p-8\">\r\n                            <h3 className=\"font-bold text-lg mb-3\">Location-Based Discovery</h3>\r\n                            <p className=\"text-zinc-300 text-sm\">\r\n                                Discover music by district. Blantyre artists reach Lilongwe. Malawian artists go global. Built for Africa.\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"bg-emerald-900/20 border border-emerald-500/30 rounded-lg p-8\">\r\n                            <h3 className=\"font-bold text-lg mb-3\">Two-Tier Pricing</h3>\r\n                            <p className=\"text-zinc-300 text-sm\">\r\n                                MWK + USD. Welcomes artists with zero international payment access. Removes barriers.\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"mt-12 bg-zinc-900 rounded-lg p-8 border border-zinc-800\">\r\n                        <h3 className=\"font-bold text-lg mb-4\">Traction</h3>\r\n                        <ul className=\"space-y-3 text-zinc-300\">\r\n                            {useCase.traction.map((point, i) => (\r\n                                <li key={i} className=\"flex gap-3\">\r\n                                    <span className=\"text-emerald-400\">Ô£ô</span>\r\n                                    {point}\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    </div>\r\n                </section>\r\n\r\n                {/* Revenue Model */}\r\n                <section id=\"revenue\" className=\"px-6 py-20 max-w-6xl mx-auto border-t border-zinc-800\">\r\n                    <h2 className=\"text-4xl font-bold mb-12\">Revenue Model</h2>\r\n                    <div className=\"space-y-6\">\r\n                        {revenueStreams.map((stream, i) => (\r\n                            <div key={i} className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800\">\r\n                                <div className=\"flex justify-between items-start mb-4\">\r\n                                    <div>\r\n                                        <h3 className=\"font-bold text-lg\">{stream.name}</h3>\r\n                                        <p className=\"text-zinc-400 text-sm mt-2\">\r\n                                            {stream.percentage}% of platform revenue\r\n                                        </p>\r\n                                    </div>\r\n                                    <div className=\"text-right\">\r\n                                        <p className=\"font-bold text-lg text-emerald-400\">\r\n                                            MWK {stream.revenueMWK.toLocaleString()}\r\n                                        </p>\r\n                                        <p className=\"text-zinc-400 text-sm\">\r\n                                            ${stream.revenueUSD.toLocaleString()}\r\n                                        </p>\r\n                                        <p className=\"text-emerald-400 text-sm font-semibold mt-2\">\r\n                                            +{stream.growthRate}% MoM\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"w-full bg-zinc-800 rounded h-2\">\r\n                                    <div\r\n                                        className={styles.progressBarFill}\r\n                                        data-width={stream.percentage}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </section>\r\n\r\n                {/* Use of Funds */}\r\n                <section id=\"funding\" className=\"px-6 py-20 max-w-6xl mx-auto border-t border-zinc-800\">\r\n                    <h2 className=\"text-4xl font-bold mb-12\">Use of $500K Funding</h2>\r\n                    <div className=\"space-y-6\">\r\n                        {fundingUse.map((item, i) => (\r\n                            <div key={i} className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800\">\r\n                                <div className=\"flex justify-between items-start mb-4\">\r\n                                    <div>\r\n                                        <h3 className=\"font-bold text-lg\">{item.category}</h3>\r\n                                        <p className=\"text-zinc-400 text-sm mt-2\">{item.description}</p>\r\n                                    </div>\r\n                                    <p className=\"text-2xl font-bold text-emerald-400\">{item.percentage}%</p>\r\n                                </div>\r\n                                <div className=\"w-full bg-zinc-800 rounded h-2\">\r\n                                    <div\r\n                                        className={styles.progressBarFill}\r\n                                        data-width={item.percentage}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </section>\r\n\r\n                {/* Team */}\r\n                <section id=\"team\" className=\"px-6 py-20 max-w-6xl mx-auto border-t border-zinc-800\">\r\n                    <h2 className=\"text-4xl font-bold mb-12\">Team & Hiring</h2>\r\n                    <div className=\"grid md:grid-cols-3 gap-6\">\r\n                        {teamMembers.map((member, i) => (\r\n                            <div key={i} className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800\">\r\n                                <h3 className=\"font-bold text-lg mb-2\">{member.name}</h3>\r\n                                <p className=\"text-emerald-400 text-sm font-semibold mb-4\">{member.title}</p>\r\n                                <p className=\"text-zinc-400 text-sm\">{member.background}</p>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </section>\r\n\r\n                {/* Roadmap */}\r\n                <section id=\"roadmap\" className=\"px-6 py-20 max-w-6xl mx-auto border-t border-zinc-800\">\r\n                    <h2 className=\"text-4xl font-bold mb-12\">Roadmap to Scale</h2>\r\n                    <div className=\"space-y-6\">\r\n                        {expandedRoadmap.map((phase, i) => (\r\n                            <div key={i} className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800\">\r\n                                <div className=\"flex justify-between items-start mb-4\">\r\n                                    <div>\r\n                                        <h3 className=\"font-bold text-lg\">{phase.phase}</h3>\r\n                                        <p className=\"text-emerald-400 text-sm mt-2\">{phase.timeline}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <ul className=\"space-y-2\">\r\n                                    {phase.milestones.map((milestone, j) => (\r\n                                        <li key={j} className=\"flex gap-3 text-sm text-zinc-300\">\r\n                                            <span className=\"text-emerald-400\">ÔåÆ</span>\r\n                                            {milestone}\r\n                                        </li>\r\n                                    ))}\r\n                                </ul>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </section>\r\n\r\n                {/* Contact CTA */}\r\n                <section id=\"contact\" className=\"px-6 py-20 max-w-6xl mx-auto border-t border-zinc-800\">\r\n                    <div className=\"bg-gradient-to-r from-emerald-900/20 to-black border border-emerald-500/30 rounded-lg p-16 text-center\">\r\n                        <h2 className=\"text-4xl font-bold mb-4\">Ready to Invest in African Music?</h2>\r\n                        <p className=\"text-xl text-zinc-400 mb-8 max-w-2xl mx-auto\">\r\n                            NyasaWave is the first artist-first platform changing how Africa discovers, streams, and monetizes music.\r\n                        </p>\r\n                        <div className=\"flex gap-4 justify-center\">\r\n                            <button className=\"bg-emerald-500 text-black px-8 py-4 rounded-lg font-bold hover:bg-emerald-400 transition text-lg\">\r\n                                Schedule Pitch Call\r\n                            </button>\r\n                            <button className=\"border border-emerald-500 text-emerald-400 px-8 py-4 rounded-lg font-bold hover:bg-emerald-500/10 transition text-lg\">\r\n                                Email: hello@nyasawave.com\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\login\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\marketplace\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\marketplace\\products\\page.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchProducts'. Either include it or remove the dependency array.","line":29,"column":8,"nodeType":"ArrayExpression","endLine":29,"endColumn":22,"suggestions":[{"desc":"Update the dependencies array to be: [fetchProducts, selectedType]","fix":{"range":[745,759],"text":"[fetchProducts, selectedType]"}}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":109,"column":41,"nodeType":"JSXOpeningElement","endLine":113,"endColumn":43}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport { ArrowLeft, ShoppingCart, Download } from 'lucide-react';\r\n\r\ninterface Product {\r\n    id: string;\r\n    artistId: string;\r\n    name: string;\r\n    description?: string;\r\n    type: string;\r\n    price: number;\r\n    currency: string;\r\n    imageUrl?: string;\r\n    sold: number;\r\n    status: string;\r\n    createdAt: string;\r\n}\r\n\r\nexport default function ProductsPage() {\r\n    const [products, setProducts] = useState<Product[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n    const [selectedType, setSelectedType] = useState('all');\r\n\r\n    useEffect(() => {\r\n        fetchProducts();\r\n    }, [selectedType]);\r\n\r\n    const fetchProducts = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const response = await fetch('/api/products');\r\n            const data = await response.json();\r\n\r\n            if (data.ok) {\r\n                let filtered = data.products;\r\n                if (selectedType !== 'all') {\r\n                    filtered = filtered.filter((p: Product) => p.type === selectedType);\r\n                }\r\n                setProducts(filtered);\r\n            } else {\r\n                setError('Failed to load products');\r\n            }\r\n        } catch (err) {\r\n            setError('Error loading products');\r\n            console.error(err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-black pt-24 pb-16\">\r\n            <div className=\"max-w-6xl mx-auto px-6\">\r\n                {/* Header */}\r\n                <div className=\"mb-8\">\r\n                    <Link href=\"/\" className=\"inline-flex items-center gap-2 text-emerald-400 hover:text-emerald-300 mb-4\">\r\n                        <ArrowLeft size={20} />\r\n                        Back to Home\r\n                    </Link>\r\n                    <h1 className=\"text-4xl font-bold text-white mb-2\">Marketplace</h1>\r\n                    <p className=\"text-zinc-400\">Beats, exclusive tracks, and artist merchandise</p>\r\n                </div>\r\n\r\n                {/* Filters */}\r\n                <div className=\"mb-8 flex gap-2 flex-wrap\">\r\n                    {['all', 'beat', 'exclusive', 'merchandise', 'digital', 'service'].map((type) => (\r\n                        <button\r\n                            key={type}\r\n                            onClick={() => setSelectedType(type)}\r\n                            className={`px-4 py-2 rounded-lg font-medium transition ${selectedType === type\r\n                                ? 'bg-emerald-500 text-black'\r\n                                : 'bg-zinc-900 text-white hover:bg-zinc-800'\r\n                                }`}\r\n                        >\r\n                            {type.charAt(0).toUpperCase() + type.slice(1)}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n\r\n                {/* Loading State */}\r\n                {loading && (\r\n                    <div className=\"text-center py-12\">\r\n                        <p className=\"text-zinc-400\">Loading products...</p>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Error State */}\r\n                {error && (\r\n                    <div className=\"bg-red-900/20 border border-red-700 rounded-lg p-4 mb-8\">\r\n                        <p className=\"text-red-400\">{error}</p>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Products Grid */}\r\n                {!loading && products.length > 0 && (\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                        {products.map((product) => (\r\n                            <Link\r\n                                key={product.id}\r\n                                href={`/marketplace/${product.id}`}\r\n                                className=\"group bg-zinc-900 rounded-lg overflow-hidden hover:bg-zinc-800 transition\"\r\n                            >\r\n                                {/* Image */}\r\n                                <div className=\"aspect-square bg-zinc-800 overflow-hidden\">\r\n                                    {product.imageUrl ? (\r\n                                        <img\r\n                                            src={product.imageUrl}\r\n                                            alt={product.name}\r\n                                            className=\"w-full h-full object-cover group-hover:scale-105 transition\"\r\n                                        />\r\n                                    ) : (\r\n                                        <div className=\"w-full h-full flex items-center justify-center\">\r\n                                            <Download size={40} className=\"text-zinc-700\" />\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                                {/* Info */}\r\n                                <div className=\"p-4\">\r\n                                    <div className=\"mb-2\">\r\n                                        <span className=\"inline-block px-2 py-1 text-xs bg-emerald-500/20 text-emerald-400 rounded\">\r\n                                            {product.type}\r\n                                        </span>\r\n                                    </div>\r\n                                    <h3 className=\"font-bold text-white mb-1 line-clamp-2\">{product.name}</h3>\r\n                                    <p className=\"text-zinc-400 text-sm mb-3 line-clamp-2\">{product.description}</p>\r\n\r\n                                    {/* Footer */}\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <div>\r\n                                            <p className=\"text-emerald-400 font-bold\">\r\n                                                {product.currency === 'MWK' ? 'MWK' : 'USD'} {product.price.toLocaleString()}\r\n                                            </p>\r\n                                            <p className=\"text-xs text-zinc-500\">{product.sold} sold</p>\r\n                                        </div>\r\n                                        <button\r\n                                            onClick={(e) => {\r\n                                                e.preventDefault();\r\n                                            }}\r\n                                            className=\"p-2 bg-emerald-500 hover:bg-emerald-600 text-black rounded-lg transition\"\r\n                                            aria-label=\"Add to cart\"\r\n                                            title=\"Add to cart\"\r\n                                        >\r\n                                            <ShoppingCart size={18} />\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </Link>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Empty State */}\r\n                {!loading && products.length === 0 && (\r\n                    <div className=\"text-center py-12\">\r\n                        <p className=\"text-zinc-400 mb-4\">No products found</p>\r\n                        <Link href=\"/discover\" className=\"text-emerald-400 hover:text-emerald-300\">\r\n                            Browse music instead\r\n                        </Link>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\me\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":40,"column":51,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1547,1584],"text":"You haven&apos;t uploaded any tracks yet. "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1547,1584],"text":"You haven&lsquo;t uploaded any tracks yet. "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1547,1584],"text":"You haven&#39;t uploaded any tracks yet. "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1547,1584],"text":"You haven&rsquo;t uploaded any tracks yet. "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nE:\\nyasawave-projects\\nyasawave\\app\\me\\page.tsx:55:49\n  53 |           <div className=\"rounded-2xl border border-zinc-800 bg-zinc-900/50 p-4\">\n  54 |             <p className=\"text-zinc-400 text-sm\">Monthly listeners</p>\n> 55 |             <p className=\"text-2xl font-bold\">{(Math.random()*10000).toFixed(0)}</p>\n     |                                                 ^^^^^^^^^^^^^ Cannot call impure function\n  56 |           </div>\n  57 |           <div className=\"rounded-2xl border border-zinc-800 bg-zinc-900/50 p-4\">\n  58 |             <p className=\"text-zinc-400 text-sm\">Total plays</p>","line":55,"column":49,"nodeType":null,"endLine":55,"endColumn":62},{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nE:\\nyasawave-projects\\nyasawave\\app\\me\\page.tsx:59:49\n  57 |           <div className=\"rounded-2xl border border-zinc-800 bg-zinc-900/50 p-4\">\n  58 |             <p className=\"text-zinc-400 text-sm\">Total plays</p>\n> 59 |             <p className=\"text-2xl font-bold\">{(Math.random()*500000).toFixed(0)}</p>\n     |                                                 ^^^^^^^^^^^^^ Cannot call impure function\n  60 |           </div>\n  61 |           <div className=\"rounded-2xl border border-zinc-800 bg-zinc-900/50 p-4\">\n  62 |             <p className=\"text-zinc-400 text-sm\">Fans</p>","line":59,"column":49,"nodeType":null,"endLine":59,"endColumn":62},{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nE:\\nyasawave-projects\\nyasawave\\app\\me\\page.tsx:63:49\n  61 |           <div className=\"rounded-2xl border border-zinc-800 bg-zinc-900/50 p-4\">\n  62 |             <p className=\"text-zinc-400 text-sm\">Fans</p>\n> 63 |             <p className=\"text-2xl font-bold\">{(Math.random()*20000).toFixed(0)}</p>\n     |                                                 ^^^^^^^^^^^^^ Cannot call impure function\n  64 |           </div>\n  65 |         </div>\n  66 |       </section>","line":63,"column":49,"nodeType":null,"endLine":63,"endColumn":62}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport { songs } from \"@/data/songs\";\r\nimport SongCard from \"@/components/SongCard\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function MePage() {\r\n  const { user } = useAuth();\r\n\r\n  if (!user) {\r\n    return (\r\n      <main className=\"min-h-screen p-6 pt-32 max-w-3xl mx-auto text-center\">\r\n        <h1 className=\"text-2xl font-bold\">Your profile</h1>\r\n        <p className=\"text-zinc-400 mt-3\">Sign in to view your dashboard and uploads.</p>\r\n        <Link href=\"/signin\" className=\"mt-6 inline-block bg-emerald-400 text-black px-4 py-2 rounded\">Sign in</Link>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  // Mock: uploaded tracks are songs where artist matches user's name\r\n  const uploads = songs.filter((s) => s.artist === user.name);\r\n\r\n  return (\r\n    <main className=\"min-h-screen p-6 pt-32 max-w-6xl mx-auto\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold\">{user.name}</h1>\r\n          <p className=\"text-zinc-400\">{user.email}</p>\r\n        </div>\r\n        <div className=\"text-right\">\r\n          <p className=\"text-sm text-zinc-400\">Subscription: {user.subscribed ? 'Premium' : 'Free'}</p>\r\n          <Link href=\"/subscribe\" className=\"mt-2 inline-block text-emerald-400\">Manage</Link>\r\n        </div>\r\n      </div>\r\n\r\n      <section className=\"mt-8\">\r\n        <h2 className=\"text-2xl font-semibold mb-4\">Your Uploads</h2>\r\n        {uploads.length === 0 ? (\r\n          <div className=\"text-zinc-400\">You haven't uploaded any tracks yet. <Link href=\"/upload\" className=\"text-emerald-400\">Upload now</Link></div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            {uploads.map((s) => (\r\n              <SongCard key={s.id} song={{ title: s.title, artist: s.artist, src: s.src, cover: undefined }} />\r\n            ))}\r\n          </div>\r\n        )}\r\n      </section>\r\n\r\n      <section className=\"mt-12\">\r\n        <h2 className=\"text-2xl font-semibold mb-4\">Stats (mock)</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <div className=\"rounded-2xl border border-zinc-800 bg-zinc-900/50 p-4\">\r\n            <p className=\"text-zinc-400 text-sm\">Monthly listeners</p>\r\n            <p className=\"text-2xl font-bold\">{(Math.random()*10000).toFixed(0)}</p>\r\n          </div>\r\n          <div className=\"rounded-2xl border border-zinc-800 bg-zinc-900/50 p-4\">\r\n            <p className=\"text-zinc-400 text-sm\">Total plays</p>\r\n            <p className=\"text-2xl font-bold\">{(Math.random()*500000).toFixed(0)}</p>\r\n          </div>\r\n          <div className=\"rounded-2xl border border-zinc-800 bg-zinc-900/50 p-4\">\r\n            <p className=\"text-zinc-400 text-sm\">Fans</p>\r\n            <p className=\"text-2xl font-bold\">{(Math.random()*20000).toFixed(0)}</p>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\orders\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'artistsLoading' is assigned a value but never used.","line":12,"column":29,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":43},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'songsLoading' is assigned a value but never used.","line":13,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":39}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useArtists } from \"./context/ArtistContext\";\r\nimport { useSongs } from \"./context/SongContext\";\r\nimport EnhancedSongCard from \"./components/EnhancedSongCard\";\r\nimport UpcomingArtistCard from \"./components/UpcomingArtistCard\";\r\nimport FeatureCard from \"./components/FeatureCard\";\r\nimport RecommendedTracks from \"./components/RecommendedTracks\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function Home() {\r\n  const { artists, loading: artistsLoading } = useArtists();\r\n  const { songs, loading: songsLoading } = useSongs();\r\n  return (\r\n    <main className=\"min-h-screen bg-gradient-to-b from-black via-zinc-900 to-black text-white\">\r\n      {/* HERO SECTION */}\r\n      <section className=\"flex flex-col items-center justify-center text-center px-6 pt-32\">\r\n        <h1 className=\"text-5xl md:text-7xl font-extrabold tracking-tight\">\r\n          Nyasa<span className=\"text-emerald-400\">Wave</span>\r\n        </h1>\r\n\r\n        <p className=\"mt-6 max-w-xl text-lg md:text-xl text-zinc-300\">\r\n          Discover, stream, and support African sounds ÔÇö rising from the heart of the continent.\r\n        </p>\r\n\r\n        <div className=\"mt-10 flex flex-col sm:flex-row gap-4\">\r\n          <Link href=\"#featured\" className=\"btn-cta bg-emerald-400 text-black px-8 py-3 rounded-lg font-semibold hover:bg-emerald-300 transition\">\r\n            Start Listening\r\n          </Link>\r\n\r\n          <Link href=\"/artist/signin\" className=\"btn-cta border border-zinc-600 text-white bg-transparent px-8 py-3 rounded-lg font-semibold hover:bg-zinc-800 transition\">\r\n            For Artists\r\n          </Link>\r\n        </div>\r\n      </section>\r\n\r\n      {/* FEATURE STRIP */}\r\n      <section className=\"mt-32 grid grid-cols-1 md:grid-cols-3 gap-8 px-6 max-w-6xl mx-auto\">\r\n        <Feature\r\n          title=\"Stream Freely\"\r\n          desc=\"Enjoy music without barriers, anytime, anywhere.\"\r\n        />\r\n        <Feature\r\n          title=\"Support Artists\"\r\n          desc=\"Every play helps creators grow and earn.\"\r\n        />\r\n        <Feature\r\n          title=\"African First\"\r\n          desc=\"Built for the culture, powered by the wave.\"\r\n        />\r\n      </section>\r\n\r\n      {/* UPCOMING ARTISTS */}\r\n      <section className=\"mt-32 px-6 max-w-6xl mx-auto\">\r\n        <div className=\"flex items-center justify-between mb-8\">\r\n          <h2 className=\"text-3xl font-bold\">Upcoming Artists</h2>\r\n          <Link href=\"/discover?type=upcoming\" className=\"text-emerald-400 hover:text-emerald-300 text-sm\">\r\n            View All ÔåÆ\r\n          </Link>\r\n        </div>\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4\">\r\n          {artists.filter((a) => a.upcoming).slice(0, 4).map((artist) => (\r\n            <UpcomingArtistCard\r\n              key={artist.id}\r\n              id={artist.id}\r\n              name={artist.name}\r\n              slug={artist.slug}\r\n              genre={artist.genre}\r\n              monthlyListeners={artist.monthlyListeners || 0}\r\n            />\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      {/* FEATURED SONGS SECTION */}\r\n      <section id=\"featured\" className=\"mt-32 px-6 max-w-6xl mx-auto pb-12\">\r\n        <div className=\"flex items-center justify-between mb-8\">\r\n          <h2 className=\"text-3xl font-bold\">Featured Tracks</h2>\r\n          <Link href=\"/discover\" className=\"text-emerald-400 hover:text-emerald-300 text-sm\">\r\n            Explore More ÔåÆ\r\n          </Link>\r\n        </div>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {songs.slice(0, 6).map((song) => (\r\n            <EnhancedSongCard\r\n              key={song.id}\r\n              id={song.id}\r\n              title={song.title}\r\n              artist={song.artist}\r\n              plays={song.plays}\r\n              likes={song.likes}\r\n              duration={song.duration}\r\n            />\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      {/* RECOMMENDED TRACKS */}\r\n      <section className=\"mt-20 px-6 max-w-6xl mx-auto pb-12\">\r\n        <RecommendedTracks />\r\n      </section>\r\n\r\n      {/* ARTIST x BUSINESS SECTION */}\r\n      <section className=\"mt-32 px-6 max-w-6xl mx-auto pb-32\">\r\n        <h2 className=\"text-3xl font-bold mb-8\">For Business & Brands</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n          <FeatureCard\r\n            icon=\"target\"\r\n            title=\"Artist Matchmaking\"\r\n            description=\"Connect with artists perfect for your brand, events, and campaigns.\"\r\n          />\r\n          <FeatureCard\r\n            icon=\"chart\"\r\n            title=\"Analytics & Insights\"\r\n            description=\"Deep insights into listener demographics and engagement metrics.\"\r\n          />\r\n        </div>\r\n        <Link href=\"/business\" className=\"inline-block mt-6 bg-emerald-400 text-black px-6 py-3 rounded-lg font-semibold hover:bg-emerald-300 transition\">\r\n          Explore Artist Partnerships ÔåÆ\r\n        </Link>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nfunction Feature({ title, desc }: { title: string; desc: string }) {\r\n  return (\r\n    <div className=\"rounded-2xl border border-zinc-800 bg-zinc-900/50 p-6 text-center\">\r\n      <h3 className=\"text-xl font-semibold\">{title}</h3>\r\n      <p className=\"mt-3 text-zinc-400\">{desc}</p>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\payment\\checkout\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'PAYMENT_FEES' is defined but never used.","line":5,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":39}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport styles from '../payment.module.css';\r\nimport { PAYMENT_METHODS, PAYMENT_FEES } from '../../../lib/payments';\r\n\r\nexport default function PaymentCheckout() {\r\n    const [amount, setAmount] = useState<number>(15000);\r\n    const [currency, setCurrency] = useState<'MWK' | 'USD'>('MWK');\r\n    const [selectedProvider, setSelectedProvider] = useState<string>(PAYMENT_METHODS[0].id);\r\n    const [phoneNumber, setPhoneNumber] = useState<string>('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [success, setSuccess] = useState(false);\r\n    const [error, setError] = useState<string>('');\r\n\r\n    const selectedMethod = PAYMENT_METHODS.find(m => m.id === selectedProvider);\r\n\r\n    // Calculate fees\r\n    const calculateFees = () => {\r\n        if (!selectedMethod) return { subtotal: 0, platformFee: 0, paymentFee: 0, total: 0 };\r\n\r\n        const paymentFee = (amount * selectedMethod.fee) / 100;\r\n        const platformFee = (amount * 0.05); // 5% platform fee\r\n        const total = amount + paymentFee + platformFee;\r\n\r\n        return {\r\n            subtotal: amount,\r\n            paymentFee: Math.round(paymentFee),\r\n            platformFee: Math.round(platformFee),\r\n            total: Math.round(total),\r\n        };\r\n    };\r\n\r\n    const fees = calculateFees();\r\n\r\n    const handlePayment = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        if (!phoneNumber.trim()) {\r\n            setError('Please enter your phone number');\r\n            return;\r\n        }\r\n\r\n        if (!selectedMethod) {\r\n            setError('Please select a payment method');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        setError('');\r\n\r\n        try {\r\n            // Simulate payment processing\r\n            const response = await fetch('/api/payments/initiate', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    amount,\r\n                    currency,\r\n                    provider: selectedProvider,\r\n                    phoneNumber,\r\n                    type: 'BOOST',\r\n                }),\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            if (response.ok) {\r\n                setSuccess(true);\r\n                setTimeout(() => {\r\n                    window.location.href = '/payment/success?id=' + data.paymentId;\r\n                }, 2000);\r\n            } else {\r\n                setError(data.error || 'Payment failed. Please try again.');\r\n            }\r\n        } catch (err) {\r\n            setError('Payment processing error. Please try again.');\r\n            console.error(err);\r\n        }\r\n\r\n        setLoading(false);\r\n    };\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-gradient-to-b from-black via-zinc-900 to-black text-white pt-32 pb-20\">\r\n            <div className=\"max-w-4xl mx-auto px-6\">\r\n                {/* Header */}\r\n                <div className=\"mb-12\">\r\n                    <h1 className=\"text-4xl font-bold\">Complete Payment</h1>\r\n                    <p className=\"text-zinc-400 mt-2\">Secure payment processing powered by leading providers</p>\r\n                </div>\r\n\r\n                <form onSubmit={handlePayment} className=\"grid md:grid-cols-2 gap-8\">\r\n                    {/* Left: Payment Form */}\r\n                    <div className=\"space-y-8\">\r\n                        {/* Amount */}\r\n                        <div className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800\">\r\n                            <h2 className=\"text-xl font-bold mb-6\">Amount</h2>\r\n                            <div className=\"space-y-4\">\r\n                                <div>\r\n                                    <label htmlFor=\"amount\" className=\"block text-sm font-semibold mb-2\">Payment Amount</label>\r\n                                    <div className=\"flex gap-2\">\r\n                                        <input\r\n                                            id=\"amount\"\r\n                                            type=\"number\"\r\n                                            min=\"1000\"\r\n                                            value={amount}\r\n                                            onChange={(e) => setAmount(Number(e.target.value))}\r\n                                            className=\"flex-1 px-4 py-2 rounded-lg bg-zinc-800 border border-zinc-700 text-white focus:outline-none focus:border-emerald-400\"\r\n                                        />\r\n                                        <select\r\n                                            aria-label=\"Currency selection\"\r\n                                            value={currency}\r\n                                            onChange={(e) => setCurrency(e.target.value as 'MWK' | 'USD')}\r\n                                            className=\"px-4 py-2 rounded-lg bg-zinc-800 border border-zinc-700 text-white focus:outline-none focus:border-emerald-400\"\r\n                                        >\r\n                                            <option value=\"MWK\">MWK</option>\r\n                                            <option value=\"USD\">USD</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Payment Method */}\r\n                        <div className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800\">\r\n                            <h2 className=\"text-xl font-bold mb-6\">Payment Method</h2>\r\n                            <div className=\"space-y-3\">\r\n                                {PAYMENT_METHODS.map(method => (\r\n                                    <label key={method.id} className={`${styles.paymentMethodLabel} ${selectedProvider === method.id\r\n                                        ? styles.paymentMethodLabelActive\r\n                                        : styles.paymentMethodLabelInactive\r\n                                        }`}>\r\n                                        <input\r\n                                            type=\"radio\"\r\n                                            name=\"provider\"\r\n                                            value={method.id}\r\n                                            checked={selectedProvider === method.id}\r\n                                            onChange={(e) => setSelectedProvider(e.target.value)}\r\n                                            className=\"w-4 h-4\"\r\n                                        />\r\n                                        <div className=\"ml-4 flex-1\">\r\n                                            <p className=\"font-semibold\">{method.icon} {method.name}</p>\r\n                                            <p className=\"text-xs text-zinc-400\">\r\n                                                {method.processingTime} ÔÇó Fee: {method.fee}%\r\n                                            </p>\r\n                                        </div>\r\n                                    </label>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Contact Info */}\r\n                        <div className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800\">\r\n                            <h2 className=\"text-xl font-bold mb-6\">Mobile Money Details</h2>\r\n                            <div>\r\n                                <label htmlFor=\"phone\" className=\"block text-sm font-semibold mb-2\">Phone Number</label>\r\n                                <input\r\n                                    id=\"phone\"\r\n                                    type=\"tel\"\r\n                                    placeholder={selectedProvider === 'AIRTEL_MONEY' ? \"+265712345678\" : \"+265988123456\"}\r\n                                    value={phoneNumber}\r\n                                    onChange={(e) => setPhoneNumber(e.target.value)}\r\n                                    className=\"w-full px-4 py-2 rounded-lg bg-zinc-800 border border-zinc-700 text-white placeholder-zinc-500 focus:outline-none focus:border-emerald-400\"\r\n                                />\r\n                                <p className=\"text-xs text-zinc-400 mt-2\">\r\n                                    Standard {selectedMethod?.name} format required\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Error Message */}\r\n                        {error && (\r\n                            <div className=\"bg-red-900/20 border border-red-500/50 rounded-lg p-4\">\r\n                                <p className=\"text-red-300 text-sm\">{error}</p>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Success Message */}\r\n                        {success && (\r\n                            <div className=\"bg-emerald-900/20 border border-emerald-500/50 rounded-lg p-4\">\r\n                                <p className=\"text-emerald-300 text-sm\">Payment successful! Redirecting...</p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Right: Order Summary */}\r\n                    <div className={styles.orderSummary}>\r\n                        <h2 className=\"text-xl font-bold mb-6\">Order Summary</h2>\r\n\r\n                        <div className=\"space-y-4 mb-6\">\r\n                            <div className=\"flex justify-between text-sm\">\r\n                                <span className=\"text-zinc-400\">Subtotal</span>\r\n                                <span className=\"font-semibold\">{currency === 'MWK' ? `MWK ${fees.subtotal.toLocaleString()}` : `$${(fees.subtotal / 10000).toFixed(2)}`}</span>\r\n                            </div>\r\n                            <div className=\"flex justify-between text-sm\">\r\n                                <span className=\"text-zinc-400\">Payment Processing Fee ({selectedMethod?.fee || 0}%)</span>\r\n                                <span className=\"font-semibold\">{currency === 'MWK' ? `MWK ${fees.paymentFee.toLocaleString()}` : `$${(fees.paymentFee / 10000).toFixed(2)}`}</span>\r\n                            </div>\r\n                            <div className=\"flex justify-between text-sm\">\r\n                                <span className=\"text-zinc-400\">Platform Fee (5%)</span>\r\n                                <span className=\"font-semibold\">{currency === 'MWK' ? `MWK ${fees.platformFee.toLocaleString()}` : `$${(fees.platformFee / 10000).toFixed(2)}`}</span>\r\n                            </div>\r\n                            <div className=\"border-t border-zinc-700 pt-4 flex justify-between\">\r\n                                <span className=\"font-bold\">Total</span>\r\n                                <span className=\"text-2xl font-bold text-emerald-400\">\r\n                                    {currency === 'MWK' ? `MWK ${fees.total.toLocaleString()}` : `$${(fees.total / 10000).toFixed(2)}`}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Provider Info */}\r\n                        {selectedMethod && (\r\n                            <div className=\"bg-zinc-800 rounded-lg p-4 mb-6 border border-zinc-700\">\r\n                                <p className=\"text-xs text-zinc-400 mb-2\">Processing with</p>\r\n                                <p className=\"font-semibold text-lg\">{selectedMethod.icon} {selectedMethod.name}</p>\r\n                                <p className=\"text-xs text-zinc-400 mt-2\">\r\n                                    Processing time: {selectedMethod.processingTime}\r\n                                </p>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Security Info */}\r\n                        <div className=\"bg-zinc-800/50 rounded-lg p-4 mb-6 border border-zinc-700 text-xs text-zinc-400 space-y-2\">\r\n                            <p>Ô£ô Secure encrypted transaction</p>\r\n                            <p>Ô£ô No card data stored</p>\r\n                            <p>Ô£ô PCI DSS compliant</p>\r\n                        </div>\r\n\r\n                        {/* Submit Button */}\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={loading || !phoneNumber}\r\n                            className=\"w-full bg-emerald-500 text-black py-3 rounded-lg font-bold hover:bg-emerald-400 transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                        >\r\n                            {loading ? 'Processing Payment...' : `Pay ${currency === 'MWK' ? `MWK ${fees.total.toLocaleString()}` : `$${(fees.total / 10000).toFixed(2)}`}`}\r\n                        </button>\r\n\r\n                        {/* T&C */}\r\n                        <p className=\"text-xs text-zinc-500 mt-4 text-center\">\r\n                            By completing this payment, you agree to our Terms & Conditions\r\n                        </p>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\payment\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'selectedPlan' is assigned a value but never used.","line":11,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":24},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setSelectedPlan' is assigned a value but never used.","line":11,"column":26,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":41},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":51,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":51,"endColumn":23},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":159,"column":70,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[8343,8434],"text":"Currently we don&apos;t offer a free trial, but you can try free features on the platform first."},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[8343,8434],"text":"Currently we don&lsquo;t offer a free trial, but you can try free features on the platform first."},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[8343,8434],"text":"Currently we don&#39;t offer a free trial, but you can try free features on the platform first."},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[8343,8434],"text":"Currently we don&rsquo;t offer a free trial, but you can try free features on the platform first."},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nexport default function PaymentPage() {\r\n    const { user } = useAuth();\r\n    const router = useRouter();\r\n    const [selectedPlan, setSelectedPlan] = useState<\"monthly\" | \"annual\" | null>(null);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    if (!user) {\r\n        return (\r\n            <main className=\"min-h-screen p-6 pt-32 max-w-4xl mx-auto text-center\">\r\n                <h1 className=\"text-3xl font-bold\">Premium Subscription</h1>\r\n                <p className=\"text-zinc-400 mt-4\">Sign in to subscribe to premium.</p>\r\n                <Link\r\n                    href=\"/signin\"\r\n                    className=\"mt-6 inline-block bg-emerald-400 text-black px-6 py-2 rounded font-semibold hover:bg-emerald-300\"\r\n                >\r\n                    Sign In\r\n                </Link>\r\n            </main>\r\n        );\r\n    }\r\n\r\n    const handleCheckout = async (plan: \"monthly\" | \"annual\") => {\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetch(\"/api/payments/initiate\", {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    Authorization: `Bearer ${localStorage.getItem(\"nyasawave_token\") || \"\"}`,\r\n                },\r\n                body: JSON.stringify({\r\n                    type: \"subscription\",\r\n                    plan,\r\n                    amount: plan === \"monthly\" ? 99 : 999,\r\n                }),\r\n            });\r\n\r\n            const data = await res.json();\r\n            if (data.ok) {\r\n                router.push(`/payment/checkout?sessionId=${data.sessionId}`);\r\n            } else {\r\n                alert(`Error: ${data.error}`);\r\n            }\r\n        } catch (error) {\r\n            alert(\"Payment initiation failed\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <main className=\"min-h-screen p-6 pt-32 max-w-6xl mx-auto\">\r\n            <section className=\"text-center mb-12\">\r\n                <h1 className=\"text-4xl font-bold\">Premium Subscription</h1>\r\n                <p className=\"text-zinc-400 mt-4 text-lg\">\r\n                    Unlock unlimited streaming, no ads, and exclusive features\r\n                </p>\r\n            </section>\r\n\r\n            <section className=\"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-3xl mx-auto\">\r\n                {/* Monthly Plan */}\r\n                <div className=\"border border-zinc-800 rounded-lg p-8 hover:border-emerald-400 transition\">\r\n                    <h2 className=\"text-2xl font-bold mb-4\">Monthly</h2>\r\n                    <div className=\"text-4xl font-bold text-emerald-400 mb-2\">MWK 99</div>\r\n                    <p className=\"text-zinc-400 mb-6\">/month, cancel anytime</p>\r\n                    <ul className=\"space-y-3 mb-8 text-sm\">\r\n                        <li className=\"flex items-center gap-2\">\r\n                            <span className=\"text-emerald-400\">Ô£ô</span> Unlimited streaming\r\n                        </li>\r\n                        <li className=\"flex items-center gap-2\">\r\n                            <span className=\"text-emerald-400\">Ô£ô</span> No ads\r\n                        </li>\r\n                        <li className=\"flex items-center gap-2\">\r\n                            <span className=\"text-emerald-400\">Ô£ô</span> Download songs\r\n                        </li>\r\n                        <li className=\"flex items-center gap-2\">\r\n                            <span className=\"text-emerald-400\">Ô£ô</span> Offline listening\r\n                        </li>\r\n                        <li className=\"flex items-center gap-2\">\r\n                            <span className=\"text-emerald-400\">Ô£ô</span> High audio quality\r\n                        </li>\r\n                    </ul>\r\n                    <button\r\n                        onClick={() => handleCheckout(\"monthly\")}\r\n                        disabled={loading || user.subscription?.status === \"active\"}\r\n                        className=\"w-full bg-emerald-400 text-black px-6 py-3 rounded font-semibold hover:bg-emerald-300 disabled:bg-zinc-600 disabled:cursor-not-allowed transition\"\r\n                    >\r\n                        {loading ? \"Processing...\" : user.subscription?.status === \"active\" ? \"Current Plan\" : \"Subscribe Now\"}\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Annual Plan */}\r\n                <div className=\"border border-emerald-400 rounded-lg p-8 relative\">\r\n                    <div className=\"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-emerald-400 text-black px-4 py-1 rounded text-sm font-semibold\">\r\n                        Save 20%\r\n                    </div>\r\n                    <h2 className=\"text-2xl font-bold mb-4\">Annual</h2>\r\n                    <div className=\"text-4xl font-bold text-emerald-400 mb-2\">MWK 999</div>\r\n                    <p className=\"text-zinc-400 mb-6\">~MWK 83/month, save MWK 180</p>\r\n                    <ul className=\"space-y-3 mb-8 text-sm\">\r\n                        <li className=\"flex items-center gap-2\">\r\n                            <span className=\"text-emerald-400\">Ô£ô</span> Unlimited streaming\r\n                        </li>\r\n                        <li className=\"flex items-center gap-2\">\r\n                            <span className=\"text-emerald-400\">Ô£ô</span> No ads\r\n                        </li>\r\n                        <li className=\"flex items-center gap-2\">\r\n                            <span className=\"text-emerald-400\">Ô£ô</span> Download songs\r\n                        </li>\r\n                        <li className=\"flex items-center gap-2\">\r\n                            <span className=\"text-emerald-400\">Ô£ô</span> Offline listening\r\n                        </li>\r\n                        <li className=\"flex items-center gap-2\">\r\n                            <span className=\"text-emerald-400\">Ô£ô</span> High audio quality\r\n                        </li>\r\n                    </ul>\r\n                    <button\r\n                        onClick={() => handleCheckout(\"annual\")}\r\n                        disabled={loading || user.subscription?.status === \"active\"}\r\n                        className=\"w-full bg-emerald-400 text-black px-6 py-3 rounded font-semibold hover:bg-emerald-300 disabled:bg-zinc-600 disabled:cursor-not-allowed transition\"\r\n                    >\r\n                        {loading ? \"Processing...\" : user.subscription?.status === \"active\" ? \"Current Plan\" : \"Subscribe Now\"}\r\n                    </button>\r\n                </div>\r\n            </section>\r\n\r\n            {/* Current Subscription Info */}\r\n            {user.subscription?.status === \"active\" && (\r\n                <section className=\"mt-12 max-w-3xl mx-auto p-6 bg-emerald-400/10 border border-emerald-400/20 rounded-lg\">\r\n                    <h3 className=\"text-lg font-semibold mb-2\">Your Subscription</h3>\r\n                    <p className=\"text-zinc-400\">\r\n                        {user.subscription.tier === \"premium\" && \"You have Premium access\"}\r\n                        {user.subscription.expiresAt && ` - Expires on ${new Date(user.subscription.expiresAt).toLocaleDateString()}`}\r\n                    </p>\r\n                </section>\r\n            )}\r\n\r\n            {/* FAQ */}\r\n            <section className=\"mt-16 max-w-3xl mx-auto\">\r\n                <h2 className=\"text-2xl font-bold mb-8\">FAQ</h2>\r\n                <div className=\"space-y-4\">\r\n                    <div>\r\n                        <h3 className=\"font-semibold mb-2\">Can I cancel anytime?</h3>\r\n                        <p className=\"text-zinc-400\">Yes, cancel your subscription at any time. Your access continues until the end of your billing period.</p>\r\n                    </div>\r\n                    <div>\r\n                        <h3 className=\"font-semibold mb-2\">What payment methods do you accept?</h3>\r\n                        <p className=\"text-zinc-400\">We accept credit/debit cards via Stripe and mobile money via Flutterwave.</p>\r\n                    </div>\r\n                    <div>\r\n                        <h3 className=\"font-semibold mb-2\">Is there a free trial?</h3>\r\n                        <p className=\"text-zinc-400\">Currently we don't offer a free trial, but you can try free features on the platform first.</p>\r\n                    </div>\r\n                    <div>\r\n                        <h3 className=\"font-semibold mb-2\">Do you offer family plans?</h3>\r\n                        <p className=\"text-zinc-400\">Family plans are coming soon. Subscribe to newsletter for updates.</p>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\payment\\success\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":67,"column":37,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[3128,3189],"text":"We&apos;ll send you updates when milestone play counts are reached"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[3128,3189],"text":"We&lsquo;ll send you updates when milestone play counts are reached"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[3128,3189],"text":"We&#39;ll send you updates when milestone play counts are reached"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[3128,3189],"text":"We&rsquo;ll send you updates when milestone play counts are reached"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useSearchParams, useRouter } from 'next/navigation';\r\nimport { useEffect, useState, Suspense } from 'react';\r\n\r\nfunction PaymentSuccessContent() {\r\n    const searchParams = useSearchParams();\r\n    const router = useRouter();\r\n    const boostId = searchParams.get('boostId');\r\n    const [countdown, setCountdown] = useState(5);\r\n\r\n    useEffect(() => {\r\n        const timer = setInterval(() => {\r\n            setCountdown((c) => {\r\n                if (c <= 1) {\r\n                    router.push('/artist/dashboard');\r\n                    return 0;\r\n                }\r\n                return c - 1;\r\n            });\r\n        }, 1000);\r\n\r\n        return () => clearInterval(timer);\r\n    }, [router]);\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-gradient-to-b from-black via-zinc-900 to-black text-white pt-32 pb-20 flex items-center justify-center\">\r\n            <div className=\"max-w-md mx-auto px-6 text-center\">\r\n                {/* Success Icon */}\r\n                <div className=\"mb-8\">\r\n                    <div className=\"w-24 h-24 rounded-full bg-emerald-500/20 border-2 border-emerald-500 flex items-center justify-center mx-auto mb-6 animate-pulse\">\r\n                        <span className=\"text-5xl\">Ô£ô</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <h1 className=\"text-4xl font-bold mb-4\">Payment Successful!</h1>\r\n                <p className=\"text-zinc-400 mb-8\">\r\n                    Your boost has been activated. Your track will start appearing in promoted placements immediately.\r\n                </p>\r\n\r\n                {/* Boost ID */}\r\n                {boostId && (\r\n                    <div className=\"bg-zinc-900 rounded-lg p-4 border border-zinc-800 mb-8\">\r\n                        <p className=\"text-xs text-zinc-500 mb-1\">Boost ID</p>\r\n                        <p className=\"font-mono text-sm text-emerald-400\">{boostId}</p>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Next Steps */}\r\n                <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800 mb-8 text-left\">\r\n                    <h2 className=\"font-bold mb-4 flex items-center gap-2\">\r\n                        <span className=\"text-emerald-400\">Ô£ô</span>\r\n                        Next Steps\r\n                    </h2>\r\n                    <ul className=\"space-y-3 text-sm text-zinc-400\">\r\n                        <li className=\"flex gap-3\">\r\n                            <span className=\"text-emerald-400 font-bold\">1.</span>\r\n                            <span>Your boost is now active and will run for the selected duration</span>\r\n                        </li>\r\n                        <li className=\"flex gap-3\">\r\n                            <span className=\"text-emerald-400 font-bold\">2.</span>\r\n                            <span>Check your Analytics page for real-time performance data</span>\r\n                        </li>\r\n                        <li className=\"flex gap-3\">\r\n                            <span className=\"text-emerald-400 font-bold\">3.</span>\r\n                            <span>We'll send you updates when milestone play counts are reached</span>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n\r\n                {/* Action Buttons */}\r\n                <div className=\"space-y-3\">\r\n                    <Link\r\n                        href=\"/artist/analytics\"\r\n                        className=\"block w-full py-3 rounded-lg font-bold bg-emerald-500 text-black hover:bg-emerald-400 transition\"\r\n                    >\r\n                        View Analytics\r\n                    </Link>\r\n                    <Link\r\n                        href=\"/artist/dashboard\"\r\n                        className=\"block w-full py-3 rounded-lg font-bold bg-zinc-800 text-white hover:bg-zinc-700 transition\"\r\n                    >\r\n                        Back to Dashboard\r\n                    </Link>\r\n                </div>\r\n\r\n                {/* Auto Redirect Notice */}\r\n                <p className=\"text-xs text-zinc-500 mt-8\">\r\n                    Redirecting to dashboard in {countdown}s...\r\n                </p>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default function PaymentSuccess() {\r\n    return (\r\n        <Suspense fallback={<div className=\"min-h-screen bg-black flex items-center justify-center text-white\">Loading...</div>}>\r\n            <PaymentSuccessContent />\r\n        </Suspense>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\playlists\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":4,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":12}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { usePlaylists } from \"@/context/PlaylistContext\";\r\nimport { useSongs } from \"@/context/SongContext\";\r\nimport Button from \"@/components/Button\";\r\nimport Modal from \"@/components/Modal\";\r\nimport Input from \"@/components/Input\";\r\n\r\nexport default function PlaylistsPage() {\r\n  const { playlists } = usePlaylists();\r\n  const { songs } = useSongs();\r\n  const [userPlaylists, setUserPlaylists] = useState<any[]>([]);\r\n  const [openCreate, setOpenCreate] = useState(false);\r\n  const [playlistName, setPlaylistName] = useState(\"\");\r\n  const [selectedPlaylist, setSelectedPlaylist] = useState<(typeof playlists)[0] | null>(null);\r\n  const [openDetail, setOpenDetail] = useState(false);\r\n\r\n  const createPlaylist = () => {\r\n    if (!playlistName.trim()) return;\r\n    const newPlaylist = {\r\n      id: `pl-${Date.now()}`,\r\n      title: playlistName,\r\n      description: \"My custom playlist\",\r\n      songIds: [],\r\n      curated: false,\r\n    };\r\n    setUserPlaylists([...userPlaylists, newPlaylist]);\r\n    setPlaylistName(\"\");\r\n    setOpenCreate(false);\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen p-6 pt-32 max-w-7xl mx-auto\">\r\n      <div className=\"flex items-center justify-between mb-8\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold\">Playlists</h1>\r\n          <p className=\"text-zinc-400\">Create and manage your playlists.</p>\r\n        </div>\r\n        <Button onClick={() => setOpenCreate(true)}>+ Create Playlist</Button>\r\n      </div>\r\n\r\n      {/* FEATURED PLAYLISTS */}\r\n      <section className=\"mb-12\">\r\n        <h2 className=\"text-2xl font-semibold mb-6\">Featured Collections</h2>\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n          {playlists.slice(0, 8).map((playlist) => (\r\n            <div\r\n              key={playlist.id}\r\n              onClick={() => {\r\n                setSelectedPlaylist(playlist);\r\n                setOpenDetail(true);\r\n              }}\r\n              className=\"rounded-2xl border border-zinc-800 bg-zinc-900/50 p-4 cursor-pointer hover:border-emerald-400 transition\"\r\n            >\r\n              <div className=\"w-full h-32 bg-gradient-to-br from-zinc-700 to-zinc-800 rounded mb-3 flex items-center justify-center text-3xl\">\r\n                ­ƒÄÁ\r\n              </div>\r\n              <h3 className=\"font-semibold truncate\">{playlist.title}</h3>\r\n              <p className=\"text-xs text-zinc-400 mt-1\">{playlist.songIds?.length || 0} tracks</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      {/* USER PLAYLISTS */}\r\n      {userPlaylists.length > 0 && (\r\n        <section className=\"mb-12\">\r\n          <h2 className=\"text-2xl font-semibold mb-6\">My Playlists</h2>\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n            {userPlaylists.map((playlist) => (\r\n              <div\r\n                key={playlist.id}\r\n                className=\"rounded-2xl border border-emerald-600/30 bg-emerald-900/10 p-4 cursor-pointer hover:bg-emerald-900/20 transition\"\r\n              >\r\n                <div className=\"w-full h-32 bg-gradient-to-br from-emerald-600 to-emerald-800 rounded mb-3 flex items-center justify-center text-3xl\">\r\n                  ­ƒôØ\r\n                </div>\r\n                <h3 className=\"font-semibold truncate\">{playlist.title}</h3>\r\n                <p className=\"text-xs text-zinc-400 mt-1\">{playlist.songIds?.length || 0} tracks</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      {/* CREATE PLAYLIST MODAL */}\r\n      <Modal open={openCreate} onClose={() => setOpenCreate(false)} title=\"Create Playlist\">\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm text-zinc-400 mb-2\">Playlist Name</label>\r\n            <Input\r\n              value={playlistName}\r\n              onChange={(e) => setPlaylistName(e.target.value)}\r\n              placeholder=\"My awesome playlist\"\r\n            />\r\n          </div>\r\n          <div className=\"flex gap-3 justify-end\">\r\n            <Button variant=\"ghost\" onClick={() => setOpenCreate(false)}>Cancel</Button>\r\n            <Button onClick={createPlaylist} disabled={!playlistName.trim()}>Create</Button>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n\r\n      {/* PLAYLIST DETAIL MODAL */}\r\n      <Modal open={openDetail} onClose={() => setOpenDetail(false)} title={selectedPlaylist?.title || \"\"}>\r\n        {selectedPlaylist && (\r\n          <div className=\"space-y-4\">\r\n            <p className=\"text-sm text-zinc-400\">{selectedPlaylist.description}</p>\r\n            <div>\r\n              <p className=\"text-sm text-zinc-400 mb-2\">Tracks</p>\r\n              {selectedPlaylist.songIds && selectedPlaylist.songIds.length > 0 ? (\r\n                <div className=\"space-y-2 max-h-64 overflow-y-auto\">\r\n                  {selectedPlaylist.songIds.map((songId: string, idx: number) => {\r\n                    const song = songs.find((s) => s.id === songId);\r\n                    return song ? (\r\n                      <div key={idx} className=\"text-sm py-2 border-b border-zinc-800\">\r\n                        <p>{song.title}</p>\r\n                        <p className=\"text-xs text-zinc-400\">{song.artist}</p>\r\n                      </div>\r\n                    ) : null;\r\n                  })}\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-sm text-zinc-500\">No tracks in this playlist yet.</p>\r\n              )}\r\n            </div>\r\n            <Button onClick={() => setOpenDetail(false)}>Close</Button>\r\n          </div>\r\n        )}\r\n      </Modal>\r\n    </main>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\pricing\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":3,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":12}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport Link from 'next/link';\r\n\r\nexport default function Pricing() {\r\n  return (\r\n    <main className=\"min-h-screen bg-gradient-to-b from-black via-zinc-900 to-black text-white pt-32 pb-20\">\r\n      <div className=\"max-w-6xl mx-auto px-6\">\r\n        {/* Header */}\r\n        <div className=\"text-center mb-16\">\r\n          <h1 className=\"text-5xl font-bold mb-4\">Simple, Transparent Pricing</h1>\r\n          <p className=\"text-xl text-zinc-300\">Choose the plan that fits you</p>\r\n        </div>\r\n\r\n        {/* Pricing Cards */}\r\n        <div className=\"grid md:grid-cols-3 gap-8 mb-16\">\r\n          {/* Free Plan */}\r\n          <div className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800 hover:border-zinc-700 transition\">\r\n            <h3 className=\"text-2xl font-bold mb-2\">Free</h3>\r\n            <p className=\"text-4xl font-bold mb-6\">$0</p>\r\n\r\n            <ul className=\"space-y-3 mb-8 text-zinc-300\">\r\n              <li className=\"flex items-center gap-2\">\r\n                <span className=\"text-emerald-400\">Ô£ô</span> Stream unlimited music\r\n              </li>\r\n              <li className=\"flex items-center gap-2\">\r\n                <span className=\"text-emerald-400\">Ô£ô</span> Discover artists\r\n              </li>\r\n              <li className=\"flex items-center gap-2\">\r\n                <span className=\"text-zinc-500\">Ô£ù</span> <span className=\"text-zinc-500\">Download music</span>\r\n              </li>\r\n              <li className=\"flex items-center gap-2\">\r\n                <span className=\"text-zinc-500\">Ô£ù</span> <span className=\"text-zinc-500\">Offline listening</span>\r\n              </li>\r\n              <li className=\"flex items-center gap-2\">\r\n                <span className=\"text-zinc-500\">Ô£ù</span> <span className=\"text-zinc-500\">Ad-free listening</span>\r\n              </li>\r\n            </ul>\r\n\r\n            <button className=\"w-full bg-zinc-800 hover:bg-zinc-700 text-white py-3 rounded-lg font-semibold transition\">\r\n              Current Plan\r\n            </button>\r\n          </div>\r\n\r\n          {/* Premium Fan Plan */}\r\n          <div className=\"bg-zinc-900 rounded-lg p-8 border-2 border-emerald-500 hover:border-emerald-400 transition relative overflow-hidden\">\r\n            <div className=\"absolute -top-3 left-4 bg-emerald-500 text-black px-3 py-1 text-sm font-bold rounded\">\r\n              POPULAR\r\n            </div>\r\n            <h3 className=\"text-2xl font-bold mb-2 mt-4\">Premium</h3>\r\n            <p className=\"text-4xl font-bold mb-2\">$4.99<span className=\"text-lg text-zinc-400\">/month</span></p>\r\n            <p className=\"text-sm text-zinc-400 mb-6\">or $49.99/year (save 16%)</p>\r\n\r\n            <ul className=\"space-y-3 mb-8 text-zinc-300\">\r\n              <li className=\"flex items-center gap-2\">\r\n                <span className=\"text-emerald-400\">Ô£ô</span> Stream unlimited music\r\n              </li>\r\n              <li className=\"flex items-center gap-2\">\r\n                <span className=\"text-emerald-400\">Ô£ô</span> Download music\r\n              </li>\r\n              <li className=\"flex items-center gap-2\">\r\n                <span className=\"text-emerald-400\">Ô£ô</span> Offline listening\r\n              </li>\r\n              <li className=\"flex items-center gap-2\">\r\n                <span className=\"text-emerald-400\">Ô£ô</span> Ad-free listening\r\n              </li>\r\n              <li className=\"flex items-center gap-2\">\r\n                <span className=\"text-emerald-400\">Ô£ô</span> Support artists directly\r\n              </li>\r\n            </ul>\r\n\r\n            <button className=\"w-full bg-emerald-500 hover:bg-emerald-400 text-black py-3 rounded-lg font-bold transition\">\r\n              Upgrade Now\r\n            </button>\r\n          </div>\r\n\r\n          {/* Artist Pro Plan */}\r\n          <div className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800 hover:border-zinc-700 transition\">\r\n            <h3 className=\"text-2xl font-bold mb-2\">Artist Pro</h3>\r\n            <p className=\"text-4xl font-bold mb-6\">$9.99<span className=\"text-lg text-zinc-400\">/month</span></p>\r\n\r\n            <ul className=\"space-y-3 mb-8 text-zinc-300\">\r\n              <li className=\"flex items-center gap-2\">\r\n                <span className=\"text-emerald-400\">Ô£ô</span> Everything in Premium\r\n              </li>\r\n              <li className=\"flex items-center gap-2\">\r\n                <span className=\"text-emerald-400\">Ô£ô</span> Upload unlimited music\r\n              </li>\r\n              <li className=\"flex items-center gap-2\">\r\n                <span className=\"text-emerald-400\">Ô£ô</span> Advanced analytics\r\n              </li>\r\n              <li className=\"flex items-center gap-2\">\r\n                <span className=\"text-emerald-400\">Ô£ô</span> Promotional tools\r\n              </li>\r\n              <li className=\"flex items-center gap-2\">\r\n                <span className=\"text-emerald-400\">Ô£ô</span> Monthly payouts\r\n              </li>\r\n            </ul>\r\n\r\n            <button className=\"w-full bg-zinc-800 hover:bg-zinc-700 text-white py-3 rounded-lg font-semibold transition\">\r\n              Get Started\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Comparison Table */}\r\n        <div className=\"bg-zinc-900 rounded-lg p-8 border border-zinc-800 mb-16\">\r\n          <h2 className=\"text-2xl font-bold mb-6\">Feature Comparison</h2>\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full text-sm\">\r\n              <thead>\r\n                <tr className=\"border-b border-zinc-800\">\r\n                  <th className=\"text-left py-4 px-4\">Feature</th>\r\n                  <th className=\"text-center py-4 px-4\">Free</th>\r\n                  <th className=\"text-center py-4 px-4\">Premium</th>\r\n                  <th className=\"text-center py-4 px-4\">Artist Pro</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr className=\"border-b border-zinc-800\">\r\n                  <td className=\"py-4 px-4\">Streaming</td>\r\n                  <td className=\"text-center\">Ô£ô</td>\r\n                  <td className=\"text-center\">Ô£ô</td>\r\n                  <td className=\"text-center\">Ô£ô</td>\r\n                </tr>\r\n                <tr className=\"border-b border-zinc-800\">\r\n                  <td className=\"py-4 px-4\">Downloads</td>\r\n                  <td className=\"text-center text-zinc-500\">ÔÇö</td>\r\n                  <td className=\"text-center\">Ô£ô</td>\r\n                  <td className=\"text-center\">Ô£ô</td>\r\n                </tr>\r\n                <tr className=\"border-b border-zinc-800\">\r\n                  <td className=\"py-4 px-4\">Upload Music</td>\r\n                  <td className=\"text-center text-zinc-500\">ÔÇö</td>\r\n                  <td className=\"text-center text-zinc-500\">ÔÇö</td>\r\n                  <td className=\"text-center\">Ô£ô</td>\r\n                </tr>\r\n                <tr className=\"border-b border-zinc-800\">\r\n                  <td className=\"py-4 px-4\">Analytics</td>\r\n                  <td className=\"text-center text-zinc-500\">ÔÇö</td>\r\n                  <td className=\"text-center text-zinc-500\">ÔÇö</td>\r\n                  <td className=\"text-center\">Ô£ô</td>\r\n                </tr>\r\n                <tr>\r\n                  <td className=\"py-4 px-4\">Payouts</td>\r\n                  <td className=\"text-center text-zinc-500\">ÔÇö</td>\r\n                  <td className=\"text-center text-zinc-500\">ÔÇö</td>\r\n                  <td className=\"text-center\">Ô£ô</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        {/* FAQ */}\r\n        <div className=\"max-w-2xl mx-auto\">\r\n          <h2 className=\"text-2xl font-bold mb-8 text-center\">Frequently Asked Questions</h2>\r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n              <h3 className=\"font-bold mb-2\">Can I switch plans anytime?</h3>\r\n              <p className=\"text-zinc-400\">Yes! You can upgrade or downgrade your plan at any time.</p>\r\n            </div>\r\n            <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n              <h3 className=\"font-bold mb-2\">What payment methods do you accept?</h3>\r\n              <p className=\"text-zinc-400\">We accept card payments, mobile money (Malawi), and PayPal.</p>\r\n            </div>\r\n            <div className=\"bg-zinc-900 rounded-lg p-6 border border-zinc-800\">\r\n              <h3 className=\"font-bold mb-2\">How do artist payouts work?</h3>\r\n              <p className=\"text-zinc-400\">Artists earn from streams and fan support. Payouts are monthly to your account.</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\privacy\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":128,"column":87,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[7479,7500],"text":"9. Children&apos;s Privacy"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[7479,7500],"text":"9. Children&lsquo;s Privacy"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[7479,7500],"text":"9. Children&#39;s Privacy"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[7479,7500],"text":"9. Children&rsquo;s Privacy"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nexport default function PrivacyPage() {\r\n    return (\r\n        <div className=\"min-h-screen bg-black pt-24 pb-16\">\r\n            <div className=\"max-w-3xl mx-auto px-6\">\r\n                <h1 className=\"text-4xl font-bold text-white mb-4\">Privacy Policy</h1>\r\n                <p className=\"text-zinc-400 mb-12\">Last updated: January 15, 2026</p>\r\n\r\n                <div className=\"space-y-8 text-zinc-300\">\r\n                    {/* 1. Introduction */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">1. Introduction</h2>\r\n                        <p>\r\n                            NyasaWave (&quot;we&quot;, &quot;us&quot;, &quot;our&quot;, or &quot;Company&quot;) operates the NyasaWave platform.\r\n                            This Privacy Policy explains how we collect, use, disclose, and safeguard your information\r\n                            when you visit our website and use our services.\r\n                        </p>\r\n                    </section>\r\n\r\n                    {/* 2. Information We Collect */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">2. Information We Collect</h2>\r\n                        <div className=\"space-y-3\">\r\n                            <div>\r\n                                <h3 className=\"font-semibold text-white mb-2\">Personal Data</h3>\r\n                                <p>ÔÇó Name</p>\r\n                                <p>ÔÇó Email address</p>\r\n                                <p>ÔÇó Password (hashed)</p>\r\n                                <p>ÔÇó Phone number (for verification)</p>\r\n                                <p>ÔÇó Profile information</p>\r\n                            </div>\r\n                            <div>\r\n                                <h3 className=\"font-semibold text-white mb-2\">Usage Data</h3>\r\n                                <p>ÔÇó IP address</p>\r\n                                <p>ÔÇó Browser type</p>\r\n                                <p>ÔÇó Pages visited</p>\r\n                                <p>ÔÇó Time spent on pages</p>\r\n                                <p>ÔÇó Referring website</p>\r\n                            </div>\r\n                            <div>\r\n                                <h3 className=\"font-semibold text-white mb-2\">KYC Data (Optional)</h3>\r\n                                <p>ÔÇó Government-issued ID</p>\r\n                                <p>ÔÇó Date of birth</p>\r\n                                <p>ÔÇó Address</p>\r\n                                <p>ÔÇó Bank account information (for payouts)</p>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* 3. How We Use Your Information */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">3. How We Use Your Information</h2>\r\n                        <p>We use the information we collect to:</p>\r\n                        <div className=\"space-y-2 ml-4 mt-3\">\r\n                            <p>ÔÇó Provide and maintain the Service</p>\r\n                            <p>ÔÇó Process transactions and send related information</p>\r\n                            <p>ÔÇó Send promotional communications (with your consent)</p>\r\n                            <p>ÔÇó Respond to your comments, questions, and requests</p>\r\n                            <p>ÔÇó Monitor and analyze usage patterns and trends</p>\r\n                            <p>ÔÇó Detect, investigate, and prevent fraudulent transactions</p>\r\n                            <p>ÔÇó Comply with legal obligations</p>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* 4. Data Retention */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">4. Data Retention</h2>\r\n                        <p>\r\n                            We retain your personal data for as long as your account is active or as needed to provide\r\n                            services. You can request deletion of your account at any time, which will delete personal\r\n                            data within 30 days (except where legally required to retain).\r\n                        </p>\r\n                    </section>\r\n\r\n                    {/* 5. Data Security */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">5. Data Security</h2>\r\n                        <p>\r\n                            We implement appropriate technical and organizational measures to protect your personal\r\n                            data against unauthorized access, alteration, disclosure, or destruction. However, no\r\n                            method of transmission over the Internet is 100% secure.\r\n                        </p>\r\n                        <p className=\"mt-3\">Security measures include:</p>\r\n                        <div className=\"space-y-2 ml-4 mt-2\">\r\n                            <p>ÔÇó Encryption of sensitive data</p>\r\n                            <p>ÔÇó Password hashing (bcryptjs)</p>\r\n                            <p>ÔÇó Secure HTTPS connections</p>\r\n                            <p>ÔÇó Regular security audits</p>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* 6. Cookies and Tracking */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">6. Cookies and Tracking</h2>\r\n                        <p>\r\n                            We use cookies to remember your preferences and authenticate your sessions. You can\r\n                            control cookies through your browser settings. Disabling cookies may affect service functionality.\r\n                        </p>\r\n                    </section>\r\n\r\n                    {/* 7. Third-Party Services */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">7. Third-Party Services</h2>\r\n                        <p>\r\n                            We use third-party service providers for payment processing (Stripe, Flutterwave),\r\n                            analytics, and hosting. These providers have their own privacy policies. We encourage\r\n                            you to review their policies.\r\n                        </p>\r\n                    </section>\r\n\r\n                    {/* 8. Your Privacy Rights */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">8. Your Privacy Rights</h2>\r\n                        <p>Depending on your location, you may have the following rights:</p>\r\n                        <div className=\"space-y-2 ml-4 mt-3\">\r\n                            <p>ÔÇó <strong>GDPR (EU):</strong> Right to access, rectify, erase, restrict, and data portability</p>\r\n                            <p>ÔÇó <strong>CCPA (California):</strong> Right to know, delete, and opt-out of sales</p>\r\n                            <p>ÔÇó <strong>General:</strong> Right to withdraw consent and lodge complaints</p>\r\n                        </div>\r\n                        <p className=\"mt-3\">\r\n                            To exercise these rights, contact us at privacy@nyasawave.com.\r\n                        </p>\r\n                    </section>\r\n\r\n                    {/* 9. Children's Privacy */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">9. Children's Privacy</h2>\r\n                        <p>\r\n                            Our Service is not intended for children under 13. We do not knowingly collect personal\r\n                            data from children. If we become aware of such collection, we will delete the information\r\n                            and terminate the account.\r\n                        </p>\r\n                    </section>\r\n\r\n                    {/* 10. International Transfers */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">10. International Transfers</h2>\r\n                        <p>\r\n                            Your information may be transferred to, stored in, and processed in countries other than\r\n                            your country of residence. These countries may have data protection laws that differ from\r\n                            your home country.\r\n                        </p>\r\n                    </section>\r\n\r\n                    {/* 11. Contact Us */}\r\n                    <section>\r\n                        <h2 className=\"text-2xl font-bold text-white mb-3\">11. Contact Us</h2>\r\n                        <p>\r\n                            If you have questions about this Privacy Policy or our privacy practices:\r\n                        </p>\r\n                        <p className=\"mt-3\">\r\n                            Email: privacy@nyasawave.com<br />\r\n                            Address: Lilongwe, Malawi\r\n                        </p>\r\n                    </section>\r\n\r\n                    {/* Updates */}\r\n                    <div className=\"border-t border-zinc-700 pt-8 mt-12\">\r\n                        <p className=\"text-sm text-zinc-500\">\r\n                            ┬® 2026 NyasaWave. This Privacy Policy may be updated at any time. Changes will be\r\n                            posted to this page with an updated revision date.\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\refund\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\register\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":51,"column":62,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[3383,3454],"text":"Choosing &quot;Artist\" pre-fills artist features. You can change role later."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[3383,3454],"text":"Choosing &ldquo;Artist\" pre-fills artist features. You can change role later."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[3383,3454],"text":"Choosing &#34;Artist\" pre-fills artist features. You can change role later."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[3383,3454],"text":"Choosing &rdquo;Artist\" pre-fills artist features. You can change role later."},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":51,"column":69,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[3383,3454],"text":"Choosing \"Artist&quot; pre-fills artist features. You can change role later."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[3383,3454],"text":"Choosing \"Artist&ldquo; pre-fills artist features. You can change role later."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[3383,3454],"text":"Choosing \"Artist&#34; pre-fills artist features. You can change role later."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[3383,3454],"text":"Choosing \"Artist&rdquo; pre-fills artist features. You can change role later."},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\n\r\nexport default function RegisterPage() {\r\n  const { register } = useAuth();\r\n  const router = useRouter();\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [role, setRole] = useState<\"artist\" | \"fan\" | \"business\">(\"artist\");\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const submit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    const res = await register({ name, email, password, role });\r\n    if (!res.ok) setError(res.error || 'Unable to register');\r\n    else router.push('/signin');\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen flex items-center justify-center px-6 py-24\">\r\n      <form onSubmit={submit} className=\"w-full max-w-md bg-gradient-to-br from-zinc-900/60 to-zinc-900/40 border border-zinc-800 p-6 rounded-2xl card-anim fade-in\">\r\n        <h1 className=\"text-2xl font-semibold mb-4\">Create an account</h1>\r\n        {error && <div className=\"text-sm text-red-400 mb-3\">{error}</div>}\r\n        <label htmlFor=\"name\" className=\"block text-sm text-zinc-400 mb-2\">Name</label>\r\n        <input id=\"name\" value={name} onChange={(e) => setName(e.target.value)} placeholder=\"Your name\" className=\"w-full mb-3 px-3 py-2 rounded bg-zinc-800 border border-zinc-700\" />\r\n        <label htmlFor=\"registerEmail\" className=\"block text-sm text-zinc-400 mb-2\">Email</label>\r\n        <input id=\"registerEmail\" value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Email\" className=\"w-full mb-3 px-3 py-2 rounded bg-zinc-800 border border-zinc-700\" />\r\n        <label htmlFor=\"registerPassword\" className=\"block text-sm text-zinc-400 mb-2\">Password</label>\r\n        <input id=\"registerPassword\" value={password} onChange={(e) => setPassword(e.target.value)} placeholder=\"Password\" type=\"password\" className=\"w-full mb-3 px-3 py-2 rounded bg-zinc-800 border border-zinc-700\" />\r\n\r\n        <fieldset className=\"mb-4\">\r\n          <legend className=\"mb-3 text-sm text-zinc-400\">I am a</legend>\r\n          <div className=\"flex gap-2\">\r\n            <label htmlFor=\"roleArtist\" className={`px-3 py-2 rounded cursor-pointer ${role === 'artist' ? 'bg-emerald-400 text-black' : 'bg-zinc-800 text-zinc-300'}`}>\r\n              <input className=\"hidden\" id=\"roleArtist\" checked={role === 'artist'} onChange={() => setRole('artist')} type=\"radio\" name=\"role\" /> Artist\r\n            </label>\r\n            <label htmlFor=\"roleFan\" className={`px-3 py-2 rounded cursor-pointer ${role === 'fan' ? 'bg-emerald-400 text-black' : 'bg-zinc-800 text-zinc-300'}`}>\r\n              <input className=\"hidden\" id=\"roleFan\" checked={role === 'fan'} onChange={() => setRole('fan')} type=\"radio\" name=\"role\" /> Fan\r\n            </label>\r\n            <label htmlFor=\"roleBusiness\" className={`px-3 py-2 rounded cursor-pointer ${role === 'business' ? 'bg-emerald-400 text-black' : 'bg-zinc-800 text-zinc-300'}`}>\r\n              <input className=\"hidden\" id=\"roleBusiness\" checked={role === 'business'} onChange={() => setRole('business')} type=\"radio\" name=\"role\" /> Business\r\n            </label>\r\n          </div>\r\n        </fieldset>\r\n\r\n        <div className=\"text-xs text-zinc-500 mb-3\">Choosing \"Artist\" pre-fills artist features. You can change role later.</div>\r\n        <button className=\"w-full btn-cta bg-emerald-400 text-black\">Create account</button>\r\n\r\n        <div className=\"mt-4 text-center text-sm text-zinc-400\">\r\n          Already have an account?\r\n          <a href=\"/signin\" className=\"text-emerald-400 hover:text-emerald-300 transition ml-1\">\r\n            Sign in\r\n          </a>\r\n        </div>\r\n      </form>\r\n    </main>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\seller-agreement\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\signin\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\subscribe\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\terms\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\track\\[id]\\page.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nE:\\nyasawave-projects\\nyasawave\\app\\track\\[id]\\page.tsx:46:5\n  44 |\n  45 |   useEffect(() => {\n> 46 |     fetchTrack();\n     |     ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  47 |   }, [fetchTrack]);\n  48 |\n  49 |   if (loading) return <div className=\"min-h-screen pt-32 text-center text-zinc-400\">Loading...</div>;","line":46,"column":5,"nodeType":null,"endLine":46,"endColumn":15},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":76,"column":13,"nodeType":"JSXOpeningElement","endLine":80,"endColumn":15},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":148,"column":21,"nodeType":"JSXOpeningElement","endLine":152,"endColumn":23}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { usePlayer } from '../../context/PlayerContext';\r\nimport { useAudioPlayer } from '../../context/AudioPlayerContext';\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { songs } from '@/data/songs';\r\n\r\ninterface Track {\r\n  id: string;\r\n  title: string;\r\n  artist: string;\r\n  artistId?: string;\r\n  url: string;\r\n  cover?: string;\r\n  coverArt?: string;\r\n  genre?: string;\r\n  description?: string;\r\n  plays: number;\r\n  likes: number;\r\n  [key: string]: unknown;\r\n}\r\n\r\nexport default function TrackDetail({ params }: { params: { id: string } }) {\r\n  const { currentSong, isPlaying } = usePlayer();\r\n  const { playTrack } = useAudioPlayer();\r\n  const [track, setTrack] = useState<Track | null>(null);\r\n  const [liked, setLiked] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const fetchTrack = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch(`/api/artist/releases/${params.id}`);\r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        setTrack(data);\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to load track', err);\r\n    }\r\n    setLoading(false);\r\n  }, [params.id]);\r\n\r\n  useEffect(() => {\r\n    fetchTrack();\r\n  }, [fetchTrack]);\r\n\r\n  if (loading) return <div className=\"min-h-screen pt-32 text-center text-zinc-400\">Loading...</div>;\r\n  if (!track) return <div className=\"min-h-screen pt-32 text-center text-zinc-400\">Track not found</div>;\r\n\r\n  const isCurrentlyPlaying = currentSong?.id === track.id && isPlaying;\r\n\r\n  const handlePlay = () => {\r\n    playTrack({\r\n      id: track.id,\r\n      title: track.title,\r\n      artist: track.artist,\r\n      url: track.url,\r\n      coverArt: track.coverArt,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-gradient-to-b from-black via-zinc-900 to-black text-white pt-32 pb-20\">\r\n      <div className=\"max-w-4xl mx-auto px-6\">\r\n        {/* Back Link */}\r\n        <Link href=\"/discover\" className=\"text-emerald-400 hover:underline mb-8 inline-block\">\r\n          ÔåÉ Back to Discover\r\n        </Link>\r\n\r\n        {/* Track Hero */}\r\n        <div className=\"grid md:grid-cols-2 gap-12 mb-16 items-start\">\r\n          {/* Cover Art */}\r\n          <div>\r\n            <img\r\n              src={(track.cover || track.coverArt) as string}\r\n              alt={track.title}\r\n              className=\"w-full rounded-lg shadow-2xl aspect-square object-cover bg-zinc-700\"\r\n            />\r\n          </div>\r\n\r\n          {/* Track Info */}\r\n          <div>\r\n            <p className=\"text-emerald-400 text-sm font-semibold uppercase mb-2\">{(track.genre || 'Music') as string}</p>\r\n            <h1 className=\"text-5xl font-bold mb-4\">{track.title}</h1>\r\n            <Link\r\n              href={`/artist/${track.artistId || 'unknown'}`}\r\n              className=\"text-xl text-zinc-300 hover:text-white transition mb-8 inline-block\"\r\n            >\r\n              By {track.artist}\r\n            </Link>\r\n\r\n            {/* Description */}\r\n            <p className=\"text-zinc-300 mb-8 leading-relaxed\">{(track.description || 'No description') as string}</p>\r\n\r\n            {/* Stats */}\r\n            <div className=\"flex gap-8 mb-8 py-6 border-t border-b border-zinc-800\">\r\n              <div>\r\n                <p className=\"text-zinc-400 text-sm\">Plays</p>\r\n                <p className=\"text-2xl font-bold text-emerald-400\">{(track.plays || 0).toLocaleString()}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-zinc-400 text-sm\">Likes</p>\r\n                <p className=\"text-2xl font-bold text-pink-400\">{liked ? (track.likes || 0) + 1 : (track.likes || 0)}</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"flex gap-4 mb-8\">\r\n              <button\r\n                onClick={handlePlay}\r\n                className={`flex-1 py-4 rounded-lg font-bold transition text-lg ${isCurrentlyPlaying\r\n                  ? 'bg-emerald-500 text-black hover:bg-emerald-400'\r\n                  : 'bg-emerald-500 text-black hover:bg-emerald-400'\r\n                  }`}\r\n              >\r\n                {isCurrentlyPlaying ? 'ÔÅ© Pause' : 'ÔûÂ Play'}\r\n              </button>\r\n              <button\r\n                onClick={() => setLiked(!liked)}\r\n                className={`px-6 py-4 rounded-lg font-bold transition ${liked\r\n                  ? 'bg-pink-500 text-white'\r\n                  : 'bg-zinc-800 text-white hover:bg-zinc-700'\r\n                  }`}\r\n              >\r\n                {liked ? 'ÔØñ´©Å Liked' : '­ƒñì Like'}\r\n              </button>\r\n            </div>\r\n\r\n            {/* Share Button */}\r\n            <button className=\"w-full bg-zinc-800 hover:bg-zinc-700 text-white py-3 rounded-lg font-semibold transition\">\r\n              ­ƒôñ Share\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* More from Artist */}\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold mb-6\">More from {track.artist}</h2>\r\n          <div className=\"grid md:grid-cols-3 gap-6\">\r\n            {songs\r\n              .filter((t) => t.artistId === track.artistId && t.id !== track.id)\r\n              .slice(0, 3)\r\n              .map((t) => (\r\n                <Link key={t.id} href={`/track/${t.id}`} className=\"group cursor-pointer\">\r\n                  <div className=\"relative mb-4 overflow-hidden rounded-lg\">\r\n                    <img\r\n                      src={t.cover}\r\n                      alt={t.title}\r\n                      className=\"w-full aspect-square object-cover group-hover:scale-110 transition duration-300 bg-zinc-700\"\r\n                    />\r\n                    <button\r\n                      onClick={(e) => {\r\n                        e.preventDefault();\r\n                        playTrack({\r\n                          id: t.id,\r\n                          title: t.title,\r\n                          artist: t.artist,\r\n                          url: t.src || t.streamUrl || '',\r\n                          coverArt: t.cover,\r\n                        });\r\n                      }}\r\n                      className=\"absolute bottom-4 right-4 bg-emerald-500 text-black p-3 rounded-full opacity-0 group-hover:opacity-100 transition transform group-hover:scale-110\"\r\n                      aria-label=\"Play song\"\r\n                    >\r\n                      ÔûÂ\r\n                    </button>\r\n                  </div>\r\n                  <h3 className=\"font-semibold group-hover:text-emerald-400 transition\">{t.title}</h3>\r\n                  <p className=\"text-sm text-zinc-400\">{t.artist}</p>\r\n                </Link>\r\n              ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\types\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\upload\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\nyasawave-projects\\nyasawave\\app\\utils\\validation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]

